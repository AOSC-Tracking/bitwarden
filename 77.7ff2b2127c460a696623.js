"use strict";(self.webpackChunk_bitwarden_web_vault=self.webpackChunk_bitwarden_web_vault||[]).push([[77],{97077:(e,n,t)=>{t.r(n),t.d(n,{AcceptEmergencyComponent:()=>U});var i=t(23306),c=t(71146),r=t(29428),a=t(2978),s=t(24852),u=t(75557),o=t(99721),l=t(78627),d=t(58172),m=t(19419),g=t(82933),p=function(e,n,t,i){return new(t||(t=Promise))((function(c,r){function a(e){try{u(i.next(e))}catch(n){r(n)}}function s(e){try{u(i.throw(e))}catch(n){r(n)}}function u(e){var n;e.done?c(e.value):(n=e.value,n instanceof t?n:new t((function(e){e(n)}))).then(a,s)}u((i=i.apply(e,n||[])).next())}))};function _(e,n){1&e&&(s.TgZ(0,"div",2),s._uU(1,"\n  "),s.TgZ(2,"div"),s._uU(3,"\n    "),s._UZ(4,"img",3),s._uU(5,"\n    "),s.TgZ(6,"p",4),s._uU(7,"\n      "),s._UZ(8,"i",5),s.ALo(9,"i18n"),s._uU(10,"\n      "),s.TgZ(11,"span",6),s._uU(12),s.ALo(13,"i18n"),s.qZA(),s._uU(14,"\n    "),s.qZA(),s._uU(15,"\n  "),s.qZA(),s._uU(16,"\n"),s.qZA()),2&e&&(s.xp6(8),s.s9C("title",s.lcZ(9,2,"loading")),s.xp6(4),s.Oqu(s.lcZ(13,4,"loading")))}const Z=function(e){return{email:e}};function h(e,n){if(1&e&&(s.TgZ(0,"div",7),s._uU(1,"\n  "),s.TgZ(2,"div",8),s._uU(3,"\n    "),s.TgZ(4,"div",9),s._uU(5,"\n      "),s.TgZ(6,"p",10),s._uU(7),s.ALo(8,"i18n"),s.qZA(),s._uU(9,"\n      "),s.TgZ(10,"div",11),s._uU(11,"\n        "),s.TgZ(12,"div",12),s._uU(13,"\n          "),s.TgZ(14,"p",4),s._uU(15),s.qZA(),s._uU(16,"\n          "),s.TgZ(17,"p"),s._uU(18),s.ALo(19,"i18n"),s.qZA(),s._uU(20,"\n          "),s._UZ(21,"hr"),s._uU(22,"\n          "),s.TgZ(23,"div",13),s._uU(24,"\n            "),s.TgZ(25,"a",14),s._uU(26),s.ALo(27,"i18n"),s.qZA(),s._uU(28,"\n            "),s.TgZ(29,"a",15),s._uU(30),s.ALo(31,"i18n"),s.qZA(),s._uU(32,"\n          "),s.qZA(),s._uU(33,"\n        "),s.qZA(),s._uU(34,"\n      "),s.qZA(),s._uU(35,"\n    "),s.qZA(),s._uU(36,"\n  "),s.qZA(),s._uU(37,"\n"),s.qZA()),2&e){const e=s.oxw();s.xp6(7),s.Oqu(s.lcZ(8,7,"emergencyAccess")),s.xp6(8),s.hij("\n            ",e.name,"\n          "),s.xp6(3),s.Oqu(s.lcZ(19,9,"acceptEmergencyAccess")),s.xp6(7),s.Q6J("queryParams",s.VKq(15,Z,e.email)),s.xp6(1),s.hij("\n              ",s.lcZ(27,11,"logIn"),"\n            "),s.xp6(3),s.Q6J("queryParams",s.VKq(17,Z,e.email)),s.xp6(1),s.hij("\n              ",s.lcZ(31,13,"createAccount"),"\n            ")}}class U extends i.o{constructor(e,n,t,i,c,r){super(e,n,t,i,c),this.emergencyAccessService=r,this.requiredParameters=["id","name","email","token"],this.failedShortMessage="emergencyInviteAcceptFailedShort",this.failedMessage="emergencyInviteAcceptFailed"}authedHandler(e){return p(this,void 0,void 0,(function*(){this.actionPromise=this.emergencyAccessService.accept(e.id,e.token),yield this.actionPromise,yield this.stateService.setEmergencyAccessInvitation(null),this.platformUtilService.showToast("success",this.i18nService.t("inviteAccepted"),this.i18nService.t("emergencyInviteAcceptedDesc"),{timeout:1e4}),this.router.navigate(["/vault"])}))}unauthedHandler(e){return p(this,void 0,void 0,(function*(){this.name=e.name,null!=this.name&&(this.name=this.name.replace(/\+/g," ")),yield this.stateService.setEmergencyAccessInvitation(e)}))}}U.ɵfac=function(e){return new(e||U)(s.Y36(u.F0),s.Y36(o.P),s.Y36(l.D),s.Y36(u.gz),s.Y36(d.b),s.Y36(a.d))},U.ɵcmp=s.Xpm({type:U,selectors:[["ng-component"]],standalone:!0,features:[s.qOj,s.jDz],decls:4,vars:2,consts:[["class","mt-5 d-flex justify-content-center",4,"ngIf"],["class","container",4,"ngIf"],[1,"mt-5","d-flex","justify-content-center"],["alt","Bitwarden",1,"mb-4","logo","logo-themed"],[1,"text-center"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin","bwi-2x","text-muted",3,"title"],[1,"sr-only"],[1,"container"],[1,"row","justify-content-md-center","mt-5"],[1,"col-5"],[1,"lead","text-center","mb-4"],[1,"card","d-block"],[1,"card-body"],[1,"d-flex"],["routerLink","/login",1,"btn","btn-primary","btn-block",3,"queryParams"],["routerLink","/register",1,"btn","btn-primary","btn-block","ml-2","mt-0",3,"queryParams"]],template:function(e,n){1&e&&(s.YNc(0,_,17,6,"div",0),s._uU(1,"\n"),s.YNc(2,h,38,19,"div",1),s._uU(3,"\n")),2&e&&(s.Q6J("ngIf",n.loading),s.xp6(2),s.Q6J("ngIf",!n.loading&&!n.authed))},dependencies:[c.m,m.O5,u.rH,g.C,r.x],encapsulation:2})}}]);
//# sourceMappingURL=77.7ff2b2127c460a696623.js.map