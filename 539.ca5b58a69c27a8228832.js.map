{"version":3,"file":"539.ca5b58a69c27a8228832.js","mappings":"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","sources":["webpack://@bitwarden/web-vault/../../libs/components/src/navigation/navigation.module.ts","webpack://@bitwarden/web-vault/../../libs/components/src/layout/layout.component.ts","webpack://@bitwarden/web-vault/../../libs/components/src/layout/layout.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/layout/layout.module.ts","webpack://@bitwarden/web-vault/./src/app/layouts/header/header.module.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/sm-shared.module.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/layout/layout.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/layout/layout.component.html","webpack://@bitwarden/web-vault/../../libs/components/src/navigation/nav-base.component.ts","webpack://@bitwarden/web-vault/../../libs/components/src/navigation/nav-item.component.html","webpack://@bitwarden/web-vault/../../libs/components/src/navigation/nav-item.component.ts","webpack://@bitwarden/web-vault/../../libs/components/src/navigation/nav-group.component.html","webpack://@bitwarden/web-vault/../../libs/components/src/navigation/nav-group.component.ts","webpack://@bitwarden/web-vault/../../libs/components/src/navigation/nav-divider.component.ts","webpack://@bitwarden/web-vault/../../libs/components/src/navigation/nav-divider.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/layout/org-switcher.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/layout/org-switcher.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/layout/navigation.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/layout/navigation.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/overview/onboarding.module.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/dialogs/bulk-status-dialog.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/dialogs/bulk-status-dialog.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/models/view/project-list.view.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/models/view/project.view.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/models/requests/project.request.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/models/responses/project-list-item.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/models/responses/project.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/project.service.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/dialog/project-delete-dialog.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/dialog/project-delete-dialog.component.ts","webpack://@bitwarden/web-vault/../../libs/components/src/form-field/bit-validators/trim.validator.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/dialog/project-dialog.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/dialog/project-dialog.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/models/view/secret-list.view.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/models/view/secret-project.view.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/models/view/secret.view.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/secrets/requests/secret.request.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/secrets/responses/secret-project.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/secrets/responses/secret-list-item.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/secrets/responses/secret-with-projects-list.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/secrets/responses/secret.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/secrets/secret.service.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/secrets/dialog/secret-delete.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/secrets/dialog/secret-delete.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/secrets/dialog/secret-dialog.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/secrets/dialog/secret-dialog.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/models/view/service-account.view.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/models/requests/service-account.request.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/models/responses/service-account.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/service-account.service.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/dialog/service-account-dialog.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/dialog/service-account-dialog.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/secrets-list.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/secrets-list.component.ts","webpack://@bitwarden/web-vault/./src/app/layouts/header/web-header.component.html","webpack://@bitwarden/web-vault/./src/app/layouts/header/web-header.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/new-menu.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/projects-list.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/new-menu.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/projects-list.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/overview/onboarding-task.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/overview/onboarding-task.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/overview/onboarding.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/overview/onboarding.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/overview/section.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/overview/section.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/overview/overview.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/overview/overview.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/overview/overview-routing.module.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/overview/overview.module.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/access-policy-selector/models/enums/ap-item.enum.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/access-policy-selector/models/enums/ap-permission.enum.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/access-policy-selector/access-policy-selector.service.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/models/view/access-policy.view.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/access-policy-selector/models/ap-item-view.type.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/models/view/potential-grantee.view.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/models/requests/access-policies-create.request.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/models/requests/people-access-policies.request.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/models/responses/access-policy.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/models/responses/project-access-policies.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/models/requests/access-policy-update.request.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/models/requests/access-policy.request.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/models/requests/granted-policy.request.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/models/responses/potential-grantee.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/models/responses/project-people-access-policies.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/models/responses/service-account-people-access-policies.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/access-policy.service.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/access-policy-selector/access-policy-selector.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/access-policy-selector/access-policy-selector.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/project/project-people.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/project/project-people.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/access-policy-selector/models/ap-item-value.type.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/project/project-secrets.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/project/project-secrets.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/access-selector.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/access-policies/access-selector.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/project/project-service-accounts.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/project/project-service-accounts.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/project/project.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/project/project.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/dialogs/bulk-confirmation-dialog.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/dialogs/bulk-confirmation-dialog.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/projects/projects.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/projects/projects.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/projects-routing.module.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/projects/projects.module.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/secrets/secrets.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/secrets/secrets.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/secrets/secrets-routing.module.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/secrets/secrets.module.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/models/requests/access-token.request.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/models/requests/revoke-access-tokens.request.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/models/responses/access-token-creation.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/models/responses/access-tokens.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/models/view/access-token.view.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/access/access.service.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/access/dialogs/access-token-dialog.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/access/dialogs/access-token-dialog.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/access/dialogs/expiration-options.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/access/dialogs/expiration-options.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/access/dialogs/access-token-create-dialog.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/access/access-list.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/access/dialogs/access-token-create-dialog.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/access/access-list.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/access/access-tokens.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/access/access-tokens.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/event-logs/service-account-event-log-api.service.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/event-logs/service-accounts-events.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/event-logs/service-accounts-events.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/people/service-account-people.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/people/service-account-people.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/projects/service-account-projects.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/projects/service-account-projects.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/service-account.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/service-account.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/dialog/service-account-delete-dialog.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/dialog/service-account-delete-dialog.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/service-accounts-list.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/service-accounts-list.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/service-accounts.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/service-accounts.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/service-accounts-routing.module.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/guards/service-account-access.guard.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/service-accounts/service-accounts.module.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/models/error/sm-import-error.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/models/requests/sm-import.request.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/models/requests/sm-imported-project.request.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/models/requests/sm-imported-secret.request.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/models/responses/sm-exported-project.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/models/responses/sm-exported-secret.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/models/responses/sm-export.response.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/models/sm-export.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/services/sm-porting-api.service.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/services/sm-porting.service.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/porting/sm-export.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/porting/sm-export.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/dialog/sm-import-error-dialog.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/dialog/sm-import-error-dialog.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/porting/sm-import.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/porting/sm-import.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/settings-routing.module.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/settings/settings.module.ts","webpack://@bitwarden/web-vault/../../libs/components/src/icon/icons/no-access.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/org-suspended.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/shared/org-suspended.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/trash/dialog/secret-hard-delete.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/trash/dialog/secret-hard-delete.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/trash/dialog/secret-restore.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/trash/dialog/secret-restore.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/trash/trash.component.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/trash/trash.component.html","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/trash/trash-routing.module.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/trash/trash.module.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/sm-routing.module.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/guards/sm.guard.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/guards/sm-org-enabled.guard.ts","webpack://@bitwarden/web-vault/../../bitwarden_license/bit-web/src/app/secrets-manager/secrets-manager.module.ts","webpack://@bitwarden/web-vault/../../libs/components/src/progress/progress.component.html","webpack://@bitwarden/web-vault/../../libs/components/src/progress/progress.component.ts"],"sourcesContent":["import { OverlayModule } from \"@angular/cdk/overlay\";\nimport { CommonModule } from \"@angular/common\";\nimport { NgModule } from \"@angular/core\";\nimport { RouterModule } from \"@angular/router\";\n\nimport { IconButtonModule } from \"../icon-button/icon-button.module\";\nimport { SharedModule } from \"../shared/shared.module\";\n\nimport { NavDividerComponent } from \"./nav-divider.component\";\nimport { NavGroupComponent } from \"./nav-group.component\";\nimport { NavItemComponent } from \"./nav-item.component\";\n\n@NgModule({\n  imports: [CommonModule, SharedModule, IconButtonModule, OverlayModule, RouterModule],\n  declarations: [NavDividerComponent, NavGroupComponent, NavItemComponent],\n  exports: [NavDividerComponent, NavGroupComponent, NavItemComponent],\n})\nexport class NavigationModule {}\n","import { Component, Input } from \"@angular/core\";\nimport { RouterModule } from \"@angular/router\";\n\nimport { LinkModule } from \"../link\";\nimport { SharedModule } from \"../shared\";\n\nexport type LayoutVariant = \"primary\" | \"secondary\";\n\n@Component({\n  selector: \"bit-layout\",\n  templateUrl: \"layout.component.html\",\n  standalone: true,\n  imports: [SharedModule, LinkModule, RouterModule],\n})\nexport class LayoutComponent {\n  protected mainContentId = \"main-content\";\n\n  @Input() variant: LayoutVariant = \"primary\";\n\n  focusMainContent() {\n    document.getElementById(this.mainContentId)?.focus();\n  }\n}\n","<div\n  class=\"tw-fixed tw-z-50 tw-w-full tw-flex tw-justify-center tw-opacity-0 focus-within:tw-opacity-100 tw-pointer-events-none focus-within:tw-pointer-events-auto\"\n>\n  <nav class=\"tw-bg-background-alt3 tw-rounded-md tw-rounded-t-none tw-py-2 tw-text-alt2\">\n    <a\n      bitLink\n      class=\"tw-mx-6 focus-visible:before:!tw-ring-0\"\n      [fragment]=\"mainContentId\"\n      [routerLink]=\"[]\"\n      (click)=\"focusMainContent()\"\n      linkType=\"light\"\n      >{{ \"skipToContent\" | i18n }}</a\n    >\n  </nav>\n</div>\n<div class=\"tw-flex tw-w-full\">\n  <aside\n    [ngStyle]=\"\n      variant === 'secondary' && {\n        '--color-text-alt2': 'var(--color-text-main)',\n        '--color-background-alt3': 'var(--color-secondary-100)',\n        '--color-background-alt4': 'var(--color-secondary-300)',\n        '--color-secondary-300': 'var(--color-secondary-500)'\n      }\n    \"\n    class=\"tw-fixed tw-inset-y-0 tw-left-0 tw-h-screen tw-w-60 tw-overflow-auto tw-bg-background-alt3\"\n  >\n    <ng-content select=\"[slot=sidebar]\"></ng-content>\n  </aside>\n  <main\n    [id]=\"mainContentId\"\n    tabindex=\"-1\"\n    class=\"tw-ml-60 tw-min-h-screen tw-min-w-0 tw-flex-1 tw-bg-background tw-p-6\"\n  >\n    <ng-content></ng-content>\n  </main>\n</div>\n","import { NgModule } from \"@angular/core\";\n\nimport { LayoutComponent as BitLayoutComponent, NavigationModule } from \"@bitwarden/components\";\nimport { SharedModule } from \"@bitwarden/web-vault/app/shared/shared.module\";\n\nimport { LayoutComponent } from \"./layout.component\";\nimport { NavigationComponent } from \"./navigation.component\";\nimport { OrgSwitcherComponent } from \"./org-switcher.component\";\n\n@NgModule({\n  imports: [SharedModule, NavigationModule, BitLayoutComponent],\n  declarations: [LayoutComponent, NavigationComponent, OrgSwitcherComponent],\n})\nexport class LayoutModule {}\n","import { NgModule } from \"@angular/core\";\n\nimport { DynamicAvatarComponent } from \"../../components/dynamic-avatar.component\";\nimport { SharedModule } from \"../../shared\";\nimport { ProductSwitcherModule } from \"../product-switcher/product-switcher.module\";\n\nimport { WebHeaderComponent } from \"./web-header.component\";\n\n@NgModule({\n  imports: [SharedModule, DynamicAvatarComponent, ProductSwitcherModule],\n  declarations: [WebHeaderComponent],\n  exports: [WebHeaderComponent],\n})\nexport class HeaderModule {}\n","import { NgModule } from \"@angular/core\";\n\nimport {\n  MultiSelectModule,\n  SearchModule,\n  SelectModule,\n  NoItemsModule,\n} from \"@bitwarden/components\";\nimport { CoreOrganizationModule } from \"@bitwarden/web-vault/app/admin-console/organizations/core\";\nimport { DynamicAvatarComponent } from \"@bitwarden/web-vault/app/components/dynamic-avatar.component\";\nimport { HeaderModule } from \"@bitwarden/web-vault/app/layouts/header/header.module\";\nimport { ProductSwitcherModule } from \"@bitwarden/web-vault/app/layouts/product-switcher/product-switcher.module\";\nimport { SharedModule } from \"@bitwarden/web-vault/app/shared\";\n\nimport { AccessPolicySelectorComponent } from \"./access-policies/access-policy-selector/access-policy-selector.component\";\nimport { AccessSelectorComponent } from \"./access-policies/access-selector.component\";\nimport { BulkConfirmationDialogComponent } from \"./dialogs/bulk-confirmation-dialog.component\";\nimport { BulkStatusDialogComponent } from \"./dialogs/bulk-status-dialog.component\";\nimport { NewMenuComponent } from \"./new-menu.component\";\nimport { OrgSuspendedComponent } from \"./org-suspended.component\";\nimport { ProjectsListComponent } from \"./projects-list.component\";\nimport { SecretsListComponent } from \"./secrets-list.component\";\n\n@NgModule({\n  imports: [\n    SharedModule,\n    ProductSwitcherModule,\n    MultiSelectModule,\n    CoreOrganizationModule,\n    NoItemsModule,\n    SelectModule,\n    DynamicAvatarComponent,\n    SearchModule,\n    HeaderModule,\n  ],\n  exports: [\n    AccessPolicySelectorComponent,\n    AccessSelectorComponent,\n    BulkConfirmationDialogComponent,\n    BulkStatusDialogComponent,\n    HeaderModule,\n    NewMenuComponent,\n    NoItemsModule,\n    ProjectsListComponent,\n    SearchModule,\n    SecretsListComponent,\n    SelectModule,\n    SharedModule,\n  ],\n  declarations: [\n    AccessPolicySelectorComponent,\n    AccessSelectorComponent,\n    BulkConfirmationDialogComponent,\n    BulkStatusDialogComponent,\n    BulkStatusDialogComponent,\n    NewMenuComponent,\n    OrgSuspendedComponent,\n    ProjectsListComponent,\n    SecretsListComponent,\n  ],\n  providers: [],\n  bootstrap: [],\n})\nexport class SecretsManagerSharedModule {}\n","import { Component, OnInit } from \"@angular/core\";\n\n@Component({\n  selector: \"sm-layout\",\n  templateUrl: \"./layout.component.html\",\n})\nexport class LayoutComponent implements OnInit {\n  ngOnInit() {\n    document.body.classList.remove(\"layout_frontend\");\n  }\n}\n","<bit-layout>\n  <router-outlet slot=\"sidebar\" name=\"sidebar\"></router-outlet>\n  <router-outlet></router-outlet>\n</bit-layout>\n","import { Directive, EventEmitter, Input, Output } from \"@angular/core\";\n\n/**\n * Base class used in `NavGroupComponent` and `NavItemComponent`\n */\n@Directive()\nexport abstract class NavBaseComponent {\n  /**\n   * Text to display in main content\n   */\n  @Input() text: string;\n\n  /**\n   * `aria-label` for main content\n   */\n  @Input() ariaLabel: string;\n\n  /**\n   * Optional icon, e.g. `\"bwi-collection\"`\n   */\n  @Input() icon: string;\n\n  /**\n   * Route to be passed to internal `routerLink`\n   */\n  @Input() route: string | any[];\n\n  /**\n   * If this item is used within a tree, set `variant` to `\"tree\"`\n   */\n  @Input() variant: \"default\" | \"tree\" = \"default\";\n\n  /**\n   * Depth level when nested inside of a `'tree'` variant\n   */\n  @Input() treeDepth = 0;\n\n  /**\n   * If `true`, do not change styles when nav item is active.\n   */\n  @Input() hideActiveStyles = false;\n\n  /**\n   * Fires when main content is clicked\n   */\n  @Output() mainContentClicked: EventEmitter<MouseEvent> = new EventEmitter();\n}\n","<div\n  class=\"tw-relative\"\n  [ngClass]=\"[\n    showActiveStyles ? 'tw-bg-background-alt4' : 'tw-bg-background-alt3',\n    fvwStyles$ | async\n  ]\"\n>\n  <div\n    [ngStyle]=\"{\n      'padding-left': (variant === 'tree' ? 2.5 : 1) + treeDepth * 1.5 + 'rem'\n    }\"\n    class=\"tw-relative tw-flex tw-items-center tw-pr-4\"\n    [ngClass]=\"[variant === 'tree' ? 'tw-py-1' : 'tw-py-2']\"\n  >\n    <div\n      #slotStart\n      class=\"[&>*:focus-visible::before]:!tw-ring-text-alt2 [&>*:hover]:!tw-border-text-alt2 [&>*]:!tw-text-alt2\"\n    >\n      <ng-content select=\"[slot=start]\"></ng-content>\n    </div>\n    <!-- Default content for #slotStart (for consistent sizing) -->\n    <div\n      *ngIf=\"slotStart.childElementCount === 0\"\n      [ngClass]=\"{\n        'tw-w-0': variant !== 'tree'\n      }\"\n    >\n      <button\n        type=\"button\"\n        class=\"tw-invisible\"\n        [bitIconButton]=\"'bwi-angle-down'\"\n        size=\"small\"\n        aria-hidden=\"true\"\n      ></button>\n    </div>\n\n    <ng-container *ngIf=\"route; then isAnchor; else isButton\"></ng-container>\n\n    <!-- Main content of `NavItem` -->\n    <ng-template #anchorAndButtonContent>\n      <i class=\"bwi bwi-fw tw-text-alt2 tw-mx-1 {{ icon }}\"></i\n      ><span [ngClass]=\"showActiveStyles ? 'tw-font-bold' : 'tw-font-semibold'\">{{ text }}</span>\n    </ng-template>\n\n    <!-- Show if a value was passed to `this.to` -->\n    <ng-template #isAnchor>\n      <!-- The `fvw` class passes focus to `this.focusVisibleWithin$` -->\n      <!-- The following `class` field should match the `#isButton` class field below -->\n      <a\n        class=\"fvw tw-w-full tw-truncate tw-border-none tw-bg-transparent tw-p-0 tw-text-start !tw-text-alt2 hover:tw-text-alt2 hover:tw-no-underline focus:tw-outline-none [&>:not(.bwi)]:hover:tw-underline\"\n        [routerLink]=\"route\"\n        [attr.aria-label]=\"ariaLabel || text\"\n        routerLinkActive\n        [routerLinkActiveOptions]=\"rlaOptions\"\n        [ariaCurrentWhenActive]=\"'page'\"\n        (isActiveChange)=\"setActive($event)\"\n        (click)=\"mainContentClicked.emit()\"\n      >\n        <ng-container *ngTemplateOutlet=\"anchorAndButtonContent\"></ng-container>\n      </a>\n    </ng-template>\n\n    <!-- Show if `this.to` is falsy -->\n    <ng-template #isButton>\n      <!-- Class field should match `#isAnchor` class field above -->\n      <button\n        type=\"button\"\n        class=\"fvw tw-w-full tw-truncate tw-border-none tw-bg-transparent tw-p-0 tw-text-start !tw-text-alt2 hover:tw-text-alt2 hover:tw-no-underline focus:tw-outline-none [&>:not(.bwi)]:hover:tw-underline\"\n        (click)=\"mainContentClicked.emit()\"\n      >\n        <ng-container *ngTemplateOutlet=\"anchorAndButtonContent\"></ng-container>\n      </button>\n    </ng-template>\n\n    <div\n      class=\"tw-flex tw-gap-1 [&>*:focus-visible::before]:!tw-ring-text-alt2 [&>*:hover]:!tw-border-text-alt2 [&>*]:tw-text-alt2\"\n    >\n      <ng-content select=\"[slot=end]\"></ng-content>\n    </div>\n  </div>\n</div>\n","import { Component, HostListener, Input } from \"@angular/core\";\nimport { IsActiveMatchOptions } from \"@angular/router\";\nimport { BehaviorSubject, map } from \"rxjs\";\n\nimport { NavBaseComponent } from \"./nav-base.component\";\n\n@Component({\n  selector: \"bit-nav-item\",\n  templateUrl: \"./nav-item.component.html\",\n})\nexport class NavItemComponent extends NavBaseComponent {\n  /**\n   * Is `true` if `to` matches the current route\n   */\n  private _active = false;\n  protected setActive(isActive: boolean) {\n    this._active = isActive;\n  }\n  protected get showActiveStyles() {\n    return this._active && !this.hideActiveStyles;\n  }\n  protected rlaOptions: IsActiveMatchOptions = {\n    paths: \"subset\",\n    queryParams: \"exact\",\n    fragment: \"ignored\",\n    matrixParams: \"ignored\",\n  };\n\n  /**\n   * if `true`, use `exact` match for path instead of `subset`.\n   */\n  @Input() set exactMatch(val: boolean) {\n    this.rlaOptions.paths = val ? \"exact\" : \"subset\";\n  }\n\n  /**\n   * The design spec calls for the an outline to wrap the entire element when the template's anchor/button has :focus-visible.\n   * Usually, we would use :focus-within for this. However, that matches when a child element has :focus instead of :focus-visible.\n   *\n   * Currently, the browser does not have a pseudo selector that combines these two, e.g. :focus-visible-within (WICG/focus-visible#151)\n   * To make our own :focus-visible-within functionality, we use event delegation on the host and manually check if the focus target (denoted with the .fvw class) matches :focus-visible. We then map that state to some styles, so the entire component can have an outline.\n   */\n  protected focusVisibleWithin$ = new BehaviorSubject(false);\n  protected fvwStyles$ = this.focusVisibleWithin$.pipe(\n    map((value) => (value ? \"tw-z-10 tw-rounded tw-outline-none tw-ring tw-ring-text-alt2\" : \"\")),\n  );\n  @HostListener(\"focusin\", [\"$event.target\"])\n  onFocusIn(target: HTMLElement) {\n    this.focusVisibleWithin$.next(target.matches(\".fvw:focus-visible\"));\n  }\n  @HostListener(\"focusout\")\n  onFocusOut() {\n    this.focusVisibleWithin$.next(false);\n  }\n}\n","<!-- This a higher order component that composes `NavItemComponent`  -->\n<bit-nav-item\n  [text]=\"text\"\n  [icon]=\"icon\"\n  [route]=\"route\"\n  [variant]=\"variant\"\n  (mainContentClicked)=\"toggle()\"\n  [treeDepth]=\"treeDepth\"\n  (mainContentClicked)=\"mainContentClicked.emit()\"\n  [ariaLabel]=\"ariaLabel\"\n  [exactMatch]=\"exactMatch\"\n>\n  <ng-template #button>\n    <button\n      type=\"button\"\n      class=\"tw-ml-auto\"\n      [bitIconButton]=\"\n        open ? 'bwi-angle-up' : variant === 'tree' ? 'bwi-angle-right' : 'bwi-angle-down'\n      \"\n      [buttonType]=\"'light'\"\n      (click)=\"toggle($event)\"\n      size=\"small\"\n      [title]=\"'toggleCollapse' | i18n\"\n      aria-haspopup=\"true\"\n      [attr.aria-expanded]=\"open.toString()\"\n      [attr.aria-controls]=\"contentId\"\n      [attr.aria-label]=\"['toggleCollapse' | i18n, text].join(' ')\"\n    ></button>\n  </ng-template>\n\n  <!-- Show toggle to the left for trees otherwise to the right -->\n  <ng-container slot=\"start\" *ngIf=\"variant === 'tree'\">\n    <ng-container *ngTemplateOutlet=\"button\"></ng-container>\n  </ng-container>\n  <ng-container slot=\"end\">\n    <ng-content select=\"[slot=end]\"></ng-content>\n    <ng-container *ngIf=\"variant !== 'tree'\">\n      <ng-container *ngTemplateOutlet=\"button\"></ng-container>\n    </ng-container>\n  </ng-container>\n</bit-nav-item>\n\n<!-- [attr.aria-controls] of the above button expects a unique ID on the controlled element -->\n<div\n  *ngIf=\"open\"\n  [attr.id]=\"contentId\"\n  [attr.aria-label]=\"[text, 'submenu' | i18n].join(' ')\"\n  role=\"group\"\n>\n  <ng-content></ng-content>\n</div>\n","import {\n  AfterContentInit,\n  Component,\n  ContentChildren,\n  EventEmitter,\n  forwardRef,\n  Input,\n  Output,\n  QueryList,\n} from \"@angular/core\";\n\nimport { NavBaseComponent } from \"./nav-base.component\";\nimport { NavItemComponent } from \"./nav-item.component\";\n\n@Component({\n  selector: \"bit-nav-group\",\n  templateUrl: \"./nav-group.component.html\",\n})\nexport class NavGroupComponent extends NavBaseComponent implements AfterContentInit {\n  @ContentChildren(forwardRef(() => NavGroupComponent), {\n    descendants: true,\n  })\n  nestedGroups!: QueryList<NavGroupComponent>;\n\n  @ContentChildren(NavItemComponent, {\n    descendants: true,\n  })\n  nestedItems!: QueryList<NavItemComponent>;\n\n  /**\n   * UID for `[attr.aria-controls]`\n   */\n  protected contentId = Math.random().toString(36).substring(2);\n\n  /**\n   * Is `true` if the expanded content is visible\n   */\n  @Input()\n  open = false;\n\n  /**\n   * if `true`, use `exact` match for path instead of `subset`.\n   */\n  @Input() exactMatch: boolean;\n\n  @Output()\n  openChange = new EventEmitter<boolean>();\n\n  protected toggle(event?: MouseEvent) {\n    event?.stopPropagation();\n    this.open = !this.open;\n    this.openChange.emit(this.open);\n  }\n\n  /**\n   * - For any nested NavGroupComponents or NavItemComponents, increment the `treeDepth` by 1.\n   */\n  private initNestedStyles() {\n    if (this.variant !== \"tree\") {\n      return;\n    }\n    [...this.nestedGroups, ...this.nestedItems].forEach((navGroupOrItem) => {\n      navGroupOrItem.treeDepth += 1;\n    });\n  }\n\n  ngAfterContentInit(): void {\n    this.initNestedStyles();\n  }\n}\n","import { Component } from \"@angular/core\";\n\n@Component({\n  selector: \"bit-nav-divider\",\n  templateUrl: \"./nav-divider.component.html\",\n})\nexport class NavDividerComponent {}\n","<div class=\"tw-h-px tw-w-full tw-bg-secondary-300\"></div>\n","<bit-nav-group\n  *ngIf=\"activeOrganization$ | async as activeOrganization\"\n  [text]=\"activeOrganization.name\"\n  [ariaLabel]=\"['organization' | i18n, activeOrganization.name].join(' ')\"\n  icon=\"bwi-business\"\n  [route]=\"['../', activeOrganization.id]\"\n  [(open)]=\"open\"\n  [exactMatch]=\"true\"\n>\n  <i\n    slot=\"end\"\n    *ngIf=\"!activeOrganization.enabled\"\n    class=\"bwi bwi-exclamation-triangle tw-my-auto !tw-text-danger\"\n  ></i>\n  <ng-container *ngIf=\"organizations$ | async as organizations\">\n    <bit-nav-item\n      *ngFor=\"let org of organizations\"\n      [text]=\"org.name\"\n      [ariaLabel]=\"['organization' | i18n, org.name].join(' ')\"\n      [route]=\"['../', org.id]\"\n      (mainContentClicked)=\"toggle()\"\n      [hideActiveStyles]=\"true\"\n    >\n      <i\n        slot=\"end\"\n        *ngIf=\"org.enabled == false\"\n        class=\"bwi bwi-exclamation-triangle !tw-text-danger\"\n      ></i>\n    </bit-nav-item>\n  </ng-container>\n  <bit-nav-item\n    *ngIf=\"!hideNewButton\"\n    icon=\"bwi-plus\"\n    [text]=\"'newOrganization' | i18n\"\n    route=\"/create-organization\"\n  ></bit-nav-item>\n  <bit-nav-divider></bit-nav-divider>\n</bit-nav-group>\n","import { Component, EventEmitter, Input, Output } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { combineLatest, map, Observable } from \"rxjs\";\n\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport type { Organization } from \"@bitwarden/common/admin-console/models/domain/organization\";\n\n@Component({\n  selector: \"org-switcher\",\n  templateUrl: \"org-switcher.component.html\",\n})\nexport class OrgSwitcherComponent {\n  protected organizations$: Observable<Organization[]> =\n    this.organizationService.organizations$.pipe(\n      map((orgs) =>\n        orgs\n          .filter((org) => this.filter(org))\n          .sort((a, b) => a.name.localeCompare(b.name))\n          .sort((a, b) => (a.enabled ? -1 : 1)),\n      ),\n    );\n\n  protected activeOrganization$: Observable<Organization> = combineLatest([\n    this.route.paramMap,\n    this.organizations$,\n  ]).pipe(map(([params, orgs]) => orgs.find((org) => org.id === params.get(\"organizationId\"))));\n\n  /**\n   * Filter function for displayed organizations in the `org-switcher`\n   * @example\n   * const smFilter = (org: Organization) => org.canAccessSecretsManager\n   * // <org-switcher [filter]=\"smFilter\">\n   */\n  @Input()\n  filter: (org: Organization) => boolean = () => true;\n\n  /**\n   * Is `true` if the expanded content is visible\n   */\n  @Input()\n  open = false;\n  @Output()\n  openChange = new EventEmitter<boolean>();\n\n  /**\n   * Visibility of the New Organization button\n   * (Temporary; will be removed when ability to create organizations is added to SM.)\n   */\n  @Input()\n  hideNewButton = false;\n\n  constructor(\n    private route: ActivatedRoute,\n    private organizationService: OrganizationService,\n  ) {}\n\n  protected toggle(event?: MouseEvent) {\n    event?.stopPropagation();\n    this.open = !this.open;\n    this.openChange.emit(this.open);\n  }\n}\n","<nav>\n  <a routerLink=\".\" class=\"tw-m-5 tw-mt-7 tw-block\">\n    <bit-icon [icon]=\"logo\"></bit-icon>\n  </a>\n\n  <org-switcher [filter]=\"orgFilter\" [hideNewButton]=\"true\"></org-switcher>\n  <bit-nav-item icon=\"bwi-collection\" [text]=\"'projects' | i18n\" route=\"projects\"></bit-nav-item>\n  <bit-nav-item icon=\"bwi-key\" [text]=\"'secrets' | i18n\" route=\"secrets\"></bit-nav-item>\n  <bit-nav-item\n    icon=\"bwi-wrench\"\n    [text]=\"'serviceAccounts' | i18n\"\n    route=\"service-accounts\"\n  ></bit-nav-item>\n  <bit-nav-item\n    icon=\"bwi-trash\"\n    [text]=\"'trash' | i18n\"\n    route=\"trash\"\n    *ngIf=\"isAdmin$ | async\"\n  ></bit-nav-item>\n  <bit-nav-group icon=\"bwi-cog\" [text]=\"'settings' | i18n\" *ngIf=\"isAdmin$ | async\">\n    <bit-nav-item [text]=\"'importData' | i18n\" route=\"settings/import\"></bit-nav-item>\n    <bit-nav-item [text]=\"'exportData' | i18n\" route=\"settings/export\"></bit-nav-item>\n  </bit-nav-group>\n</nav>\n","import { Component } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { map } from \"rxjs\";\n\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { Organization } from \"@bitwarden/common/admin-console/models/domain/organization\";\nimport { SecretsManagerLogo } from \"@bitwarden/web-vault/app/layouts/secrets-manager-logo\";\n\n@Component({\n  selector: \"sm-navigation\",\n  templateUrl: \"./navigation.component.html\",\n})\nexport class NavigationComponent {\n  protected readonly logo = SecretsManagerLogo;\n  protected orgFilter = (org: Organization) => org.canAccessSecretsManager;\n  protected isAdmin$ = this.route.params.pipe(\n    map((params) => this.organizationService.get(params.organizationId)?.isAdmin),\n  );\n\n  constructor(\n    private route: ActivatedRoute,\n    private organizationService: OrganizationService,\n  ) {}\n}\n","import { NgModule } from \"@angular/core\";\n\nimport { ProgressModule } from \"@bitwarden/components\";\nimport { SharedModule } from \"@bitwarden/web-vault/app/shared\";\n\nimport { OnboardingTaskComponent } from \"./onboarding-task.component\";\nimport { OnboardingComponent } from \"./onboarding.component\";\n\n@NgModule({\n  imports: [SharedModule, ProgressModule],\n  exports: [OnboardingComponent, OnboardingTaskComponent],\n  declarations: [OnboardingComponent, OnboardingTaskComponent],\n})\nexport class OnboardingModule {}\n","<bit-dialog dialogSize=\"default\">\n  <ng-container bitDialogTitle>\n    <span>{{ data.title | i18n }}</span>\n    <span class=\"tw-text-sm tw-normal-case tw-text-muted\">\n      {{ data.details.length }}\n      {{ data.subTitle | i18n }}\n    </span>\n  </ng-container>\n\n  <div bitDialogContent>\n    {{ data.message | i18n }}\n    <bit-table>\n      <ng-container header>\n        <tr>\n          <th bitCell>{{ data.columnTitle | i18n }}</th>\n          <th bitCell>{{ \"error\" | i18n }}</th>\n        </tr>\n      </ng-container>\n      <ng-template body>\n        <tr bitRow *ngFor=\"let detail of data.details\">\n          <td bitCell>{{ detail.name }}</td>\n          <td bitCell>{{ detail.errorMessage }}</td>\n        </tr>\n      </ng-template>\n    </bit-table>\n  </div>\n\n  <ng-container bitDialogFooter>\n    <button bitButton buttonType=\"primary\" bitDialogClose type=\"button\">\n      {{ \"close\" | i18n }}\n    </button>\n  </ng-container>\n</bit-dialog>\n","import { DialogRef, DIALOG_DATA } from \"@angular/cdk/dialog\";\nimport { Component, Inject, OnInit } from \"@angular/core\";\n\nexport interface BulkStatusDetails {\n  title: string;\n  subTitle: string;\n  columnTitle: string;\n  message: string;\n  details: BulkOperationStatus[];\n}\n\nexport class BulkOperationStatus {\n  id: string;\n  name: string;\n  errorMessage?: string;\n}\n\n@Component({\n  templateUrl: \"./bulk-status-dialog.component.html\",\n})\nexport class BulkStatusDialogComponent implements OnInit {\n  constructor(\n    public dialogRef: DialogRef,\n    @Inject(DIALOG_DATA) public data: BulkStatusDetails,\n  ) {}\n\n  ngOnInit(): void {\n    // TODO remove null checks once strictNullChecks in TypeScript is turned on.\n    if (\n      !this.data.title ||\n      !this.data.subTitle ||\n      !this.data.columnTitle ||\n      !this.data.message ||\n      !(this.data.details?.length >= 1)\n    ) {\n      this.dialogRef.close();\n      throw new Error(\n        \"The bulk status dialog was not called with the appropriate operation values.\",\n      );\n    }\n  }\n}\n","export class ProjectListView {\n  id: string;\n  organizationId: string;\n  name: string;\n  creationDate: string;\n  revisionDate: string;\n  read: boolean;\n  write: boolean;\n}\n","export class ProjectView {\n  id: string;\n  organizationId: string;\n  name: string;\n  creationDate: string;\n  revisionDate: string;\n  read: boolean;\n  write: boolean;\n}\n","import { EncString } from \"@bitwarden/common/platform/models/domain/enc-string\";\n\nexport class ProjectRequest {\n  name: EncString;\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nexport class ProjectListItemResponse extends BaseResponse {\n  id: string;\n  organizationId: string;\n  name: string;\n  creationDate: string;\n  revisionDate: string;\n  read: boolean;\n  write: boolean;\n\n  constructor(response: any) {\n    super(response);\n    this.id = this.getResponseProperty(\"Id\");\n    this.organizationId = this.getResponseProperty(\"OrganizationId\");\n    this.name = this.getResponseProperty(\"Name\");\n    this.creationDate = this.getResponseProperty(\"CreationDate\");\n    this.revisionDate = this.getResponseProperty(\"RevisionDate\");\n    this.read = this.getResponseProperty(\"Read\");\n    this.write = this.getResponseProperty(\"Write\");\n  }\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nexport class ProjectResponse extends BaseResponse {\n  id: string;\n  organizationId: string;\n  name: string;\n  creationDate: string;\n  revisionDate: string;\n  read: boolean;\n  write: boolean;\n\n  constructor(response: any) {\n    super(response);\n    this.id = this.getResponseProperty(\"Id\");\n    this.organizationId = this.getResponseProperty(\"OrganizationId\");\n    this.name = this.getResponseProperty(\"Name\");\n    this.creationDate = this.getResponseProperty(\"CreationDate\");\n    this.revisionDate = this.getResponseProperty(\"RevisionDate\");\n    this.read = this.getResponseProperty(\"Read\");\n    this.write = this.getResponseProperty(\"Write\");\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { Subject } from \"rxjs\";\n\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport { ListResponse } from \"@bitwarden/common/models/response/list.response\";\nimport { CryptoService } from \"@bitwarden/common/platform/abstractions/crypto.service\";\nimport { EncryptService } from \"@bitwarden/common/platform/abstractions/encrypt.service\";\nimport { EncString } from \"@bitwarden/common/platform/models/domain/enc-string\";\nimport { SymmetricCryptoKey } from \"@bitwarden/common/platform/models/domain/symmetric-crypto-key\";\n\nimport { ProjectListView } from \"../models/view/project-list.view\";\nimport { ProjectView } from \"../models/view/project.view\";\nimport { BulkOperationStatus } from \"../shared/dialogs/bulk-status-dialog.component\";\n\nimport { ProjectRequest } from \"./models/requests/project.request\";\nimport { ProjectListItemResponse } from \"./models/responses/project-list-item.response\";\nimport { ProjectResponse } from \"./models/responses/project.response\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class ProjectService {\n  protected _project = new Subject<ProjectView>();\n  project$ = this._project.asObservable();\n\n  constructor(\n    private cryptoService: CryptoService,\n    private apiService: ApiService,\n    private encryptService: EncryptService,\n  ) {}\n\n  async getByProjectId(projectId: string): Promise<ProjectView> {\n    const r = await this.apiService.send(\"GET\", \"/projects/\" + projectId, null, true, true);\n    const projectResponse = new ProjectResponse(r);\n    return await this.createProjectView(projectResponse);\n  }\n\n  async getProjects(organizationId: string): Promise<ProjectListView[]> {\n    const r = await this.apiService.send(\n      \"GET\",\n      \"/organizations/\" + organizationId + \"/projects\",\n      null,\n      true,\n      true,\n    );\n    const results = new ListResponse(r, ProjectListItemResponse);\n    return await this.createProjectsListView(organizationId, results.data);\n  }\n\n  async create(organizationId: string, projectView: ProjectView): Promise<ProjectView> {\n    const request = await this.getProjectRequest(organizationId, projectView);\n    const r = await this.apiService.send(\n      \"POST\",\n      \"/organizations/\" + organizationId + \"/projects\",\n      request,\n      true,\n      true,\n    );\n\n    const project = await this.createProjectView(new ProjectResponse(r));\n    this._project.next(project);\n    return project;\n  }\n\n  async update(organizationId: string, projectView: ProjectView) {\n    const request = await this.getProjectRequest(organizationId, projectView);\n    const r = await this.apiService.send(\"PUT\", \"/projects/\" + projectView.id, request, true, true);\n    this._project.next(await this.createProjectView(new ProjectResponse(r)));\n  }\n\n  async delete(projects: ProjectListView[]): Promise<BulkOperationStatus[]> {\n    const projectIds = projects.map((project) => project.id);\n    const r = await this.apiService.send(\"POST\", \"/projects/delete\", projectIds, true, true);\n    this._project.next(null);\n    return r.data.map((element: { id: string; error: string }) => {\n      const bulkOperationStatus = new BulkOperationStatus();\n      bulkOperationStatus.id = element.id;\n      bulkOperationStatus.name = projects.find((project) => project.id == element.id).name;\n      bulkOperationStatus.errorMessage = element.error;\n      return bulkOperationStatus;\n    });\n  }\n\n  private async getOrganizationKey(organizationId: string): Promise<SymmetricCryptoKey> {\n    return await this.cryptoService.getOrgKey(organizationId);\n  }\n\n  private async getProjectRequest(\n    organizationId: string,\n    projectView: ProjectView,\n  ): Promise<ProjectRequest> {\n    const orgKey = await this.getOrganizationKey(organizationId);\n    const request = new ProjectRequest();\n    request.name = await this.encryptService.encrypt(projectView.name, orgKey);\n\n    return request;\n  }\n\n  private async createProjectView(projectResponse: ProjectResponse) {\n    const orgKey = await this.getOrganizationKey(projectResponse.organizationId);\n\n    const projectView = new ProjectView();\n    projectView.id = projectResponse.id;\n    projectView.organizationId = projectResponse.organizationId;\n    projectView.creationDate = projectResponse.creationDate;\n    projectView.revisionDate = projectResponse.revisionDate;\n    projectView.read = projectResponse.read;\n    projectView.write = projectResponse.write;\n    projectView.name = await this.encryptService.decryptToUtf8(\n      new EncString(projectResponse.name),\n      orgKey,\n    );\n    return projectView;\n  }\n\n  private async createProjectsListView(\n    organizationId: string,\n    projects: ProjectListItemResponse[],\n  ): Promise<ProjectListView[]> {\n    const orgKey = await this.getOrganizationKey(organizationId);\n    return await Promise.all(\n      projects.map(async (s: ProjectListItemResponse) => {\n        const projectListView = new ProjectListView();\n        projectListView.id = s.id;\n        projectListView.organizationId = s.organizationId;\n        projectListView.read = s.read;\n        projectListView.write = s.write;\n        projectListView.name = await this.encryptService.decryptToUtf8(\n          new EncString(s.name),\n          orgKey,\n        );\n        projectListView.creationDate = s.creationDate;\n        projectListView.revisionDate = s.revisionDate;\n        return projectListView;\n      }),\n    );\n  }\n}\n","<form [formGroup]=\"formGroup\" [bitSubmit]=\"submit\">\n  <bit-dialog dialogSize=\"default\">\n    <ng-container bitDialogTitle>\n      <span>{{ title | i18n }}</span>\n      <span class=\"tw-text-sm tw-normal-case tw-text-muted\">\n        <ng-container *ngIf=\"data.projects.length == 1\">\n          {{ data.projects[0].name }}\n        </ng-container>\n        <ng-container *ngIf=\"data.projects.length > 1\">\n          {{ data.projects.length }}\n          {{ \"projects\" | i18n }}\n        </ng-container>\n      </span>\n    </ng-container>\n\n    <div bitDialogContent>\n      <bit-callout type=\"warning\" [title]=\"'warning' | i18n\">\n        {{ dialogContent }}\n      </bit-callout>\n      <bit-form-field>\n        <bit-label>{{ dialogConfirmationLabel }}</bit-label>\n        <input bitInput formControlName=\"confirmDelete\" />\n      </bit-form-field>\n    </div>\n\n    <ng-container bitDialogFooter>\n      <button type=\"submit\" bitButton buttonType=\"danger\" bitFormButton>\n        {{ title | i18n }}\n      </button>\n      <button type=\"button\" bitButton buttonType=\"secondary\" bitFormButton bitDialogClose>\n        {{ \"cancel\" | i18n }}\n      </button>\n    </ng-container>\n  </bit-dialog>\n</form>\n","import { DialogRef, DIALOG_DATA } from \"@angular/cdk/dialog\";\nimport { Component, Inject, OnInit } from \"@angular/core\";\nimport {\n  FormControl,\n  FormGroup,\n  ValidationErrors,\n  ValidatorFn,\n  AbstractControl,\n} from \"@angular/forms\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { DialogService } from \"@bitwarden/components\";\n\nimport { ProjectListView } from \"../../models/view/project-list.view\";\nimport {\n  BulkOperationStatus,\n  BulkStatusDetails,\n  BulkStatusDialogComponent,\n} from \"../../shared/dialogs/bulk-status-dialog.component\";\nimport { ProjectService } from \"../project.service\";\n\nexport interface ProjectDeleteOperation {\n  projects: ProjectListView[];\n}\n\n@Component({\n  templateUrl: \"./project-delete-dialog.component.html\",\n})\nexport class ProjectDeleteDialogComponent implements OnInit {\n  formGroup = new FormGroup({\n    confirmDelete: new FormControl(\"\", [this.matchConfirmationMessageValidator()]),\n  });\n\n  constructor(\n    public dialogRef: DialogRef,\n    @Inject(DIALOG_DATA) public data: ProjectDeleteOperation,\n    private projectService: ProjectService,\n    private i18nService: I18nService,\n    private platformUtilsService: PlatformUtilsService,\n    private dialogService: DialogService,\n  ) {}\n\n  ngOnInit(): void {\n    if (!(this.data.projects?.length >= 1)) {\n      this.dialogRef.close();\n      throw new Error(\n        \"The project delete dialog was not called with the appropriate operation values.\",\n      );\n    }\n  }\n\n  get title() {\n    return this.data.projects.length === 1 ? \"deleteProject\" : \"deleteProjects\";\n  }\n\n  get dialogContent() {\n    return this.data.projects.length === 1\n      ? this.i18nService.t(\"deleteProjectDialogMessage\", this.data.projects[0].name)\n      : this.i18nService.t(\"deleteProjectsDialogMessage\");\n  }\n\n  get dialogConfirmationLabel() {\n    return this.i18nService.t(\"deleteProjectInputLabel\", this.dialogConfirmationMessage);\n  }\n\n  submit = async () => {\n    this.formGroup.markAllAsTouched();\n\n    if (this.formGroup.invalid) {\n      return;\n    }\n\n    await this.delete();\n    this.dialogRef.close();\n  };\n\n  async delete() {\n    const bulkResponses = await this.projectService.delete(this.data.projects);\n\n    if (bulkResponses.find((response) => response.errorMessage)) {\n      this.openBulkStatusDialog(bulkResponses.filter((response) => response.errorMessage));\n      return;\n    }\n\n    const message = this.data.projects.length === 1 ? \"deleteProjectToast\" : \"deleteProjectsToast\";\n    this.platformUtilsService.showToast(\"success\", null, this.i18nService.t(message));\n  }\n\n  openBulkStatusDialog(bulkStatusResults: BulkOperationStatus[]) {\n    this.dialogService.open<unknown, BulkStatusDetails>(BulkStatusDialogComponent, {\n      data: {\n        title: \"deleteProjects\",\n        subTitle: \"projects\",\n        columnTitle: \"projectName\",\n        message: \"bulkDeleteProjectsErrorMessage\",\n        details: bulkStatusResults,\n      },\n    });\n  }\n\n  private get dialogConfirmationMessage() {\n    return this.data.projects?.length === 1\n      ? this.i18nService.t(\"deleteProjectConfirmMessage\", this.data.projects[0].name)\n      : this.i18nService.t(\"deleteProjectsConfirmMessage\", this.data.projects?.length.toString());\n  }\n\n  private matchConfirmationMessageValidator(): ValidatorFn {\n    return (control: AbstractControl): ValidationErrors | null => {\n      if (this.dialogConfirmationMessage.toLowerCase() == control.value.toLowerCase()) {\n        return null;\n      } else {\n        return {\n          confirmationDoesntMatchError: {\n            message: this.i18nService.t(\"smConfirmationRequired\"),\n          },\n        };\n      }\n    };\n  }\n}\n","import { AbstractControl, FormControl, ValidatorFn } from \"@angular/forms\";\n\n/**\n * Automatically trims FormControl value. Errors if value only contains whitespace.\n *\n * Should be used with `updateOn: \"submit\"`\n */\nexport const trimValidator: ValidatorFn = (control: AbstractControl<string>) => {\n  if (!(control instanceof FormControl)) {\n    throw new Error(\"trimValidator only supports validating FormControls\");\n  }\n  const value = control.value;\n  if (value === null || value === undefined || value === \"\") {\n    return null;\n  }\n  if (!value.trim().length) {\n    return {\n      trim: {\n        message: \"input is only whitespace\",\n      },\n    };\n  }\n  if (value !== value.trim()) {\n    control.setValue(value.trim());\n  }\n  return null;\n};\n","import { DialogRef, DIALOG_DATA } from \"@angular/cdk/dialog\";\nimport { Component, Inject, OnInit } from \"@angular/core\";\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport { Router } from \"@angular/router\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { BitValidators } from \"@bitwarden/components\";\n\nimport { ProjectView } from \"../../models/view/project.view\";\nimport { ProjectService } from \"../../projects/project.service\";\n\nexport enum OperationType {\n  Add,\n  Edit,\n}\n\nexport interface ProjectOperation {\n  organizationId: string;\n  operation: OperationType;\n  organizationEnabled: boolean;\n  projectId?: string;\n}\n\n@Component({\n  templateUrl: \"./project-dialog.component.html\",\n})\nexport class ProjectDialogComponent implements OnInit {\n  protected formGroup = new FormGroup({\n    name: new FormControl(\"\", {\n      validators: [Validators.required, Validators.maxLength(500), BitValidators.trimValidator],\n      updateOn: \"submit\",\n    }),\n  });\n  protected loading = false;\n\n  constructor(\n    public dialogRef: DialogRef,\n    @Inject(DIALOG_DATA) private data: ProjectOperation,\n    private projectService: ProjectService,\n    private i18nService: I18nService,\n    private platformUtilsService: PlatformUtilsService,\n    private router: Router,\n  ) {}\n\n  async ngOnInit() {\n    if (this.data.operation === OperationType.Edit && this.data.projectId) {\n      await this.loadData();\n    } else if (this.data.operation !== OperationType.Add) {\n      this.dialogRef.close();\n      throw new Error(`The project dialog was not called with the appropriate operation values.`);\n    }\n  }\n\n  async loadData() {\n    this.loading = true;\n    const project: ProjectView = await this.projectService.getByProjectId(this.data.projectId);\n    this.loading = false;\n    this.formGroup.setValue({ name: project.name });\n  }\n\n  get title() {\n    return this.data.operation === OperationType.Add ? \"newProject\" : \"editProject\";\n  }\n\n  submit = async () => {\n    if (!this.data.organizationEnabled) {\n      this.platformUtilsService.showToast(\n        \"error\",\n        null,\n        this.i18nService.t(\"projectsCannotCreate\"),\n      );\n      return;\n    }\n\n    this.formGroup.markAllAsTouched();\n\n    if (this.formGroup.invalid) {\n      return;\n    }\n\n    const projectView = this.getProjectView();\n    if (this.data.operation === OperationType.Add) {\n      const newProject = await this.createProject(projectView);\n      this.router.navigate([\"sm\", this.data.organizationId, \"projects\", newProject.id]);\n    } else {\n      projectView.id = this.data.projectId;\n      await this.updateProject(projectView);\n    }\n    this.dialogRef.close();\n  };\n\n  private async createProject(projectView: ProjectView) {\n    const newProject = await this.projectService.create(this.data.organizationId, projectView);\n    this.platformUtilsService.showToast(\"success\", null, this.i18nService.t(\"projectCreated\"));\n    return newProject;\n  }\n\n  private async updateProject(projectView: ProjectView) {\n    await this.projectService.update(this.data.organizationId, projectView);\n    this.platformUtilsService.showToast(\"success\", null, this.i18nService.t(\"projectSaved\"));\n  }\n\n  private getProjectView() {\n    const projectView = new ProjectView();\n    projectView.organizationId = this.data.organizationId;\n    projectView.name = this.formGroup.value.name;\n    return projectView;\n  }\n}\n","<form [formGroup]=\"formGroup\" [bitSubmit]=\"submit\">\n  <bit-dialog dialogSize=\"default\">\n    <span bitDialogTitle>{{ title | i18n }}</span>\n    <span bitDialogContent>\n      <div *ngIf=\"loading\" class=\"tw-text-center\">\n        <i class=\"bwi bwi-spinner bwi-spin bwi-3x\"></i>\n      </div>\n      <bit-form-field *ngIf=\"!loading\">\n        <bit-label>{{ \"projectName\" | i18n }}</bit-label>\n        <input appAutofocus formControlName=\"name\" bitInput />\n      </bit-form-field>\n    </span>\n    <ng-container bitDialogFooter>\n      <button type=\"submit\" bitButton buttonType=\"primary\" bitFormButton>\n        {{ \"save\" | i18n }}\n      </button>\n      <button type=\"button\" bitButton buttonType=\"secondary\" bitFormButton bitDialogClose>\n        {{ \"cancel\" | i18n }}\n      </button>\n    </ng-container>\n  </bit-dialog>\n</form>\n","import { SecretProjectView } from \"./secret-project.view\";\n\nexport class SecretListView {\n  id: string;\n  organizationId: string;\n  name: string;\n  creationDate: string;\n  revisionDate: string;\n  projects: SecretProjectView[];\n  read: boolean;\n  write: boolean;\n}\n","export class SecretProjectView {\n  id: string;\n  name: string;\n}\n","import { SecretProjectView } from \"./secret-project.view\";\n\nexport class SecretView {\n  id: string;\n  organizationId: string;\n  name: string;\n  value: string;\n  note: string;\n  creationDate: string;\n  revisionDate: string;\n  projects: SecretProjectView[];\n\n  read: boolean;\n  write: boolean;\n}\n","export class SecretRequest {\n  key: string;\n  value: string;\n  note: string;\n  projectIds?: string[];\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nexport class SecretProjectResponse extends BaseResponse {\n  id: string;\n  name: string;\n\n  constructor(response: any) {\n    super(response);\n    this.name = this.getResponseProperty(\"Name\");\n    this.id = this.getResponseProperty(\"Id\");\n  }\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nimport { SecretProjectResponse } from \"./secret-project.response\";\n\nexport class SecretListItemResponse extends BaseResponse {\n  id: string;\n  organizationId: string;\n  name: string;\n  creationDate: string;\n  revisionDate: string;\n  projects: SecretProjectResponse[];\n  read: boolean;\n  write: boolean;\n\n  constructor(response: any) {\n    super(response);\n    this.id = this.getResponseProperty(\"Id\");\n    this.organizationId = this.getResponseProperty(\"OrganizationId\");\n    this.name = this.getResponseProperty(\"Key\");\n    this.creationDate = this.getResponseProperty(\"CreationDate\");\n    this.revisionDate = this.getResponseProperty(\"RevisionDate\");\n    this.read = this.getResponseProperty(\"Read\");\n    this.write = this.getResponseProperty(\"Write\");\n\n    const project = this.getResponseProperty(\"projects\");\n    this.projects = project == null ? null : project.map((k: any) => new SecretProjectResponse(k));\n  }\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nimport { SecretListItemResponse } from \"./secret-list-item.response\";\nimport { SecretProjectResponse } from \"./secret-project.response\";\n\nexport class SecretWithProjectsListResponse extends BaseResponse {\n  secrets: SecretListItemResponse[];\n  projects: SecretProjectResponse[];\n\n  constructor(response: any) {\n    super(response);\n    const secrets = this.getResponseProperty(\"secrets\");\n    const projects = this.getResponseProperty(\"projects\");\n    this.projects =\n      projects == null ? null : projects.map((k: any) => new SecretProjectResponse(k));\n    this.secrets = secrets == null ? [] : secrets.map((dr: any) => new SecretListItemResponse(dr));\n  }\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nimport { SecretProjectResponse } from \"./secret-project.response\";\n\nexport class SecretResponse extends BaseResponse {\n  id: string;\n  organizationId: string;\n  name: string;\n  value: string;\n  note: string;\n  creationDate: string;\n  revisionDate: string;\n\n  read: boolean;\n  write: boolean;\n\n  projects: SecretProjectResponse[];\n\n  constructor(response: any) {\n    super(response);\n    this.id = this.getResponseProperty(\"Id\");\n    this.organizationId = this.getResponseProperty(\"OrganizationId\");\n    this.name = this.getResponseProperty(\"Key\");\n    this.value = this.getResponseProperty(\"Value\");\n    this.note = this.getResponseProperty(\"Note\");\n    this.creationDate = this.getResponseProperty(\"CreationDate\");\n    this.revisionDate = this.getResponseProperty(\"RevisionDate\");\n\n    this.read = this.getResponseProperty(\"Read\");\n    this.write = this.getResponseProperty(\"Write\");\n\n    const projects = this.getResponseProperty(\"Projects\");\n    this.projects =\n      projects == null ? null : projects.map((k: any) => new SecretProjectResponse(k));\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { Subject } from \"rxjs\";\n\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport { CryptoService } from \"@bitwarden/common/platform/abstractions/crypto.service\";\nimport { EncryptService } from \"@bitwarden/common/platform/abstractions/encrypt.service\";\nimport { EncString } from \"@bitwarden/common/platform/models/domain/enc-string\";\nimport { SymmetricCryptoKey } from \"@bitwarden/common/platform/models/domain/symmetric-crypto-key\";\n\nimport { SecretListView } from \"../models/view/secret-list.view\";\nimport { SecretProjectView } from \"../models/view/secret-project.view\";\nimport { SecretView } from \"../models/view/secret.view\";\nimport { BulkOperationStatus } from \"../shared/dialogs/bulk-status-dialog.component\";\n\nimport { SecretRequest } from \"./requests/secret.request\";\nimport { SecretListItemResponse } from \"./responses/secret-list-item.response\";\nimport { SecretProjectResponse } from \"./responses/secret-project.response\";\nimport { SecretWithProjectsListResponse } from \"./responses/secret-with-projects-list.response\";\nimport { SecretResponse } from \"./responses/secret.response\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class SecretService {\n  protected _secret: Subject<SecretView> = new Subject();\n\n  secret$ = this._secret.asObservable();\n\n  constructor(\n    private cryptoService: CryptoService,\n    private apiService: ApiService,\n    private encryptService: EncryptService,\n  ) {}\n\n  async getBySecretId(secretId: string): Promise<SecretView> {\n    const r = await this.apiService.send(\"GET\", \"/secrets/\" + secretId, null, true, true);\n    const secretResponse = new SecretResponse(r);\n\n    return await this.createSecretView(secretResponse);\n  }\n\n  async getSecrets(organizationId: string): Promise<SecretListView[]> {\n    const r = await this.apiService.send(\n      \"GET\",\n      \"/organizations/\" + organizationId + \"/secrets\",\n      null,\n      true,\n      true,\n    );\n\n    const results = new SecretWithProjectsListResponse(r);\n    return await this.createSecretsListView(organizationId, results);\n  }\n\n  async getSecretsByProject(organizationId: string, projectId: string): Promise<SecretListView[]> {\n    const r = await this.apiService.send(\n      \"GET\",\n      \"/projects/\" + projectId + \"/secrets\",\n      null,\n      true,\n      true,\n    );\n\n    const results = new SecretWithProjectsListResponse(r);\n    return await this.createSecretsListView(organizationId, results);\n  }\n\n  async create(organizationId: string, secretView: SecretView) {\n    const request = await this.getSecretRequest(organizationId, secretView);\n    const r = await this.apiService.send(\n      \"POST\",\n      \"/organizations/\" + organizationId + \"/secrets\",\n      request,\n      true,\n      true,\n    );\n    this._secret.next(await this.createSecretView(new SecretResponse(r)));\n  }\n\n  async update(organizationId: string, secretView: SecretView) {\n    const request = await this.getSecretRequest(organizationId, secretView);\n    const r = await this.apiService.send(\"PUT\", \"/secrets/\" + secretView.id, request, true, true);\n    this._secret.next(await this.createSecretView(new SecretResponse(r)));\n  }\n\n  async delete(secrets: SecretListView[]): Promise<BulkOperationStatus[]> {\n    const secretIds = secrets.map((secret) => secret.id);\n    const r = await this.apiService.send(\"POST\", \"/secrets/delete\", secretIds, true, true);\n\n    this._secret.next(null);\n    return r.data.map((element: { id: string; error: string }) => {\n      const bulkOperationStatus = new BulkOperationStatus();\n      bulkOperationStatus.id = element.id;\n      bulkOperationStatus.name = secrets.find((secret) => secret.id == element.id).name;\n      bulkOperationStatus.errorMessage = element.error;\n      return bulkOperationStatus;\n    });\n  }\n\n  async getTrashedSecrets(organizationId: string): Promise<SecretListView[]> {\n    const r = await this.apiService.send(\n      \"GET\",\n      \"/secrets/\" + organizationId + \"/trash\",\n      null,\n      true,\n      true,\n    );\n\n    return await this.createSecretsListView(organizationId, new SecretWithProjectsListResponse(r));\n  }\n\n  async deleteTrashed(organizationId: string, secretIds: string[]) {\n    await this.apiService.send(\n      \"POST\",\n      \"/secrets/\" + organizationId + \"/trash/empty\",\n      secretIds,\n      true,\n      true,\n    );\n\n    this._secret.next(null);\n  }\n\n  async restoreTrashed(organizationId: string, secretIds: string[]) {\n    await this.apiService.send(\n      \"POST\",\n      \"/secrets/\" + organizationId + \"/trash/restore\",\n      secretIds,\n      true,\n      true,\n    );\n\n    this._secret.next(null);\n  }\n\n  private async getOrganizationKey(organizationId: string): Promise<SymmetricCryptoKey> {\n    return await this.cryptoService.getOrgKey(organizationId);\n  }\n\n  private async getSecretRequest(\n    organizationId: string,\n    secretView: SecretView,\n  ): Promise<SecretRequest> {\n    const orgKey = await this.getOrganizationKey(organizationId);\n    const request = new SecretRequest();\n    const [key, value, note] = await Promise.all([\n      this.encryptService.encrypt(secretView.name, orgKey),\n      this.encryptService.encrypt(secretView.value, orgKey),\n      this.encryptService.encrypt(secretView.note, orgKey),\n    ]);\n    request.key = key.encryptedString;\n    request.value = value.encryptedString;\n    request.note = note.encryptedString;\n    request.projectIds = [];\n\n    secretView.projects?.forEach((e) => request.projectIds.push(e.id));\n\n    return request;\n  }\n\n  private async createSecretView(secretResponse: SecretResponse): Promise<SecretView> {\n    const orgKey = await this.getOrganizationKey(secretResponse.organizationId);\n\n    const secretView = new SecretView();\n    secretView.id = secretResponse.id;\n    secretView.organizationId = secretResponse.organizationId;\n    secretView.creationDate = secretResponse.creationDate;\n    secretView.revisionDate = secretResponse.revisionDate;\n\n    const [name, value, note] = await Promise.all([\n      this.encryptService.decryptToUtf8(new EncString(secretResponse.name), orgKey),\n      this.encryptService.decryptToUtf8(new EncString(secretResponse.value), orgKey),\n      this.encryptService.decryptToUtf8(new EncString(secretResponse.note), orgKey),\n    ]);\n    secretView.name = name;\n    secretView.value = value;\n    secretView.note = note;\n\n    secretView.read = secretResponse.read;\n    secretView.write = secretResponse.write;\n\n    if (secretResponse.projects != null) {\n      secretView.projects = await this.decryptProjectsMappedToSecrets(\n        orgKey,\n        secretResponse.projects,\n      );\n    }\n\n    return secretView;\n  }\n\n  private async createSecretsListView(\n    organizationId: string,\n    secrets: SecretWithProjectsListResponse,\n  ): Promise<SecretListView[]> {\n    const orgKey = await this.getOrganizationKey(organizationId);\n\n    const projectsMappedToSecretsView = await this.decryptProjectsMappedToSecrets(\n      orgKey,\n      secrets.projects,\n    );\n\n    return await Promise.all(\n      secrets.secrets.map(async (s: SecretListItemResponse) => {\n        const secretListView = new SecretListView();\n        secretListView.id = s.id;\n        secretListView.organizationId = s.organizationId;\n        secretListView.name = await this.encryptService.decryptToUtf8(\n          new EncString(s.name),\n          orgKey,\n        );\n        secretListView.creationDate = s.creationDate;\n        secretListView.revisionDate = s.revisionDate;\n\n        const projectIds = s.projects?.map((p) => p.id);\n        secretListView.projects = projectsMappedToSecretsView.filter((p) =>\n          projectIds.includes(p.id),\n        );\n\n        secretListView.read = s.read;\n        secretListView.write = s.write;\n\n        return secretListView;\n      }),\n    );\n  }\n\n  private async decryptProjectsMappedToSecrets(\n    orgKey: SymmetricCryptoKey,\n    projects: SecretProjectResponse[],\n  ): Promise<SecretProjectView[]> {\n    return await Promise.all(\n      projects.map(async (s: SecretProjectResponse) => {\n        const projectsMappedToSecretView = new SecretProjectView();\n        projectsMappedToSecretView.id = s.id;\n        projectsMappedToSecretView.name = s.name\n          ? await this.encryptService.decryptToUtf8(new EncString(s.name), orgKey)\n          : null;\n        return projectsMappedToSecretView;\n      }),\n    );\n  }\n}\n","<bit-simple-dialog>\n  <span bitDialogTitle>{{ title | i18n }}</span>\n  <span bitDialogContent>\n    <div *ngIf=\"showSoftDeleteSecretWarning\">\n      {{ \"softDeleteSecretWarning\" | i18n }}\n    </div>\n    {{ \"deleteItemConfirmation\" | i18n }}\n  </span>\n  <ng-container bitDialogFooter>\n    <button type=\"button\" bitButton buttonType=\"primary\" [bitAction]=\"delete\">\n      {{ submitButtonText | i18n }}\n    </button>\n    <button type=\"button\" bitButton buttonType=\"secondary\" bitDialogClose>\n      {{ \"close\" | i18n }}\n    </button>\n  </ng-container>\n</bit-simple-dialog>\n","import { DialogRef, DIALOG_DATA } from \"@angular/cdk/dialog\";\nimport { Component, Inject } from \"@angular/core\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { DialogService } from \"@bitwarden/components\";\n\nimport { SecretListView } from \"../../models/view/secret-list.view\";\nimport {\n  BulkOperationStatus,\n  BulkStatusDetails,\n  BulkStatusDialogComponent,\n} from \"../../shared/dialogs/bulk-status-dialog.component\";\nimport { SecretService } from \"../secret.service\";\n\nexport interface SecretDeleteOperation {\n  secrets: SecretListView[];\n}\n\n@Component({\n  templateUrl: \"./secret-delete.component.html\",\n})\nexport class SecretDeleteDialogComponent {\n  constructor(\n    public dialogRef: DialogRef,\n    private secretService: SecretService,\n    private i18nService: I18nService,\n    private platformUtilsService: PlatformUtilsService,\n    @Inject(DIALOG_DATA) private data: SecretDeleteOperation,\n    private dialogService: DialogService,\n  ) {}\n\n  showSoftDeleteSecretWarning = this.data.secrets.length === 1;\n\n  get title() {\n    return this.data.secrets.length === 1 ? \"deleteSecret\" : \"deleteSecrets\";\n  }\n\n  get submitButtonText() {\n    return this.data.secrets.length === 1 ? \"deleteSecret\" : \"deleteSecrets\";\n  }\n\n  delete = async () => {\n    const bulkResponses = await this.secretService.delete(this.data.secrets);\n\n    if (bulkResponses.find((response) => response.errorMessage)) {\n      this.openBulkStatusDialog(bulkResponses.filter((response) => response.errorMessage));\n      this.dialogRef.close(true);\n      return;\n    }\n\n    const message =\n      this.data.secrets.length === 1 ? \"softDeleteSuccessToast\" : \"softDeletesSuccessToast\";\n    this.platformUtilsService.showToast(\"success\", null, this.i18nService.t(message));\n\n    this.dialogRef.close(true);\n  };\n\n  openBulkStatusDialog(bulkStatusResults: BulkOperationStatus[]) {\n    this.dialogService.open<unknown, BulkStatusDetails>(BulkStatusDialogComponent, {\n      data: {\n        title: \"deleteSecrets\",\n        subTitle: \"secrets\",\n        columnTitle: \"name\",\n        message: \"bulkDeleteSecretsErrorMessage\",\n        details: bulkStatusResults,\n      },\n    });\n  }\n}\n","import { DialogRef, DIALOG_DATA } from \"@angular/cdk/dialog\";\nimport { Component, Inject, OnInit } from \"@angular/core\";\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport { lastValueFrom, Subject, takeUntil } from \"rxjs\";\n\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { Utils } from \"@bitwarden/common/platform/misc/utils\";\nimport { DialogService, BitValidators } from \"@bitwarden/components\";\n\nimport { ProjectListView } from \"../../models/view/project-list.view\";\nimport { ProjectView } from \"../../models/view/project.view\";\nimport { SecretListView } from \"../../models/view/secret-list.view\";\nimport { SecretProjectView } from \"../../models/view/secret-project.view\";\nimport { SecretView } from \"../../models/view/secret.view\";\nimport { ProjectService } from \"../../projects/project.service\";\nimport { SecretService } from \"../secret.service\";\n\nimport { SecretDeleteDialogComponent, SecretDeleteOperation } from \"./secret-delete.component\";\n\nexport enum OperationType {\n  Add,\n  Edit,\n}\n\nexport interface SecretOperation {\n  organizationId: string;\n  operation: OperationType;\n  projectId?: string;\n  secretId?: string;\n  organizationEnabled: boolean;\n}\n\n@Component({\n  templateUrl: \"./secret-dialog.component.html\",\n})\nexport class SecretDialogComponent implements OnInit {\n  protected formGroup = new FormGroup({\n    name: new FormControl(\"\", {\n      validators: [Validators.required, Validators.maxLength(500), BitValidators.trimValidator],\n      updateOn: \"submit\",\n    }),\n    value: new FormControl(\"\", [Validators.required, Validators.maxLength(25000)]),\n    notes: new FormControl(\"\", {\n      validators: [Validators.maxLength(7000), BitValidators.trimValidator],\n      updateOn: \"submit\",\n    }),\n    project: new FormControl(\"\", [Validators.required]),\n    newProjectName: new FormControl(\"\", {\n      validators: [Validators.maxLength(500), BitValidators.trimValidator],\n      updateOn: \"submit\",\n    }),\n  });\n\n  private destroy$ = new Subject<void>();\n  private loading = true;\n  projects: ProjectListView[];\n  addNewProject = false;\n  newProjectGuid = Utils.newGuid();\n\n  constructor(\n    public dialogRef: DialogRef,\n    @Inject(DIALOG_DATA) private data: SecretOperation,\n    private secretService: SecretService,\n    private i18nService: I18nService,\n    private platformUtilsService: PlatformUtilsService,\n    private projectService: ProjectService,\n    private dialogService: DialogService,\n    private organizationService: OrganizationService,\n  ) {}\n\n  async ngOnInit() {\n    if (this.data.operation === OperationType.Edit && this.data.secretId) {\n      await this.loadData();\n    } else if (this.data.operation !== OperationType.Add) {\n      this.dialogRef.close();\n      throw new Error(`The secret dialog was not called with the appropriate operation values.`);\n    } else if (this.data.operation == OperationType.Add) {\n      await this.loadProjects(true);\n      if (this.data.projectId == null || this.data.projectId == \"\") {\n        this.addNewProjectOptionToProjectsDropDown();\n      }\n    }\n\n    if (this.data.projectId) {\n      this.formGroup.get(\"project\").setValue(this.data.projectId);\n    }\n\n    if (this.organizationService.get(this.data.organizationId)?.isAdmin) {\n      this.formGroup.get(\"project\").removeValidators(Validators.required);\n      this.formGroup.get(\"project\").updateValueAndValidity();\n    }\n  }\n\n  async loadData() {\n    this.formGroup.disable();\n    const secret: SecretView = await this.secretService.getBySecretId(this.data.secretId);\n\n    await this.loadProjects(secret.write);\n\n    this.formGroup.setValue({\n      name: secret.name,\n      value: secret.value,\n      notes: secret.note,\n      project: secret.projects[0]?.id ?? \"\",\n      newProjectName: \"\",\n    });\n\n    this.loading = false;\n\n    if (secret.write) {\n      this.formGroup.enable();\n    }\n  }\n\n  async loadProjects(filterByPermission: boolean) {\n    this.projects = await this.projectService\n      .getProjects(this.data.organizationId)\n      .then((projects) => projects.sort((a, b) => a.name.localeCompare(b.name)));\n\n    if (filterByPermission) {\n      this.projects = this.projects.filter((p) => p.write);\n    }\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  private addNewProjectOptionToProjectsDropDown() {\n    this.formGroup\n      .get(\"project\")\n      .valueChanges.pipe(takeUntil(this.destroy$))\n      .subscribe((val: string) => {\n        this.dropDownSelected(val);\n      });\n\n    const addNewProject = new ProjectListView();\n    addNewProject.name = this.i18nService.t(\"newProject\");\n    addNewProject.id = this.newProjectGuid;\n    this.projects.unshift(addNewProject);\n  }\n\n  private dropDownSelected(val: string) {\n    this.addNewProject = val == this.newProjectGuid;\n\n    if (this.addNewProject) {\n      this.formGroup.get(\"newProjectName\").addValidators([Validators.required]);\n    } else {\n      this.formGroup.get(\"newProjectName\").clearValidators();\n    }\n\n    this.formGroup.get(\"newProjectName\").updateValueAndValidity();\n  }\n\n  get title() {\n    return this.data.operation === OperationType.Add ? \"newSecret\" : \"editSecret\";\n  }\n\n  get showSpinner() {\n    return this.data.operation === OperationType.Edit && this.loading;\n  }\n\n  submit = async () => {\n    if (!this.data.organizationEnabled) {\n      this.platformUtilsService.showToast(\"error\", null, this.i18nService.t(\"secretsCannotCreate\"));\n      return;\n    }\n\n    this.formGroup.markAllAsTouched();\n\n    if (this.formGroup.invalid) {\n      return;\n    }\n\n    const secretView = this.getSecretView();\n\n    if (this.addNewProject) {\n      const newProject = await this.createProject(this.getNewProjectView());\n      secretView.projects = [newProject];\n    }\n\n    if (this.data.operation === OperationType.Add) {\n      await this.createSecret(secretView);\n    } else {\n      secretView.id = this.data.secretId;\n      await this.updateSecret(secretView);\n    }\n    this.dialogRef.close();\n  };\n\n  get deleteButtonIsVisible(): boolean {\n    return this.data.operation === OperationType.Edit;\n  }\n\n  private async createProject(projectView: ProjectView) {\n    return await this.projectService.create(this.data.organizationId, projectView);\n  }\n\n  protected openDeleteSecretDialog() {\n    const secretListView: SecretListView[] = this.getSecretListView();\n\n    const dialogRef = this.dialogService.open<unknown, SecretDeleteOperation>(\n      SecretDeleteDialogComponent,\n      {\n        data: {\n          secrets: secretListView,\n        },\n      },\n    );\n\n    // If the secret is deleted, chain close this dialog after the delete dialog\n    lastValueFrom(dialogRef.closed).then(\n      (closeData) => closeData !== undefined && this.dialogRef.close(),\n    );\n  }\n\n  private async createSecret(secretView: SecretView) {\n    await this.secretService.create(this.data.organizationId, secretView);\n    this.platformUtilsService.showToast(\"success\", null, this.i18nService.t(\"secretCreated\"));\n  }\n\n  private getNewProjectView() {\n    const projectView = new ProjectView();\n    projectView.organizationId = this.data.organizationId;\n    projectView.name = this.formGroup.value.newProjectName;\n    return projectView;\n  }\n\n  private async updateSecret(secretView: SecretView) {\n    await this.secretService.update(this.data.organizationId, secretView);\n    this.platformUtilsService.showToast(\"success\", null, this.i18nService.t(\"secretEdited\"));\n  }\n\n  private getSecretView() {\n    const secretView = new SecretView();\n    secretView.organizationId = this.data.organizationId;\n    secretView.name = this.formGroup.value.name;\n    secretView.value = this.formGroup.value.value;\n    secretView.note = this.formGroup.value.notes;\n\n    const project = this.projects.find((p) => p.id == this.formGroup.value.project);\n    secretView.projects = project != undefined ? [project] : [];\n\n    return secretView;\n  }\n\n  private getSecretListView() {\n    const secretListViews: SecretListView[] = [];\n    const emptyProjects: SecretProjectView[] = [];\n\n    const secretListView = new SecretListView();\n\n    if (this.formGroup.value.project) {\n      secretListView.projects = [this.projects.find((p) => p.id == this.formGroup.value.project)];\n    } else {\n      secretListView.projects = emptyProjects;\n    }\n\n    secretListView.organizationId = this.data.organizationId;\n    secretListView.id = this.data.secretId;\n    secretListView.name = this.formGroup.value.name;\n    secretListViews.push(secretListView);\n    return secretListViews;\n  }\n}\n","<form [formGroup]=\"formGroup\" [bitSubmit]=\"submit\">\n  <bit-dialog dialogSize=\"large\">\n    <ng-container bitDialogTitle>{{ title | i18n }}</ng-container>\n    <div bitDialogContent class=\"tw-relative\">\n      <div\n        *ngIf=\"showSpinner\"\n        class=\"tw-absolute tw-flex tw-h-full tw-w-full tw-items-center tw-justify-center tw-bg-text-contrast\"\n      >\n        <i class=\"bwi bwi-spinner bwi-spin bwi-3x\"></i>\n      </div>\n      <div class=\"tw-flex tw-gap-4 tw-pt-4\">\n        <bit-form-field class=\"tw-w-1/3\">\n          <bit-label for=\"secret-name\">{{ \"name\" | i18n }}</bit-label>\n          <input appAutofocus formControlName=\"name\" bitInput />\n        </bit-form-field>\n        <bit-form-field class=\"tw-w-full\">\n          <bit-label>{{ \"value\" | i18n }}</bit-label>\n          <textarea bitInput rows=\"4\" formControlName=\"value\"></textarea>\n        </bit-form-field>\n      </div>\n      <bit-form-field>\n        <bit-label>{{ \"notes\" | i18n }}</bit-label>\n        <textarea bitInput rows=\"4\" formControlName=\"notes\"></textarea>\n      </bit-form-field>\n\n      <hr />\n\n      <bit-form-field class=\"tw-mb-0 tw-mt-3\">\n        <bit-label>{{ \"project\" | i18n }}</bit-label>\n        <bit-select bitInput name=\"project\" formControlName=\"project\">\n          <bit-option value=\"\" [label]=\"'selectPlaceholder' | i18n\"></bit-option>\n          <bit-option\n            *ngFor=\"let p of projects\"\n            [icon]=\"p.id === this.newProjectGuid ? 'bwi-plus-circle' : ''\"\n            [value]=\"p.id\"\n            [label]=\"p.name\"\n          >\n          </bit-option>\n        </bit-select>\n      </bit-form-field>\n\n      <bit-form-field *ngIf=\"addNewProject == true\">\n        <bit-label>{{ \"projectName\" | i18n }}</bit-label>\n        <input formControlName=\"newProjectName\" bitInput />\n      </bit-form-field>\n    </div>\n    <ng-container bitDialogFooter>\n      <button type=\"submit\" bitButton buttonType=\"primary\" bitFormButton>\n        {{ \"save\" | i18n }}\n      </button>\n      <button\n        type=\"button\"\n        bitButton\n        buttonType=\"secondary\"\n        bitFormButton\n        bitDialogClose\n        [disabled]=\"false\"\n      >\n        {{ \"cancel\" | i18n }}\n      </button>\n      <button\n        *ngIf=\"deleteButtonIsVisible\"\n        class=\"tw-ml-auto\"\n        type=\"button\"\n        bitIconButton=\"bwi-trash\"\n        buttonType=\"danger\"\n        bitFormButton\n        (click)=\"openDeleteSecretDialog()\"\n      ></button>\n    </ng-container>\n  </bit-dialog>\n</form>\n","export class ServiceAccountView {\n  id: string;\n  organizationId: string;\n  name: string;\n  creationDate: string;\n  revisionDate: string;\n}\n\nexport class ServiceAccountSecretsDetailsView extends ServiceAccountView {\n  accessToSecrets: number;\n}\n","import { EncString } from \"@bitwarden/common/platform/models/domain/enc-string\";\n\nexport class ServiceAccountRequest {\n  name: EncString;\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nexport class ServiceAccountResponse extends BaseResponse {\n  id: string;\n  organizationId: string;\n  name: string;\n  creationDate: string;\n  revisionDate: string;\n\n  constructor(response: any) {\n    super(response);\n    this.id = this.getResponseProperty(\"Id\");\n    this.organizationId = this.getResponseProperty(\"OrganizationId\");\n    this.name = this.getResponseProperty(\"Name\");\n    this.creationDate = this.getResponseProperty(\"CreationDate\");\n    this.revisionDate = this.getResponseProperty(\"RevisionDate\");\n  }\n}\n\nexport class ServiceAccountSecretsDetailsResponse extends ServiceAccountResponse {\n  accessToSecrets: number;\n\n  constructor(response: any) {\n    super(response);\n    this.accessToSecrets = this.getResponseProperty(\"AccessToSecrets\");\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { Subject } from \"rxjs\";\n\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport { ListResponse } from \"@bitwarden/common/models/response/list.response\";\nimport { CryptoService } from \"@bitwarden/common/platform/abstractions/crypto.service\";\nimport { EncryptService } from \"@bitwarden/common/platform/abstractions/encrypt.service\";\nimport { EncString } from \"@bitwarden/common/platform/models/domain/enc-string\";\nimport { SymmetricCryptoKey } from \"@bitwarden/common/platform/models/domain/symmetric-crypto-key\";\n\nimport {\n  ServiceAccountSecretsDetailsView,\n  ServiceAccountView,\n} from \"../models/view/service-account.view\";\nimport { BulkOperationStatus } from \"../shared/dialogs/bulk-status-dialog.component\";\n\nimport { ServiceAccountRequest } from \"./models/requests/service-account.request\";\nimport {\n  ServiceAccountResponse,\n  ServiceAccountSecretsDetailsResponse,\n} from \"./models/responses/service-account.response\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class ServiceAccountService {\n  protected _serviceAccount: Subject<ServiceAccountView> = new Subject();\n\n  serviceAccount$ = this._serviceAccount.asObservable();\n\n  constructor(\n    private cryptoService: CryptoService,\n    private apiService: ApiService,\n    private encryptService: EncryptService,\n  ) {}\n\n  async getServiceAccounts(\n    organizationId: string,\n    includeAccessToSecrets?: boolean,\n  ): Promise<ServiceAccountSecretsDetailsView[]> {\n    const params = new URLSearchParams();\n    if (includeAccessToSecrets) {\n      params.set(\"includeAccessToSecrets\", \"true\");\n    }\n\n    const r = await this.apiService.send(\n      \"GET\",\n      \"/organizations/\" + organizationId + \"/service-accounts?\" + params.toString(),\n      null,\n      true,\n      true,\n    );\n    const results = new ListResponse(r, ServiceAccountSecretsDetailsResponse);\n    return await this.createServiceAccountSecretsDetailsViews(organizationId, results.data);\n  }\n\n  async getByServiceAccountId(\n    serviceAccountId: string,\n    organizationId: string,\n  ): Promise<ServiceAccountView> {\n    const orgKey = await this.getOrganizationKey(organizationId);\n    const r = await this.apiService.send(\n      \"GET\",\n      \"/service-accounts/\" + serviceAccountId,\n      null,\n      true,\n      true,\n    );\n\n    return await this.createServiceAccountView(orgKey, new ServiceAccountResponse(r));\n  }\n\n  async update(\n    serviceAccountId: string,\n    organizationId: string,\n    serviceAccountView: ServiceAccountView,\n  ) {\n    const orgKey = await this.getOrganizationKey(organizationId);\n    const request = await this.getServiceAccountRequest(orgKey, serviceAccountView);\n    const r = await this.apiService.send(\n      \"PUT\",\n      \"/service-accounts/\" + serviceAccountId,\n      request,\n      true,\n      true,\n    );\n    this._serviceAccount.next(\n      await this.createServiceAccountView(orgKey, new ServiceAccountResponse(r)),\n    );\n  }\n\n  async create(organizationId: string, serviceAccountView: ServiceAccountView) {\n    const orgKey = await this.getOrganizationKey(organizationId);\n    const request = await this.getServiceAccountRequest(orgKey, serviceAccountView);\n    const r = await this.apiService.send(\n      \"POST\",\n      \"/organizations/\" + organizationId + \"/service-accounts\",\n      request,\n      true,\n      true,\n    );\n    this._serviceAccount.next(\n      await this.createServiceAccountView(orgKey, new ServiceAccountResponse(r)),\n    );\n  }\n\n  async delete(serviceAccounts: ServiceAccountView[]): Promise<BulkOperationStatus[]> {\n    const ids = serviceAccounts.map((serviceAccount) => serviceAccount.id);\n    const r = await this.apiService.send(\"POST\", \"/service-accounts/delete\", ids, true, true);\n\n    this._serviceAccount.next(null);\n\n    return r.data.map((element: { id: string; error: string }) => {\n      const bulkOperationStatus = new BulkOperationStatus();\n      bulkOperationStatus.id = element.id;\n      bulkOperationStatus.name = serviceAccounts.find((sa) => sa.id == element.id).name;\n      bulkOperationStatus.errorMessage = element.error;\n      return bulkOperationStatus;\n    });\n  }\n\n  private async getOrganizationKey(organizationId: string): Promise<SymmetricCryptoKey> {\n    return await this.cryptoService.getOrgKey(organizationId);\n  }\n\n  private async getServiceAccountRequest(\n    organizationKey: SymmetricCryptoKey,\n    serviceAccountView: ServiceAccountView,\n  ) {\n    const request = new ServiceAccountRequest();\n    request.name = await this.encryptService.encrypt(serviceAccountView.name, organizationKey);\n    return request;\n  }\n\n  private async createServiceAccountView(\n    organizationKey: SymmetricCryptoKey,\n    serviceAccountResponse: ServiceAccountResponse,\n  ): Promise<ServiceAccountView> {\n    const serviceAccountView = new ServiceAccountView();\n    serviceAccountView.id = serviceAccountResponse.id;\n    serviceAccountView.organizationId = serviceAccountResponse.organizationId;\n    serviceAccountView.creationDate = serviceAccountResponse.creationDate;\n    serviceAccountView.revisionDate = serviceAccountResponse.revisionDate;\n    serviceAccountView.name = serviceAccountResponse.name\n      ? await this.encryptService.decryptToUtf8(\n          new EncString(serviceAccountResponse.name),\n          organizationKey,\n        )\n      : null;\n    return serviceAccountView;\n  }\n\n  private async createServiceAccountSecretsDetailsView(\n    organizationKey: SymmetricCryptoKey,\n    response: ServiceAccountSecretsDetailsResponse,\n  ): Promise<ServiceAccountSecretsDetailsView> {\n    const view = new ServiceAccountSecretsDetailsView();\n    view.id = response.id;\n    view.organizationId = response.organizationId;\n    view.creationDate = response.creationDate;\n    view.revisionDate = response.revisionDate;\n    view.accessToSecrets = response.accessToSecrets;\n    view.name = response.name\n      ? await this.encryptService.decryptToUtf8(new EncString(response.name), organizationKey)\n      : null;\n    return view;\n  }\n\n  private async createServiceAccountSecretsDetailsViews(\n    organizationId: string,\n    serviceAccountResponses: ServiceAccountSecretsDetailsResponse[],\n  ): Promise<ServiceAccountSecretsDetailsView[]> {\n    const orgKey = await this.getOrganizationKey(organizationId);\n    return await Promise.all(\n      serviceAccountResponses.map(async (s: ServiceAccountSecretsDetailsResponse) => {\n        return await this.createServiceAccountSecretsDetailsView(orgKey, s);\n      }),\n    );\n  }\n}\n","import { DialogRef, DIALOG_DATA } from \"@angular/cdk/dialog\";\nimport { Component, Inject } from \"@angular/core\";\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { BitValidators } from \"@bitwarden/components\";\n\nimport { ServiceAccountView } from \"../../models/view/service-account.view\";\nimport { ServiceAccountService } from \"../service-account.service\";\n\nexport enum OperationType {\n  Add,\n  Edit,\n}\n\nexport interface ServiceAccountOperation {\n  organizationId: string;\n  serviceAccountId?: string;\n  operation: OperationType;\n  organizationEnabled: boolean;\n}\n\n@Component({\n  templateUrl: \"./service-account-dialog.component.html\",\n})\nexport class ServiceAccountDialogComponent {\n  protected formGroup = new FormGroup(\n    {\n      name: new FormControl(\"\", {\n        validators: [Validators.required, Validators.maxLength(500), BitValidators.trimValidator],\n        updateOn: \"submit\",\n      }),\n    },\n    {},\n  );\n\n  protected loading = false;\n\n  constructor(\n    public dialogRef: DialogRef,\n    @Inject(DIALOG_DATA) private data: ServiceAccountOperation,\n    private serviceAccountService: ServiceAccountService,\n    private i18nService: I18nService,\n    private platformUtilsService: PlatformUtilsService,\n  ) {}\n\n  async ngOnInit() {\n    if (this.data.operation == OperationType.Edit) {\n      this.loadData();\n    }\n  }\n\n  async loadData() {\n    this.loading = true;\n    const serviceAccount: ServiceAccountView =\n      await this.serviceAccountService.getByServiceAccountId(\n        this.data.serviceAccountId,\n        this.data.organizationId,\n      );\n    this.formGroup.patchValue({ name: serviceAccount.name });\n    this.loading = false;\n  }\n\n  submit = async () => {\n    if (!this.data.organizationEnabled) {\n      this.platformUtilsService.showToast(\n        \"error\",\n        null,\n        this.i18nService.t(\"serviceAccountsCannotCreate\"),\n      );\n      return;\n    }\n\n    this.formGroup.markAllAsTouched();\n\n    if (this.formGroup.invalid) {\n      return;\n    }\n\n    const serviceAccountView = this.getServiceAccountView();\n    let serviceAccountMessage: string;\n\n    if (this.data.operation == OperationType.Add) {\n      await this.serviceAccountService.create(this.data.organizationId, serviceAccountView);\n      serviceAccountMessage = this.i18nService.t(\"serviceAccountCreated\");\n    } else {\n      await this.serviceAccountService.update(\n        this.data.serviceAccountId,\n        this.data.organizationId,\n        serviceAccountView,\n      );\n      serviceAccountMessage = this.i18nService.t(\"serviceAccountUpdated\");\n    }\n\n    this.platformUtilsService.showToast(\"success\", null, serviceAccountMessage);\n    this.dialogRef.close();\n  };\n\n  private getServiceAccountView() {\n    const serviceAccountView = new ServiceAccountView();\n    serviceAccountView.organizationId = this.data.organizationId;\n    serviceAccountView.name = this.formGroup.value.name;\n    return serviceAccountView;\n  }\n\n  get title() {\n    return this.data.operation === OperationType.Add ? \"newServiceAccount\" : \"editServiceAccount\";\n  }\n}\n","<form [formGroup]=\"formGroup\" [bitSubmit]=\"submit\">\n  <bit-dialog dialogSize=\"default\">\n    <ng-container bitDialogTitle>{{ title | i18n }}</ng-container>\n    <div bitDialogContent>\n      <div *ngIf=\"loading\" class=\"tw-text-center\">\n        <i class=\"bwi bwi-spinner bwi-spin bwi-3x\"></i>\n      </div>\n      <div *ngIf=\"!loading\">\n        <bit-form-field>\n          <bit-label>{{ \"serviceAccountName\" | i18n }}</bit-label>\n          <input appAutofocus formControlName=\"name\" bitInput />\n        </bit-form-field>\n      </div>\n    </div>\n    <ng-container bitDialogFooter>\n      <button type=\"submit\" bitButton buttonType=\"primary\" bitFormButton>\n        {{ \"save\" | i18n }}\n      </button>\n      <button type=\"button\" bitButton buttonType=\"secondary\" bitFormButton bitDialogClose>\n        {{ \"cancel\" | i18n }}\n      </button>\n    </ng-container>\n  </bit-dialog>\n</form>\n","<div *ngIf=\"!secrets\" class=\"tw-items-center tw-justify-center tw-pt-64 tw-text-center\">\n  <i class=\"bwi bwi-spinner bwi-spin bwi-3x\"></i>\n</div>\n\n<ng-container *ngIf=\"secrets?.length == 0\">\n  <bit-no-items *ngIf=\"trash\">\n    <ng-container slot=\"title\">{{ \"secretsNoItemsTitle\" | i18n }}</ng-container>\n    <ng-container slot=\"description\">{{ \"secretsTrashNoItemsMessage\" | i18n }}</ng-container>\n  </bit-no-items>\n  <bit-no-items *ngIf=\"!trash\">\n    <ng-container slot=\"title\">{{ \"secretsNoItemsTitle\" | i18n }}</ng-container>\n    <ng-container slot=\"description\">{{ \"secretsNoItemsMessage\" | i18n }}</ng-container>\n    <button\n      type=\"button\"\n      slot=\"button\"\n      bitButton\n      buttonType=\"secondary\"\n      (click)=\"newSecretEvent.emit()\"\n    >\n      <i class=\"bwi bwi-plus\" aria-hidden=\"true\"></i>\n      {{ \"newSecret\" | i18n }}\n    </button>\n  </bit-no-items>\n</ng-container>\n\n<bit-table *ngIf=\"secrets?.length >= 1\" [dataSource]=\"dataSource\">\n  <ng-container header>\n    <tr>\n      <th bitCell class=\"tw-w-0\">\n        <label class=\"!tw-mb-0 tw-flex tw-w-fit tw-gap-2 !tw-font-bold !tw-text-muted\">\n          <input\n            type=\"checkbox\"\n            (change)=\"$event ? toggleAll() : null\"\n            [checked]=\"selection.hasValue() && isAllSelected()\"\n            [indeterminate]=\"selection.hasValue() && !isAllSelected()\"\n          />\n          {{ \"all\" | i18n }}\n        </label>\n      </th>\n      <th bitCell bitSortable=\"name\" default>{{ \"name\" | i18n }}</th>\n      <th bitCell bitSortable=\"projects\" [fn]=\"sortProjects\">{{ \"project\" | i18n }}</th>\n      <th bitCell bitSortable=\"revisionDate\">{{ \"lastEdited\" | i18n }}</th>\n      <th bitCell class=\"tw-w-0\">\n        <button\n          type=\"button\"\n          bitIconButton=\"bwi-ellipsis-v\"\n          buttonType=\"main\"\n          [title]=\"'options' | i18n\"\n          [attr.aria-label]=\"'options' | i18n\"\n          [bitMenuTriggerFor]=\"tableMenu\"\n        ></button>\n      </th>\n    </tr>\n  </ng-container>\n  <ng-template body let-rows$>\n    <tr bitRow *ngFor=\"let secret of rows$ | async\">\n      <td bitCell>\n        <input\n          type=\"checkbox\"\n          (change)=\"$event ? selection.toggle(secret.id) : null\"\n          [checked]=\"selection.isSelected(secret.id)\"\n        />\n      </td>\n      <td bitCell>\n        <div class=\"tw-flex tw-items-center tw-gap-4 tw-break-all\">\n          <i class=\"bwi bwi-key tw-text-muted\" aria-hidden=\"true\"></i>\n          <div>\n            <div *ngIf=\"!trash\">\n              <button type=\"button\" bitLink (click)=\"editSecretEvent.emit(secret.id)\">\n                {{ secret.name }}\n              </button>\n            </div>\n            <div *ngIf=\"trash\">{{ secret.name }}</div>\n            <div class=\"tw-text-sm tw-text-muted\">\n              {{ secret.id }}\n              <button\n                type=\"button\"\n                bitIconButton=\"bwi-clone\"\n                buttonType=\"main\"\n                size=\"small\"\n                [title]=\"'copyUuid' | i18n\"\n                [attr.aria-label]=\"'copyUuid' | i18n\"\n                (click)=\"copySecretUuidEvent.emit(secret.id)\"\n              ></button>\n            </div>\n          </div>\n        </div>\n      </td>\n      <td bitCell>\n        <span\n          *ngFor=\"let project of secret.projects\"\n          bitBadge\n          badgeType=\"secondary\"\n          class=\"tw-ml-1\"\n          [title]=\"project.name\"\n        >\n          {{ project.name | ellipsis: 32 }}\n        </span>\n        <span *ngIf=\"secret.projects.length === 0\" bitBadge badgeType=\"warning\" class=\"tw-ml-1\"\n          ><i class=\"bwi bwi-fw bwi-exclamation-triangle tw-mr-1\" aria-hidden=\"true\"></i\n          >{{ \"unassigned\" | i18n }}</span\n        >\n      </td>\n      <td bitCell class=\"tw-whitespace-nowrap\">{{ secret.revisionDate | date: \"medium\" }}</td>\n      <td bitCell>\n        <button\n          type=\"button\"\n          bitIconButton=\"bwi-ellipsis-v\"\n          buttonType=\"main\"\n          [title]=\"'options' | i18n\"\n          [attr.aria-label]=\"'options' | i18n\"\n          [bitMenuTriggerFor]=\"secretMenu\"\n        ></button>\n      </td>\n\n      <bit-menu #secretMenu>\n        <button\n          type=\"button\"\n          bitMenuItem\n          (click)=\"editSecretEvent.emit(secret.id)\"\n          *ngIf=\"secret.write && !trash\"\n        >\n          <i class=\"bwi bwi-fw bwi-pencil\" aria-hidden=\"true\"></i>\n          {{ \"editSecret\" | i18n }}\n        </button>\n        <button\n          type=\"button\"\n          bitMenuItem\n          (click)=\"copySecretNameEvent.emit(secret.name)\"\n          *ngIf=\"!trash\"\n        >\n          <i class=\"bwi bwi-fw bwi-clone\" aria-hidden=\"true\"></i>\n          {{ \"copySecretName\" | i18n }}\n        </button>\n        <button\n          type=\"button\"\n          bitMenuItem\n          (click)=\"copySecretValueEvent.emit(secret.id)\"\n          *ngIf=\"!trash\"\n        >\n          <i class=\"bwi bwi-fw bwi-clone\" aria-hidden=\"true\"></i>\n          {{ \"copySecretValue\" | i18n }}\n        </button>\n        <button\n          type=\"button\"\n          bitMenuItem\n          (click)=\"restoreSecretsEvent.emit([secret.id])\"\n          *ngIf=\"trash\"\n        >\n          <i class=\"bwi bwi-fw bwi-refresh\" aria-hidden=\"true\"></i>\n          {{ \"restoreSecret\" | i18n }}\n        </button>\n        <button\n          type=\"button\"\n          bitMenuItem\n          (click)=\"deleteSecretsEvent.emit([secret])\"\n          *ngIf=\"secret.write\"\n        >\n          <i class=\"bwi bwi-fw bwi-trash tw-text-danger\" aria-hidden=\"true\"></i>\n          <span class=\"tw-text-danger\">{{\n            (trash ? \"permanentlyDelete\" : \"deleteSecret\") | i18n\n          }}</span>\n        </button>\n      </bit-menu>\n    </tr>\n  </ng-template>\n</bit-table>\n\n<bit-menu #tableMenu>\n  <button type=\"button\" bitMenuItem (click)=\"bulkRestoreSecrets()\" *ngIf=\"trash\">\n    <i class=\"bwi bwi-fw bwi-refresh\" aria-hidden=\"true\"></i>\n    <span>{{ \"restoreSelected\" | i18n }}</span>\n  </button>\n  <button type=\"button\" bitMenuItem (click)=\"bulkDeleteSecrets()\">\n    <i class=\"bwi bwi-fw bwi-trash tw-text-danger\" aria-hidden=\"true\"></i>\n    <span class=\"tw-text-danger\">{{ \"deleteSecrets\" | i18n }}</span>\n  </button>\n</bit-menu>\n","import { SelectionModel } from \"@angular/cdk/collections\";\nimport { Component, EventEmitter, Input, OnDestroy, Output } from \"@angular/core\";\nimport { Subject, takeUntil } from \"rxjs\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { TableDataSource } from \"@bitwarden/components\";\n\nimport { SecretListView } from \"../models/view/secret-list.view\";\nimport { SecretService } from \"../secrets/secret.service\";\n\n@Component({\n  selector: \"sm-secrets-list\",\n  templateUrl: \"./secrets-list.component.html\",\n})\nexport class SecretsListComponent implements OnDestroy {\n  protected dataSource = new TableDataSource<SecretListView>();\n\n  @Input()\n  get secrets(): SecretListView[] {\n    return this._secrets;\n  }\n  set secrets(secrets: SecretListView[]) {\n    this.selection.clear();\n    this._secrets = secrets;\n    this.dataSource.data = secrets;\n  }\n  private _secrets: SecretListView[];\n\n  @Input()\n  set search(search: string) {\n    this.selection.clear();\n    this.dataSource.filter = search;\n  }\n\n  @Input() trash: boolean;\n\n  @Output() editSecretEvent = new EventEmitter<string>();\n  @Output() copySecretNameEvent = new EventEmitter<string>();\n  @Output() copySecretValueEvent = new EventEmitter<string>();\n  @Output() copySecretUuidEvent = new EventEmitter<string>();\n  @Output() onSecretCheckedEvent = new EventEmitter<string[]>();\n  @Output() deleteSecretsEvent = new EventEmitter<SecretListView[]>();\n  @Output() newSecretEvent = new EventEmitter();\n  @Output() restoreSecretsEvent = new EventEmitter();\n\n  private destroy$: Subject<void> = new Subject<void>();\n\n  selection = new SelectionModel<string>(true, []);\n\n  constructor(\n    private i18nService: I18nService,\n    private platformUtilsService: PlatformUtilsService,\n  ) {\n    this.selection.changed\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((_) => this.onSecretCheckedEvent.emit(this.selection.selected));\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  isAllSelected() {\n    if (this.selection.selected?.length > 0) {\n      const numSelected = this.selection.selected.length;\n      const numRows = this.dataSource.filteredData.length;\n      return numSelected === numRows;\n    }\n    return false;\n  }\n\n  toggleAll() {\n    if (this.isAllSelected()) {\n      this.selection.clear();\n    } else {\n      this.selection.select(...this.dataSource.filteredData.map((s) => s.id));\n    }\n  }\n\n  bulkDeleteSecrets() {\n    if (this.selection.selected.length >= 1) {\n      this.deleteSecretsEvent.emit(\n        this.secrets.filter((secret) => this.selection.isSelected(secret.id)),\n      );\n    } else {\n      this.platformUtilsService.showToast(\n        \"error\",\n        this.i18nService.t(\"errorOccurred\"),\n        this.i18nService.t(\"nothingSelected\"),\n      );\n    }\n  }\n\n  bulkRestoreSecrets() {\n    if (this.selection.selected.length >= 1) {\n      this.restoreSecretsEvent.emit(this.selection.selected);\n    } else {\n      this.platformUtilsService.showToast(\n        \"error\",\n        this.i18nService.t(\"errorOccurred\"),\n        this.i18nService.t(\"nothingSelected\"),\n      );\n    }\n  }\n\n  sortProjects = (a: SecretListView, b: SecretListView): number => {\n    const aProjects = a.projects;\n    const bProjects = b.projects;\n    if (aProjects.length !== bProjects.length) {\n      return aProjects.length - bProjects.length;\n    }\n\n    return aProjects[0]?.name.localeCompare(bProjects[0].name);\n  };\n\n  /**\n   * TODO: Refactor to smart component and remove\n   */\n  static copySecretName(\n    name: string,\n    platformUtilsService: PlatformUtilsService,\n    i18nService: I18nService,\n  ) {\n    platformUtilsService.copyToClipboard(name);\n    platformUtilsService.showToast(\n      \"success\",\n      null,\n      i18nService.t(\"valueCopied\", i18nService.t(\"name\")),\n    );\n  }\n\n  /**\n   * TODO: Refactor to smart component and remove\n   */\n  static copySecretValue(\n    id: string,\n    platformUtilsService: PlatformUtilsService,\n    i18nService: I18nService,\n    secretService: SecretService,\n  ) {\n    const value = secretService.getBySecretId(id).then((secret) => secret.value);\n    SecretsListComponent.copyToClipboardAsync(value, platformUtilsService).then(() => {\n      platformUtilsService.showToast(\n        \"success\",\n        null,\n        i18nService.t(\"valueCopied\", i18nService.t(\"value\")),\n      );\n    });\n  }\n\n  static copySecretUuid(\n    id: string,\n    platformUtilsService: PlatformUtilsService,\n    i18nService: I18nService,\n  ) {\n    platformUtilsService.copyToClipboard(id);\n    platformUtilsService.showToast(\n      \"success\",\n      null,\n      i18nService.t(\"valueCopied\", i18nService.t(\"uuid\")),\n    );\n  }\n\n  /**\n   * TODO: Remove in favor of updating `PlatformUtilsService.copyToClipboard`\n   */\n  private static copyToClipboardAsync(\n    text: Promise<string>,\n    platformUtilsService: PlatformUtilsService,\n  ) {\n    if (platformUtilsService.isSafari()) {\n      return navigator.clipboard.write([\n        new ClipboardItem({\n          [\"text/plain\"]: text,\n        }),\n      ]);\n    }\n\n    return text.then((t) => platformUtilsService.copyToClipboard(t));\n  }\n}\n","<header\n  *ngIf=\"routeData$ | async as routeData\"\n  class=\"-tw-m-6 tw-mb-3 tw-flex tw-flex-col tw-p-6\"\n  [ngClass]=\"{\n    'tw-border-0 tw-border-b tw-border-solid tw-border-secondary-300 tw-bg-background-alt tw-pb-0':\n      tabsContainer.childElementCount !== 0\n  }\"\n>\n  <div class=\"tw-flex\">\n    <div class=\"tw-flex tw-min-w-0 tw-flex-1 tw-flex-col tw-gap-2\">\n      <ng-content select=\"[slot=breadcrumbs]\"></ng-content>\n      <div #titleContainer [ngClass]=\"{ 'tw-hidden': titleContainer.childElementCount === 0 }\">\n        <ng-content select=\"[slot=title]\"></ng-content>\n      </div>\n      <h1\n        *ngIf=\"titleContainer.childElementCount === 0\"\n        bitTypography=\"h1\"\n        noMargin\n        class=\"tw-m-0 tw-mr-2 tw-truncate tw-leading-10\"\n        [title]=\"title || (routeData.titleId | i18n)\"\n      >\n        <i *ngIf=\"icon\" class=\"bwi {{ icon }}\" aria-hidden=\"true\"></i>\n        {{ title || (routeData.titleId | i18n) }}\n      </h1>\n    </div>\n    <div class=\"tw-ml-auto tw-flex tw-flex-col tw-gap-4\">\n      <div class=\"tw-flex tw-min-w-max tw-items-center tw-justify-end tw-gap-2\">\n        <ng-content></ng-content>\n        <product-switcher></product-switcher>\n        <ng-container *ngIf=\"account$ | async as account\">\n          <button\n            type=\"button\"\n            [bitMenuTriggerFor]=\"accountMenu\"\n            class=\"tw-border-0 tw-bg-transparent tw-p-0\"\n          >\n            <dynamic-avatar [id]=\"account.userId\" [text]=\"account | userName\"></dynamic-avatar>\n          </button>\n\n          <bit-menu #accountMenu>\n            <div class=\"tw-flex tw-min-w-52 tw-max-w-72 tw-flex-col\">\n              <div\n                class=\"tw-flex tw-items-center tw-px-4 tw-py-1 tw-leading-tight tw-text-info\"\n                appStopProp\n              >\n                <dynamic-avatar [id]=\"account.userId\" [text]=\"account | userName\"></dynamic-avatar>\n                <div class=\"tw-ml-2 tw-block tw-overflow-hidden tw-whitespace-nowrap\">\n                  <span>{{ \"loggedInAs\" | i18n }}</span>\n                  <small class=\"tw-block tw-overflow-hidden tw-whitespace-nowrap tw-text-muted\">\n                    {{ account | userName }}\n                  </small>\n                </div>\n              </div>\n\n              <ng-container *ngIf=\"selfHosted\">\n                <bit-menu-divider></bit-menu-divider>\n                <span class=\"tw-break-all tw-px-4 tw-py-1 tw-text-left tw-text-muted\">\n                  {{ hostname }}\n                </span>\n              </ng-container>\n\n              <bit-menu-divider></bit-menu-divider>\n\n              <a bitMenuItem routerLink=\"/settings/account\">\n                <i class=\"bwi bwi-fw bwi-user\" aria-hidden=\"true\"></i>\n                {{ \"accountSettings\" | i18n }}\n              </a>\n              <a bitMenuItem href=\"https://bitwarden.com/help/\" target=\"_blank\" rel=\"noopener\">\n                <i class=\"bwi bwi-fw bwi-question-circle\" aria-hidden=\"true\"></i>\n                {{ \"getHelp\" | i18n }}\n              </a>\n              <a bitMenuItem href=\"https://bitwarden.com/download/\" target=\"_blank\" rel=\"noopener\">\n                <i class=\"bwi bwi-fw bwi-download\" aria-hidden=\"true\"></i>\n                {{ \"getApps\" | i18n }}\n              </a>\n\n              <bit-menu-divider></bit-menu-divider>\n\n              <button *ngIf=\"canLock$ | async\" bitMenuItem type=\"button\" (click)=\"lock()\">\n                <i class=\"bwi bwi-fw bwi-lock\" aria-hidden=\"true\"></i>\n                {{ \"lockNow\" | i18n }}\n              </button>\n              <button bitMenuItem type=\"button\" (click)=\"logout()\">\n                <i class=\"bwi bwi-fw bwi-sign-out\" aria-hidden=\"true\"></i>\n                {{ \"logOut\" | i18n }}\n              </button>\n            </div>\n          </bit-menu>\n        </ng-container>\n      </div>\n      <div\n        class=\"tw-ml-auto\"\n        #contentContainer\n        [ngClass]=\"{ 'tw-hidden': contentContainer.childElementCount === 0 }\"\n      >\n        <ng-content select=\"[slot=secondary]\"></ng-content>\n      </div>\n    </div>\n  </div>\n  <div\n    #tabsContainer\n    class=\"-tw-mx-4 -tw-mb-px\"\n    [ngClass]=\"{ 'tw-hidden': tabsContainer.childElementCount === 0 }\"\n  >\n    <ng-content select=\"[slot=tabs]\"></ng-content>\n  </div>\n</header>\n","import { Component, Input } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { combineLatest, map, Observable } from \"rxjs\";\n\nimport { VaultTimeoutSettingsService } from \"@bitwarden/common/abstractions/vault-timeout/vault-timeout-settings.service\";\nimport { VaultTimeoutAction } from \"@bitwarden/common/enums/vault-timeout-action.enum\";\nimport { MessagingService } from \"@bitwarden/common/platform/abstractions/messaging.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { StateService } from \"@bitwarden/common/platform/abstractions/state.service\";\nimport { AccountProfile } from \"@bitwarden/common/platform/models/domain/account\";\n\n@Component({\n  selector: \"app-header\",\n  templateUrl: \"./web-header.component.html\",\n})\nexport class WebHeaderComponent {\n  /**\n   * Custom title that overrides the route data `titleId`\n   */\n  @Input() title: string;\n\n  /**\n   * Icon to show before the title\n   */\n  @Input() icon: string;\n\n  protected routeData$: Observable<{ titleId: string }>;\n  protected account$: Observable<AccountProfile>;\n  protected canLock$: Observable<boolean>;\n  protected selfHosted: boolean;\n  protected hostname = location.hostname;\n\n  constructor(\n    private route: ActivatedRoute,\n    private stateService: StateService,\n    private platformUtilsService: PlatformUtilsService,\n    private vaultTimeoutSettingsService: VaultTimeoutSettingsService,\n    private messagingService: MessagingService,\n  ) {\n    this.routeData$ = this.route.data.pipe(\n      map((params) => {\n        return {\n          titleId: params.titleId,\n        };\n      }),\n    );\n\n    this.selfHosted = this.platformUtilsService.isSelfHost();\n\n    this.account$ = combineLatest([\n      this.stateService.activeAccount$,\n      this.stateService.accounts$,\n    ]).pipe(\n      map(([activeAccount, accounts]) => {\n        return accounts[activeAccount]?.profile;\n      }),\n    );\n    this.canLock$ = this.vaultTimeoutSettingsService\n      .availableVaultTimeoutActions$()\n      .pipe(map((actions) => actions.includes(VaultTimeoutAction.Lock)));\n  }\n\n  protected lock() {\n    this.messagingService.send(\"lockVault\");\n  }\n\n  protected logout() {\n    this.messagingService.send(\"logout\");\n  }\n}\n","import { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { Subject, takeUntil } from \"rxjs\";\n\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { DialogService } from \"@bitwarden/components\";\n\nimport {\n  ProjectDialogComponent,\n  ProjectOperation,\n} from \"../projects/dialog/project-dialog.component\";\nimport {\n  OperationType,\n  SecretDialogComponent,\n  SecretOperation,\n} from \"../secrets/dialog/secret-dialog.component\";\nimport {\n  ServiceAccountDialogComponent,\n  ServiceAccountOperation,\n} from \"../service-accounts/dialog/service-account-dialog.component\";\n\n@Component({\n  selector: \"sm-new-menu\",\n  templateUrl: \"./new-menu.component.html\",\n})\nexport class NewMenuComponent implements OnInit, OnDestroy {\n  private organizationId: string;\n  private organizationEnabled: boolean;\n  private destroy$: Subject<void> = new Subject<void>();\n  constructor(\n    private route: ActivatedRoute,\n    private dialogService: DialogService,\n    private organizationService: OrganizationService,\n  ) {}\n\n  ngOnInit() {\n    this.route.params.pipe(takeUntil(this.destroy$)).subscribe((params: any) => {\n      this.organizationId = params.organizationId;\n      this.organizationEnabled = this.organizationService.get(params.organizationId)?.enabled;\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  openSecretDialog() {\n    this.dialogService.open<unknown, SecretOperation>(SecretDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Add,\n        organizationEnabled: this.organizationEnabled,\n      },\n    });\n  }\n\n  openProjectDialog() {\n    this.dialogService.open<unknown, ProjectOperation>(ProjectDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Add,\n        organizationEnabled: this.organizationEnabled,\n      },\n    });\n  }\n\n  openServiceAccountDialog() {\n    this.dialogService.open<unknown, ServiceAccountOperation>(ServiceAccountDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Add,\n        organizationEnabled: this.organizationEnabled,\n      },\n    });\n  }\n}\n","<div *ngIf=\"!projects\" class=\"tw-items-center tw-justify-center tw-pt-64 tw-text-center\">\n  <i class=\"bwi bwi-spinner bwi-spin bwi-3x\"></i>\n</div>\n\n<bit-no-items *ngIf=\"projects?.length == 0\">\n  <ng-container slot=\"title\">{{ \"projectsNoItemsTitle\" | i18n }}</ng-container>\n  <ng-container slot=\"description\">{{ \"projectsNoItemsMessage\" | i18n }}</ng-container>\n  <button\n    type=\"button\"\n    slot=\"button\"\n    bitButton\n    buttonType=\"secondary\"\n    (click)=\"newProjectEvent.emit()\"\n  >\n    <i class=\"bwi bwi-plus\" aria-hidden=\"true\"></i>\n    {{ \"newProject\" | i18n }}\n  </button>\n</bit-no-items>\n\n<bit-table *ngIf=\"projects?.length >= 1\" [dataSource]=\"dataSource\">\n  <ng-container header>\n    <tr>\n      <th bitCell class=\"tw-w-0\">\n        <label class=\"!tw-mb-0 tw-flex tw-w-fit tw-gap-2 !tw-font-bold !tw-text-muted\">\n          <input\n            type=\"checkbox\"\n            (change)=\"$event ? toggleAll() : null\"\n            [checked]=\"selection.hasValue() && isAllSelected()\"\n            [indeterminate]=\"selection.hasValue() && !isAllSelected()\"\n          />\n          {{ \"all\" | i18n }}\n        </label>\n      </th>\n      <th bitCell bitSortable=\"name\" default>{{ \"name\" | i18n }}</th>\n      <th bitCell bitSortable=\"revisionDate\">{{ \"lastEdited\" | i18n }}</th>\n      <th\n        bitCell\n        class=\"tw-w-0\"\n        [ngClass]=\"{ 'tw-invisible': !(hasWriteAccessOnSelected$ | async) }\"\n      >\n        <button\n          type=\"button\"\n          bitIconButton=\"bwi-ellipsis-v\"\n          buttonType=\"main\"\n          [bitMenuTriggerFor]=\"tableMenu\"\n          [title]=\"'options' | i18n\"\n          [attr.aria-label]=\"'options' | i18n\"\n        ></button>\n      </th>\n    </tr>\n  </ng-container>\n  <ng-template body let-rows$>\n    <tr bitRow *ngFor=\"let project of rows$ | async\">\n      <td bitCell>\n        <input\n          type=\"checkbox\"\n          (change)=\"$event ? selection.toggle(project.id) : null\"\n          [checked]=\"selection.isSelected(project.id)\"\n        />\n      </td>\n      <td bitCell>\n        <div class=\"tw-flex tw-items-center tw-gap-4 tw-break-all\">\n          <i class=\"bwi bwi-collection tw-text-muted\" aria-hidden=\"true\"></i>\n          <a bitLink [routerLink]=\"['/sm', project.organizationId, 'projects', project.id]\">{{\n            project.name\n          }}</a>\n        </div>\n      </td>\n      <td bitCell class=\"tw-whitespace-nowrap\">{{ project.revisionDate | date: \"medium\" }}</td>\n      <td bitCell>\n        <button\n          type=\"button\"\n          bitIconButton=\"bwi-ellipsis-v\"\n          buttonType=\"main\"\n          [bitMenuTriggerFor]=\"projectMenu\"\n          [title]=\"'options' | i18n\"\n          [attr.aria-label]=\"'options' | i18n\"\n        ></button>\n      </td>\n      <bit-menu #projectMenu>\n        <a bitMenuItem [routerLink]=\"['/sm', project.organizationId, 'projects', project.id]\">\n          <i class=\"bwi bwi-fw bwi-eye\" aria-hidden=\"true\"></i>\n          {{ \"viewProject\" | i18n }}\n        </a>\n        <button\n          *ngIf=\"project.write\"\n          type=\"button\"\n          bitMenuItem\n          (click)=\"editProjectEvent.emit(project.id)\"\n        >\n          <i class=\"bwi bwi-fw bwi-pencil\" aria-hidden=\"true\"></i>\n          {{ \"editProject\" | i18n }}\n        </button>\n        <button *ngIf=\"project.write\" type=\"button\" bitMenuItem (click)=\"deleteProject(project.id)\">\n          <i class=\"bwi bwi-fw bwi-trash tw-text-danger\" aria-hidden=\"true\"></i>\n          <span class=\"tw-text-danger\">{{ \"deleteProject\" | i18n }}</span>\n        </button>\n      </bit-menu>\n    </tr>\n  </ng-template>\n</bit-table>\n\n<bit-menu #tableMenu>\n  <button type=\"button\" bitMenuItem (click)=\"bulkDeleteProjects()\">\n    <i class=\"bwi bwi-fw bwi-trash tw-text-danger\" aria-hidden=\"true\"></i>\n    <span class=\"tw-text-danger\">{{ \"deleteProjects\" | i18n }}</span>\n  </button>\n</bit-menu>\n","<button\n  type=\"button\"\n  bitButton\n  class=\"tw-min-w-max\"\n  buttonType=\"primary\"\n  [bitMenuTriggerFor]=\"newMenu\"\n>\n  {{ \"new\" | i18n }} <i class=\"bwi bwi-angle-down\" aria-hidden=\"true\"></i>\n</button>\n\n<bit-menu #newMenu>\n  <button type=\"button\" bitMenuItem (click)=\"openProjectDialog()\">\n    <i class=\"bwi bwi-fw bwi-sitemap\" aria-hidden=\"true\"></i>\n    {{ \"project\" | i18n }}\n  </button>\n  <button type=\"button\" bitMenuItem (click)=\"openSecretDialog()\">\n    <i class=\"bwi bwi-fw bwi-key\" aria-hidden=\"true\"></i>\n    {{ \"secret\" | i18n }}\n  </button>\n  <button type=\"button\" bitMenuItem (click)=\"openServiceAccountDialog()\">\n    <i class=\"bwi bwi-fw bwi-wrench\" aria-hidden=\"true\"></i>\n    {{ \"serviceAccount\" | i18n }}\n  </button>\n</bit-menu>\n","import { SelectionModel } from \"@angular/cdk/collections\";\nimport { Component, EventEmitter, Input, Output } from \"@angular/core\";\nimport { map } from \"rxjs\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { TableDataSource } from \"@bitwarden/components\";\n\nimport { ProjectListView } from \"../models/view/project-list.view\";\n\n@Component({\n  selector: \"sm-projects-list\",\n  templateUrl: \"./projects-list.component.html\",\n})\nexport class ProjectsListComponent {\n  @Input()\n  get projects(): ProjectListView[] {\n    return this._projects;\n  }\n  set projects(projects: ProjectListView[]) {\n    this.selection.clear();\n    this._projects = projects;\n    this.dataSource.data = projects;\n  }\n  private _projects: ProjectListView[];\n\n  @Input()\n  set search(search: string) {\n    this.selection.clear();\n    this.dataSource.filter = search;\n  }\n\n  @Output() editProjectEvent = new EventEmitter<string>();\n  @Output() deleteProjectEvent = new EventEmitter<ProjectListView[]>();\n  @Output() newProjectEvent = new EventEmitter();\n\n  selection = new SelectionModel<string>(true, []);\n  protected dataSource = new TableDataSource<ProjectListView>();\n  protected hasWriteAccessOnSelected$ = this.selection.changed.pipe(\n    map((_) => this.selectedHasWriteAccess()),\n  );\n\n  constructor(\n    private i18nService: I18nService,\n    private platformUtilsService: PlatformUtilsService,\n  ) {}\n\n  isAllSelected() {\n    if (this.selection.selected?.length > 0) {\n      const numSelected = this.selection.selected.length;\n      const numRows = this.dataSource.filteredData.length;\n      return numSelected === numRows;\n    }\n    return false;\n  }\n\n  toggleAll() {\n    if (this.isAllSelected()) {\n      this.selection.clear();\n    } else {\n      this.selection.select(...this.dataSource.filteredData.map((s) => s.id));\n    }\n  }\n\n  deleteProject(projectId: string) {\n    this.deleteProjectEvent.emit(this.projects.filter((p) => p.id == projectId));\n  }\n\n  bulkDeleteProjects() {\n    if (this.selection.selected.length >= 1) {\n      this.deleteProjectEvent.emit(\n        this.projects.filter((project) => this.selection.isSelected(project.id)),\n      );\n    } else {\n      this.platformUtilsService.showToast(\n        \"error\",\n        this.i18nService.t(\"errorOccurred\"),\n        this.i18nService.t(\"nothingSelected\"),\n      );\n    }\n  }\n\n  private selectedHasWriteAccess() {\n    const selectedProjects = this.projects.filter((project) =>\n      this.selection.isSelected(project.id),\n    );\n    if (selectedProjects.some((project) => project.write)) {\n      return true;\n    }\n    return false;\n  }\n}\n","<ng-template #content>\n  <i class=\"bwi bwi-fw !tw-mr-4\" [ngClass]=\"completed ? 'bwi-check tw-text-success' : icon\"></i\n  ><span\n    [ngClass]=\"{\n      'tw-text-primary-700 tw-line-through tw-decoration-primary-700 tw-opacity-50': completed\n    }\"\n    >{{ title }}<i class=\"bwi bwi-angle-right tw-ml-1\"></i\n  ></span>\n</ng-template>\n\n<li class=\"tw-list-none\">\n  <a bitLink *ngIf=\"route\" [routerLink]=\"route\">\n    <ng-container *ngTemplateOutlet=\"content\"></ng-container>\n  </a>\n  <button type=\"button\" bitLink *ngIf=\"!route\">\n    <ng-container *ngTemplateOutlet=\"content\"></ng-container>\n  </button>\n  <div\n    class=\"tw-ml-8 tw-mt-1 tw-text-sm\"\n    [ngClass]=\"{ 'tw-opacity-50': completed }\"\n    (click)=\"handleClick($event)\"\n  >\n    <ng-content></ng-content>\n  </div>\n</li>\n","import { Component, Input } from \"@angular/core\";\n\n@Component({\n  selector: \"sm-onboarding-task\",\n  templateUrl: \"./onboarding-task.component.html\",\n  host: {\n    class: \"tw-max-w-max\",\n  },\n})\nexport class OnboardingTaskComponent {\n  @Input()\n  completed = false;\n\n  @Input()\n  icon = \"bwi-info-circle\";\n\n  @Input()\n  title: string;\n\n  @Input()\n  route: string | any[];\n\n  handleClick(ev: MouseEvent) {\n    /**\n     * If the main `ng-content` is clicked, we don't want to trigger the task's click handler.\n     */\n    ev.stopPropagation();\n  }\n}\n","<details #details class=\"tw-rounded-sm tw-bg-background-alt tw-text-main\" (toggle)=\"toggle()\" open>\n  <summary class=\"tw-list-none tw-p-2 tw-px-4\">\n    <div class=\"tw-flex tw-select-none tw-items-center tw-gap-4\">\n      <i class=\"bwi bwi-dashboard tw-text-3xl tw-text-primary-500\" aria-hidden=\"true\"></i>\n      <div class=\"tw-text-lg\">{{ title }}</div>\n      <bit-progress class=\"tw-flex-1\" [showText]=\"false\" [barWidth]=\"barWidth\"></bit-progress>\n      <span *ngIf=\"tasks.length > 0; else spinner\">\n        {{ \"complete\" | i18n: amountCompleted : tasks.length }}\n      </span>\n      <i\n        class=\"bwi tw-my-auto\"\n        [ngClass]=\"open ? 'bwi-angle-down' : 'bwi-angle-up'\"\n        aria-hidden=\"true\"\n      ></i>\n    </div>\n  </summary>\n  <ul class=\"tw-mb-0 tw-ml-6 tw-flex tw-flex-col tw-gap-4\">\n    <ng-content></ng-content>\n  </ul>\n  <div class=\"tw-p-4 tw-pt-0\">\n    <button bitLink type=\"button\" class=\"tw-ml-auto tw-block\" (click)=\"dismiss.emit()\">\n      {{ \"dismiss\" | i18n }}\n    </button>\n  </div>\n</details>\n\n<ng-template #spinner>\n  <i class=\"bwi bwi-spinner bwi-spin\"></i>\n</ng-template>\n","import { Component, ContentChildren, EventEmitter, Input, Output, QueryList } from \"@angular/core\";\n\nimport { OnboardingTaskComponent } from \"./onboarding-task.component\";\n\n@Component({\n  selector: \"sm-onboarding\",\n  templateUrl: \"./onboarding.component.html\",\n})\nexport class OnboardingComponent {\n  @ContentChildren(OnboardingTaskComponent) tasks: QueryList<OnboardingTaskComponent>;\n  @Input() title: string;\n\n  @Output() dismiss = new EventEmitter<void>();\n\n  protected open = true;\n  protected visible = false;\n\n  protected get amountCompleted(): number {\n    return this.tasks.filter((task) => task.completed).length;\n  }\n\n  protected get barWidth(): number {\n    return this.tasks.length === 0 ? 0 : (this.amountCompleted / this.tasks.length) * 100;\n  }\n\n  protected toggle() {\n    this.open = !this.open;\n  }\n}\n","<section>\n  <header class=\"tw-flex tw-max-w-min tw-items-center tw-gap-2\">\n    <div><ng-content select=\"[slot=summary]\"></ng-content></div>\n    <button\n      type=\"button\"\n      [bitIconButton]=\"open ? 'bwi-angle-up' : 'bwi-angle-down'\"\n      (click)=\"toggle()\"\n      [attr.aria-expanded]=\"open\"\n      [attr.aria-controls]=\"contentId\"\n    ></button>\n  </header>\n  <div *ngIf=\"open\" [attr.id]=\"contentId\" class=\"tw-mt-4\">\n    <ng-content></ng-content>\n  </div>\n</section>\n","import { Component, Input } from \"@angular/core\";\n\n@Component({\n  selector: \"sm-section\",\n  templateUrl: \"./section.component.html\",\n})\nexport class SectionComponent {\n  @Input() open = true;\n\n  /**\n   * UID for `[attr.aria-controls]`\n   */\n  protected contentId = Math.random().toString(36).substring(2);\n\n  protected toggle() {\n    this.open = !this.open;\n  }\n}\n","<app-header [title]=\"organizationName\">\n  <sm-new-menu></sm-new-menu>\n</app-header>\n\n<div *ngIf=\"!loading && view$ | async as view; else spinner\">\n  <sm-onboarding [title]=\"'getStarted' | i18n\" *ngIf=\"showOnboarding\" (dismiss)=\"hideOnboarding()\">\n    <sm-onboarding-task\n      [title]=\"'createServiceAccount' | i18n\"\n      (click)=\"openServiceAccountDialog()\"\n      icon=\"bwi-cli\"\n      [completed]=\"view.tasks.createServiceAccount\"\n    >\n      <span class=\"tw-pl-1\">\n        {{ \"downloadThe\" | i18n }}\n        <a bitLink href=\"https://bitwarden.com/help/secrets-manager-cli/\" target=\"_blank\">{{\n          \"smCLI\" | i18n\n        }}</a>\n      </span>\n    </sm-onboarding-task>\n    <sm-onboarding-task\n      *ngIf=\"userIsAdmin\"\n      [title]=\"'createProject' | i18n\"\n      (click)=\"openNewProjectDialog()\"\n      icon=\"bwi-collection\"\n      [completed]=\"view.tasks.createProject\"\n    ></sm-onboarding-task>\n    <sm-onboarding-task\n      *ngIf=\"userIsAdmin\"\n      [title]=\"'importSecrets' | i18n\"\n      [route]=\"['settings', 'import']\"\n      icon=\"bwi-download\"\n      [completed]=\"view.tasks.importSecrets\"\n    ></sm-onboarding-task>\n    <sm-onboarding-task\n      *ngIf=\"view.tasks.createProject\"\n      [title]=\"'createSecret' | i18n\"\n      (click)=\"openSecretDialog()\"\n      icon=\"bwi-key\"\n      [completed]=\"view.tasks.createSecret\"\n    ></sm-onboarding-task>\n  </sm-onboarding>\n\n  <div class=\"tw-mt-6 tw-flex tw-flex-col tw-gap-6\">\n    <sm-section>\n      <h2 slot=\"summary\" class=\"tw-mb-0\" bitTypography=\"h2\" noMargin>{{ \"projects\" | i18n }}</h2>\n      <sm-projects-list\n        (newProjectEvent)=\"openNewProjectDialog()\"\n        (editProjectEvent)=\"openEditProject($event)\"\n        (deleteProjectEvent)=\"openDeleteProjectDialog($event)\"\n        [projects]=\"view.latestProjects\"\n      ></sm-projects-list>\n      <div *ngIf=\"view.allProjects.length > 0\" class=\"tw-ml-auto tw-mt-4 tw-max-w-max\">\n        {{ \"showingPortionOfTotal\" | i18n: view.latestProjects.length : view.allProjects.length }}\n        <a bitLink routerLink=\"projects\" class=\"tw-ml-2\">{{ \"viewAll\" | i18n }}</a>\n      </div>\n    </sm-section>\n    <sm-section>\n      <h2 slot=\"summary\" class=\"tw-mb-0\" bitTypography=\"h2\" noMargin>{{ \"secrets\" | i18n }}</h2>\n      <sm-secrets-list\n        baseRoute=\"secrets\"\n        (deleteSecretsEvent)=\"openDeleteSecret($event)\"\n        (newSecretEvent)=\"openNewSecretDialog()\"\n        (editSecretEvent)=\"openEditSecret($event)\"\n        (copySecretNameEvent)=\"copySecretName($event)\"\n        (copySecretValueEvent)=\"copySecretValue($event)\"\n        (copySecretUuidEvent)=\"copySecretUuid($event)\"\n        [secrets]=\"view.latestSecrets\"\n      ></sm-secrets-list>\n      <div *ngIf=\"view.allSecrets.length > 0\" class=\"tw-ml-auto tw-mt-4 tw-max-w-max\">\n        {{ \"showingPortionOfTotal\" | i18n: view.latestSecrets.length : view.allSecrets.length }}\n        <a bitLink routerLink=\"secrets\" class=\"tw-ml-2\">{{ \"viewAll\" | i18n }}</a>\n      </div>\n    </sm-section>\n  </div>\n</div>\n\n<ng-template #spinner>\n  <div class=\"tw-items-center tw-justify-center tw-pt-64 tw-text-center\">\n    <i class=\"bwi bwi-spinner bwi-spin bwi-3x\"></i>\n  </div>\n</ng-template>\n","import { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport {\n  map,\n  Observable,\n  switchMap,\n  Subject,\n  takeUntil,\n  combineLatest,\n  startWith,\n  distinctUntilChanged,\n  take,\n  share,\n} from \"rxjs\";\n\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { StateService } from \"@bitwarden/common/platform/abstractions/state.service\";\nimport { DialogService } from \"@bitwarden/components\";\n\nimport { ProjectListView } from \"../models/view/project-list.view\";\nimport { SecretListView } from \"../models/view/secret-list.view\";\nimport {\n  ProjectDeleteDialogComponent,\n  ProjectDeleteOperation,\n} from \"../projects/dialog/project-delete-dialog.component\";\nimport {\n  ProjectDialogComponent,\n  ProjectOperation,\n} from \"../projects/dialog/project-dialog.component\";\nimport { ProjectService } from \"../projects/project.service\";\nimport {\n  SecretDeleteDialogComponent,\n  SecretDeleteOperation,\n} from \"../secrets/dialog/secret-delete.component\";\nimport {\n  OperationType,\n  SecretDialogComponent,\n  SecretOperation,\n} from \"../secrets/dialog/secret-dialog.component\";\nimport { SecretService } from \"../secrets/secret.service\";\nimport {\n  ServiceAccountDialogComponent,\n  ServiceAccountOperation,\n} from \"../service-accounts/dialog/service-account-dialog.component\";\nimport { ServiceAccountService } from \"../service-accounts/service-account.service\";\nimport { SecretsListComponent } from \"../shared/secrets-list.component\";\n\ntype Tasks = {\n  [organizationId: string]: OrganizationTasks;\n};\n\ntype OrganizationTasks = {\n  importSecrets: boolean;\n  createSecret: boolean;\n  createProject: boolean;\n  createServiceAccount: boolean;\n};\n\n@Component({\n  selector: \"sm-overview\",\n  templateUrl: \"./overview.component.html\",\n})\nexport class OverviewComponent implements OnInit, OnDestroy {\n  private destroy$: Subject<void> = new Subject<void>();\n  private tableSize = 10;\n  private organizationId: string;\n  protected organizationName: string;\n  protected userIsAdmin: boolean;\n  protected showOnboarding = false;\n  protected loading = true;\n  protected organizationEnabled = false;\n\n  protected view$: Observable<{\n    allProjects: ProjectListView[];\n    allSecrets: SecretListView[];\n    latestProjects: ProjectListView[];\n    latestSecrets: SecretListView[];\n    tasks: OrganizationTasks;\n  }>;\n\n  constructor(\n    private route: ActivatedRoute,\n    private projectService: ProjectService,\n    private secretService: SecretService,\n    private serviceAccountService: ServiceAccountService,\n    private dialogService: DialogService,\n    private organizationService: OrganizationService,\n    private stateService: StateService,\n    private platformUtilsService: PlatformUtilsService,\n    private i18nService: I18nService,\n  ) {}\n\n  ngOnInit() {\n    const orgId$ = this.route.params.pipe(\n      map((p) => p.organizationId),\n      distinctUntilChanged(),\n    );\n\n    orgId$\n      .pipe(\n        map((orgId) => this.organizationService.get(orgId)),\n        takeUntil(this.destroy$),\n      )\n      .subscribe((org) => {\n        this.organizationId = org.id;\n        this.organizationName = org.name;\n        this.userIsAdmin = org.isAdmin;\n        this.loading = true;\n        this.organizationEnabled = org.enabled;\n      });\n\n    const projects$ = combineLatest([\n      orgId$,\n      this.projectService.project$.pipe(startWith(null)),\n    ]).pipe(\n      switchMap(([orgId]) => this.projectService.getProjects(orgId)),\n      share(),\n    );\n\n    const secrets$ = combineLatest([\n      orgId$,\n      this.secretService.secret$.pipe(startWith(null)),\n      this.projectService.project$.pipe(startWith(null)),\n    ]).pipe(\n      switchMap(([orgId]) => this.secretService.getSecrets(orgId)),\n      share(),\n    );\n\n    const serviceAccounts$ = combineLatest([\n      orgId$,\n      this.serviceAccountService.serviceAccount$.pipe(startWith(null)),\n    ]).pipe(\n      switchMap(([orgId]) => this.serviceAccountService.getServiceAccounts(orgId, false)),\n      share(),\n    );\n\n    this.view$ = orgId$.pipe(\n      switchMap((orgId) =>\n        combineLatest([projects$, secrets$, serviceAccounts$]).pipe(\n          switchMap(async ([projects, secrets, serviceAccounts]) => ({\n            latestProjects: this.getRecentItems(projects, this.tableSize),\n            latestSecrets: this.getRecentItems(secrets, this.tableSize),\n            allProjects: projects,\n            allSecrets: secrets,\n            tasks: await this.saveCompletedTasks(orgId, {\n              importSecrets: secrets.length > 0,\n              createSecret: secrets.length > 0,\n              createProject: projects.length > 0,\n              createServiceAccount: serviceAccounts.length > 0,\n            }),\n          })),\n        ),\n      ),\n    );\n\n    // Refresh onboarding status when orgId changes by fetching the first value from view$.\n    orgId$\n      .pipe(\n        switchMap(() => this.view$.pipe(take(1))),\n        takeUntil(this.destroy$),\n      )\n      .subscribe((view) => {\n        this.showOnboarding = Object.values(view.tasks).includes(false);\n        this.loading = false;\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  private getRecentItems<T extends { revisionDate: string }[]>(items: T, length: number): T {\n    return items\n      .sort((a, b) => {\n        return new Date(b.revisionDate).getTime() - new Date(a.revisionDate).getTime();\n      })\n      .slice(0, length) as T;\n  }\n\n  private async saveCompletedTasks(\n    organizationId: string,\n    orgTasks: OrganizationTasks,\n  ): Promise<OrganizationTasks> {\n    const prevTasks = ((await this.stateService.getSMOnboardingTasks()) || {}) as Tasks;\n    const newlyCompletedOrgTasks = Object.fromEntries(\n      Object.entries(orgTasks).filter(([_k, v]) => v === true),\n    );\n    const nextOrgTasks = {\n      importSecrets: false,\n      createSecret: false,\n      createProject: false,\n      createServiceAccount: false,\n      ...prevTasks[organizationId],\n      ...newlyCompletedOrgTasks,\n    };\n    this.stateService.setSMOnboardingTasks({\n      ...prevTasks,\n      [organizationId]: nextOrgTasks,\n    });\n    return nextOrgTasks as OrganizationTasks;\n  }\n\n  // Projects ---\n\n  openEditProject(projectId: string) {\n    this.dialogService.open<unknown, ProjectOperation>(ProjectDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Edit,\n        organizationEnabled: this.organizationEnabled,\n        projectId: projectId,\n      },\n    });\n  }\n\n  openNewProjectDialog() {\n    this.dialogService.open<unknown, ProjectOperation>(ProjectDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Add,\n        organizationEnabled: this.organizationEnabled,\n      },\n    });\n  }\n\n  openServiceAccountDialog() {\n    this.dialogService.open<unknown, ServiceAccountOperation>(ServiceAccountDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Add,\n        organizationEnabled: this.organizationEnabled,\n      },\n    });\n  }\n\n  openDeleteProjectDialog(event: ProjectListView[]) {\n    this.dialogService.open<unknown, ProjectDeleteOperation>(ProjectDeleteDialogComponent, {\n      data: {\n        projects: event,\n      },\n    });\n  }\n\n  // Secrets ---\n\n  openSecretDialog() {\n    this.dialogService.open<unknown, SecretOperation>(SecretDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Add,\n        organizationEnabled: this.organizationEnabled,\n      },\n    });\n  }\n\n  openEditSecret(secretId: string) {\n    this.dialogService.open<unknown, SecretOperation>(SecretDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Edit,\n        secretId: secretId,\n        organizationEnabled: this.organizationEnabled,\n      },\n    });\n  }\n\n  openDeleteSecret(event: SecretListView[]) {\n    this.dialogService.open<unknown, SecretDeleteOperation>(SecretDeleteDialogComponent, {\n      data: {\n        secrets: event,\n      },\n    });\n  }\n\n  openNewSecretDialog() {\n    this.dialogService.open<unknown, SecretOperation>(SecretDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Add,\n        organizationEnabled: this.organizationEnabled,\n      },\n    });\n  }\n\n  copySecretName(name: string) {\n    SecretsListComponent.copySecretName(name, this.platformUtilsService, this.i18nService);\n  }\n\n  copySecretValue(id: string) {\n    SecretsListComponent.copySecretValue(\n      id,\n      this.platformUtilsService,\n      this.i18nService,\n      this.secretService,\n    );\n  }\n\n  copySecretUuid(id: string) {\n    SecretsListComponent.copySecretUuid(id, this.platformUtilsService, this.i18nService);\n  }\n\n  protected hideOnboarding() {\n    this.showOnboarding = false;\n    this.saveCompletedTasks(this.organizationId, {\n      importSecrets: true,\n      createSecret: true,\n      createProject: true,\n      createServiceAccount: true,\n    });\n  }\n}\n","import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\n\nimport { OverviewComponent } from \"./overview.component\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: OverviewComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class OverviewRoutingModule {}\n","import { NgModule } from \"@angular/core\";\n\nimport { SecretsManagerSharedModule } from \"../shared/sm-shared.module\";\n\nimport { OnboardingModule } from \"./onboarding.module\";\nimport { OverviewRoutingModule } from \"./overview-routing.module\";\nimport { OverviewComponent } from \"./overview.component\";\nimport { SectionComponent } from \"./section.component\";\n\n@NgModule({\n  imports: [SecretsManagerSharedModule, OverviewRoutingModule, OnboardingModule],\n  declarations: [OverviewComponent, SectionComponent],\n  providers: [],\n})\nexport class OverviewModule {}\n","export enum ApItemEnum {\n  User,\n  Group,\n  ServiceAccount,\n  Project,\n}\n\nexport class ApItemEnumUtil {\n  static itemIcon(type: ApItemEnum): string {\n    switch (type) {\n      case ApItemEnum.User:\n        return \"bwi-user\";\n      case ApItemEnum.Group:\n        return \"bwi-family\";\n      case ApItemEnum.ServiceAccount:\n        return \"bwi-wrench\";\n      case ApItemEnum.Project:\n        return \"bwi-collection\";\n    }\n  }\n}\n","export enum ApPermissionEnum {\n  CanRead = \"canRead\",\n  CanReadWrite = \"canReadWrite\",\n}\n\nexport class ApPermissionEnumUtil {\n  static toApPermissionEnum(read: boolean, write: boolean): ApPermissionEnum {\n    if (read && write) {\n      return ApPermissionEnum.CanReadWrite;\n    } else if (read) {\n      return ApPermissionEnum.CanRead;\n    } else {\n      throw new Error(\"Unsupported Access Policy Permission option\");\n    }\n  }\n\n  static toRead(permission: ApPermissionEnum): boolean {\n    if (permission == ApPermissionEnum.CanRead || permission == ApPermissionEnum.CanReadWrite) {\n      return true;\n    }\n    return false;\n  }\n\n  static toWrite(permission: ApPermissionEnum): boolean {\n    if (permission === ApPermissionEnum.CanReadWrite) {\n      return true;\n    }\n    return false;\n  }\n}\n","import { Injectable } from \"@angular/core\";\n\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\n\nimport { ApItemValueType } from \"./models/ap-item-value.type\";\nimport { ApItemViewType } from \"./models/ap-item-view.type\";\nimport { ApItemEnum } from \"./models/enums/ap-item.enum\";\nimport { ApPermissionEnum } from \"./models/enums/ap-permission.enum\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class AccessPolicySelectorService {\n  constructor(private organizationService: OrganizationService) {}\n\n  async showAccessRemovalWarning(\n    organizationId: string,\n    selectedPoliciesValues: ApItemValueType[],\n  ): Promise<boolean> {\n    const organization = this.organizationService.get(organizationId);\n    if (organization.isOwner || organization.isAdmin) {\n      return false;\n    }\n\n    const selectedUserReadWritePolicy = selectedPoliciesValues.find(\n      (s) =>\n        s.type === ApItemEnum.User &&\n        s.currentUser &&\n        s.permission === ApPermissionEnum.CanReadWrite,\n    );\n\n    const selectedGroupReadWritePolicies = selectedPoliciesValues.filter(\n      (s) =>\n        s.type === ApItemEnum.Group &&\n        s.permission == ApPermissionEnum.CanReadWrite &&\n        s.currentUserInGroup,\n    );\n\n    if (selectedGroupReadWritePolicies == null || selectedGroupReadWritePolicies.length == 0) {\n      if (selectedUserReadWritePolicy == null) {\n        return true;\n      } else {\n        return false;\n      }\n    }\n\n    return false;\n  }\n\n  isAccessRemoval(current: ApItemViewType[], selected: ApItemValueType[]): boolean {\n    if (current?.length === 0) {\n      return false;\n    }\n\n    if (selected?.length === 0) {\n      return true;\n    }\n\n    return this.isAnyCurrentIdNotInSelectedIds(current, selected);\n  }\n\n  private isAnyCurrentIdNotInSelectedIds(\n    current: ApItemViewType[],\n    selected: ApItemValueType[],\n  ): boolean {\n    const currentIds = current.map((x) => x.id);\n    const selectedIds = selected.map((x) => x.id);\n    return !currentIds.every((id) => selectedIds.includes(id));\n  }\n}\n","export class BaseAccessPolicyView {\n  id: string;\n  read: boolean;\n  write: boolean;\n  creationDate: string;\n  revisionDate: string;\n}\n\nexport class UserProjectAccessPolicyView extends BaseAccessPolicyView {\n  organizationUserId: string;\n  organizationUserName: string;\n  grantedProjectId: string;\n  userId: string;\n  currentUser: boolean;\n}\n\nexport class UserServiceAccountAccessPolicyView extends BaseAccessPolicyView {\n  organizationUserId: string;\n  organizationUserName: string;\n  grantedServiceAccountId: string;\n  userId: string;\n  currentUser: boolean;\n}\n\nexport class GroupProjectAccessPolicyView extends BaseAccessPolicyView {\n  groupId: string;\n  groupName: string;\n  grantedProjectId: string;\n  currentUserInGroup: boolean;\n}\n\nexport class GroupServiceAccountAccessPolicyView extends BaseAccessPolicyView {\n  groupId: string;\n  groupName: string;\n  grantedServiceAccountId: string;\n  currentUserInGroup: boolean;\n}\n\nexport class ServiceAccountProjectAccessPolicyView extends BaseAccessPolicyView {\n  serviceAccountId: string;\n  serviceAccountName: string;\n  grantedProjectId: string;\n  grantedProjectName: string;\n}\n\nexport class ProjectAccessPoliciesView {\n  userAccessPolicies: UserProjectAccessPolicyView[];\n  groupAccessPolicies: GroupProjectAccessPolicyView[];\n  serviceAccountAccessPolicies: ServiceAccountProjectAccessPolicyView[];\n}\n\nexport class ProjectPeopleAccessPoliciesView {\n  userAccessPolicies: UserProjectAccessPolicyView[];\n  groupAccessPolicies: GroupProjectAccessPolicyView[];\n}\n\nexport class ServiceAccountPeopleAccessPoliciesView {\n  userAccessPolicies: UserServiceAccountAccessPolicyView[];\n  groupAccessPolicies: GroupServiceAccountAccessPolicyView[];\n}\n","import { Utils } from \"@bitwarden/common/platform/misc/utils\";\nimport { SelectItemView } from \"@bitwarden/components\";\n\nimport {\n  ProjectPeopleAccessPoliciesView,\n  ServiceAccountPeopleAccessPoliciesView,\n} from \"../../../../models/view/access-policy.view\";\nimport { PotentialGranteeView } from \"../../../../models/view/potential-grantee.view\";\n\nimport { ApItemEnum, ApItemEnumUtil } from \"./enums/ap-item.enum\";\nimport { ApPermissionEnum, ApPermissionEnumUtil } from \"./enums/ap-permission.enum\";\n\nexport type ApItemViewType = SelectItemView & {\n  accessPolicyId?: string;\n  permission?: ApPermissionEnum;\n} & (\n    | {\n        type: ApItemEnum.User;\n        userId?: string;\n        currentUser?: boolean;\n      }\n    | {\n        type: ApItemEnum.Group;\n        currentUserInGroup?: boolean;\n      }\n    | {\n        type: ApItemEnum.ServiceAccount;\n      }\n    | {\n        type: ApItemEnum.Project;\n      }\n  );\n\nexport function convertToAccessPolicyItemViews(\n  value: ProjectPeopleAccessPoliciesView | ServiceAccountPeopleAccessPoliciesView,\n): ApItemViewType[] {\n  const accessPolicies: ApItemViewType[] = [];\n\n  value.userAccessPolicies.forEach((policy) => {\n    accessPolicies.push({\n      type: ApItemEnum.User,\n      icon: ApItemEnumUtil.itemIcon(ApItemEnum.User),\n      id: policy.organizationUserId,\n      accessPolicyId: policy.id,\n      labelName: policy.organizationUserName,\n      listName: policy.organizationUserName,\n      permission: ApPermissionEnumUtil.toApPermissionEnum(policy.read, policy.write),\n      userId: policy.userId,\n      currentUser: policy.currentUser,\n    });\n  });\n\n  value.groupAccessPolicies.forEach((policy) => {\n    accessPolicies.push({\n      type: ApItemEnum.Group,\n      icon: ApItemEnumUtil.itemIcon(ApItemEnum.Group),\n      id: policy.groupId,\n      accessPolicyId: policy.id,\n      labelName: policy.groupName,\n      listName: policy.groupName,\n      permission: ApPermissionEnumUtil.toApPermissionEnum(policy.read, policy.write),\n      currentUserInGroup: policy.currentUserInGroup,\n    });\n  });\n\n  return accessPolicies;\n}\n\nexport function convertPotentialGranteesToApItemViewType(\n  grantees: PotentialGranteeView[],\n): ApItemViewType[] {\n  return grantees.map((granteeView) => {\n    let icon: string;\n    let type: ApItemEnum;\n    let listName = granteeView.name;\n    let labelName = granteeView.name;\n\n    switch (granteeView.type) {\n      case \"user\":\n        icon = ApItemEnumUtil.itemIcon(ApItemEnum.User);\n        type = ApItemEnum.User;\n        if (Utils.isNullOrWhitespace(granteeView.name)) {\n          listName = granteeView.email;\n          labelName = granteeView.email;\n        } else {\n          listName = `${granteeView.name} (${granteeView.email})`;\n        }\n        break;\n      case \"group\":\n        icon = ApItemEnumUtil.itemIcon(ApItemEnum.Group);\n        type = ApItemEnum.Group;\n        break;\n      case \"serviceAccount\":\n        icon = ApItemEnumUtil.itemIcon(ApItemEnum.ServiceAccount);\n        type = ApItemEnum.ServiceAccount;\n        break;\n      case \"project\":\n        icon = ApItemEnumUtil.itemIcon(ApItemEnum.Project);\n        type = ApItemEnum.Project;\n        break;\n    }\n\n    return {\n      icon: icon,\n      type: type,\n      id: granteeView.id,\n      labelName: labelName,\n      listName: listName,\n      currentUserInGroup: granteeView.currentUserInGroup,\n      currentUser: granteeView.currentUser,\n    };\n  });\n}\n","export class PotentialGranteeView {\n  id: string;\n  name: string;\n  type: string;\n  email: string;\n  currentUserInGroup: boolean;\n  currentUser: boolean;\n}\n","import { AccessPolicyRequest } from \"./access-policy.request\";\n\nexport class AccessPoliciesCreateRequest {\n  userAccessPolicyRequests?: AccessPolicyRequest[];\n  groupAccessPolicyRequests?: AccessPolicyRequest[];\n  serviceAccountAccessPolicyRequests?: AccessPolicyRequest[];\n}\n","import { AccessPolicyRequest } from \"./access-policy.request\";\n\nexport class PeopleAccessPoliciesRequest {\n  userAccessPolicyRequests?: AccessPolicyRequest[];\n  groupAccessPolicyRequests?: AccessPolicyRequest[];\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nexport class BaseAccessPolicyResponse extends BaseResponse {\n  id: string;\n  read: boolean;\n  write: boolean;\n  creationDate: string;\n  revisionDate: string;\n\n  constructor(response: any) {\n    super(response);\n    this.id = this.getResponseProperty(\"Id\");\n    this.read = this.getResponseProperty(\"Read\");\n    this.write = this.getResponseProperty(\"Write\");\n    this.creationDate = this.getResponseProperty(\"CreationDate\");\n    this.revisionDate = this.getResponseProperty(\"RevisionDate\");\n  }\n}\n\nexport class UserProjectAccessPolicyResponse extends BaseAccessPolicyResponse {\n  organizationUserId: string;\n  organizationUserName: string;\n  grantedProjectId: string;\n  userId: string;\n  currentUser: boolean;\n\n  constructor(response: any) {\n    super(response);\n    this.organizationUserId = this.getResponseProperty(\"OrganizationUserId\");\n    this.organizationUserName = this.getResponseProperty(\"OrganizationUserName\");\n    this.grantedProjectId = this.getResponseProperty(\"GrantedProjectId\");\n    this.userId = this.getResponseProperty(\"UserId\");\n    this.currentUser = this.getResponseProperty(\"CurrentUser\");\n  }\n}\n\nexport class UserServiceAccountAccessPolicyResponse extends BaseAccessPolicyResponse {\n  organizationUserId: string;\n  organizationUserName: string;\n  grantedServiceAccountId: string;\n  userId: string;\n  currentUser: boolean;\n\n  constructor(response: any) {\n    super(response);\n    this.organizationUserId = this.getResponseProperty(\"OrganizationUserId\");\n    this.organizationUserName = this.getResponseProperty(\"OrganizationUserName\");\n    this.grantedServiceAccountId = this.getResponseProperty(\"GrantedServiceAccountId\");\n    this.userId = this.getResponseProperty(\"UserId\");\n    this.currentUser = this.getResponseProperty(\"CurrentUser\");\n  }\n}\n\nexport class GroupProjectAccessPolicyResponse extends BaseAccessPolicyResponse {\n  groupId: string;\n  groupName: string;\n  grantedProjectId: string;\n  currentUserInGroup: boolean;\n\n  constructor(response: any) {\n    super(response);\n    this.groupId = this.getResponseProperty(\"GroupId\");\n    this.groupName = this.getResponseProperty(\"GroupName\");\n    this.grantedProjectId = this.getResponseProperty(\"GrantedProjectId\");\n    this.currentUserInGroup = this.getResponseProperty(\"CurrentUserInGroup\");\n  }\n}\n\nexport class GroupServiceAccountAccessPolicyResponse extends BaseAccessPolicyResponse {\n  groupId: string;\n  groupName: string;\n  grantedServiceAccountId: string;\n  currentUserInGroup: boolean;\n\n  constructor(response: any) {\n    super(response);\n    this.groupId = this.getResponseProperty(\"GroupId\");\n    this.groupName = this.getResponseProperty(\"GroupName\");\n    this.grantedServiceAccountId = this.getResponseProperty(\"GrantedServiceAccountId\");\n    this.currentUserInGroup = this.getResponseProperty(\"CurrentUserInGroup\");\n  }\n}\n\nexport class ServiceAccountProjectAccessPolicyResponse extends BaseAccessPolicyResponse {\n  serviceAccountId: string;\n  serviceAccountName: string;\n  grantedProjectId: string;\n  grantedProjectName: string;\n\n  constructor(response: any) {\n    super(response);\n    this.serviceAccountId = this.getResponseProperty(\"ServiceAccountId\");\n    this.serviceAccountName = this.getResponseProperty(\"ServiceAccountName\");\n    this.grantedProjectId = this.getResponseProperty(\"GrantedProjectId\");\n    this.grantedProjectName = this.getResponseProperty(\"GrantedProjectName\");\n  }\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nimport {\n  GroupProjectAccessPolicyResponse,\n  ServiceAccountProjectAccessPolicyResponse,\n  UserProjectAccessPolicyResponse,\n} from \"./access-policy.response\";\n\nexport class ProjectAccessPoliciesResponse extends BaseResponse {\n  userAccessPolicies: UserProjectAccessPolicyResponse[];\n  groupAccessPolicies: GroupProjectAccessPolicyResponse[];\n  serviceAccountAccessPolicies: ServiceAccountProjectAccessPolicyResponse[];\n\n  constructor(response: any) {\n    super(response);\n    const userAccessPolicies = this.getResponseProperty(\"UserAccessPolicies\");\n    this.userAccessPolicies = userAccessPolicies.map(\n      (k: any) => new UserProjectAccessPolicyResponse(k),\n    );\n    const groupAccessPolicies = this.getResponseProperty(\"GroupAccessPolicies\");\n    this.groupAccessPolicies = groupAccessPolicies.map(\n      (k: any) => new GroupProjectAccessPolicyResponse(k),\n    );\n    const serviceAccountAccessPolicies = this.getResponseProperty(\"ServiceAccountAccessPolicies\");\n    this.serviceAccountAccessPolicies = serviceAccountAccessPolicies.map(\n      (k: any) => new ServiceAccountProjectAccessPolicyResponse(k),\n    );\n  }\n}\n","export class AccessPolicyUpdateRequest {\n  read: boolean;\n  write: boolean;\n}\n","export class AccessPolicyRequest {\n  granteeId: string;\n  read: boolean;\n  write: boolean;\n}\n","export class GrantedPolicyRequest {\n  grantedId: string;\n  read: boolean;\n  write: boolean;\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nexport class PotentialGranteeResponse extends BaseResponse {\n  id: string;\n  name: string;\n  type: string;\n  email: string;\n  currentUserInGroup: boolean;\n  currentUser: boolean;\n\n  constructor(response: any) {\n    super(response);\n    this.id = this.getResponseProperty(\"Id\");\n    this.name = this.getResponseProperty(\"Name\");\n    this.type = this.getResponseProperty(\"Type\");\n    this.email = this.getResponseProperty(\"Email\");\n    this.currentUserInGroup = this.getResponseProperty(\"CurrentUserInGroup\");\n    this.currentUser = this.getResponseProperty(\"CurrentUser\");\n  }\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nimport {\n  GroupProjectAccessPolicyResponse,\n  UserProjectAccessPolicyResponse,\n} from \"./access-policy.response\";\n\nexport class ProjectPeopleAccessPoliciesResponse extends BaseResponse {\n  userAccessPolicies: UserProjectAccessPolicyResponse[];\n  groupAccessPolicies: GroupProjectAccessPolicyResponse[];\n\n  constructor(response: any) {\n    super(response);\n    const userAccessPolicies = this.getResponseProperty(\"UserAccessPolicies\");\n    this.userAccessPolicies = userAccessPolicies.map(\n      (k: any) => new UserProjectAccessPolicyResponse(k),\n    );\n    const groupAccessPolicies = this.getResponseProperty(\"GroupAccessPolicies\");\n    this.groupAccessPolicies = groupAccessPolicies.map(\n      (k: any) => new GroupProjectAccessPolicyResponse(k),\n    );\n  }\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nimport {\n  GroupServiceAccountAccessPolicyResponse,\n  UserServiceAccountAccessPolicyResponse,\n} from \"./access-policy.response\";\n\nexport class ServiceAccountPeopleAccessPoliciesResponse extends BaseResponse {\n  userAccessPolicies: UserServiceAccountAccessPolicyResponse[];\n  groupAccessPolicies: GroupServiceAccountAccessPolicyResponse[];\n\n  constructor(response: any) {\n    super(response);\n    const userAccessPolicies = this.getResponseProperty(\"UserAccessPolicies\");\n    this.userAccessPolicies = userAccessPolicies.map(\n      (k: any) => new UserServiceAccountAccessPolicyResponse(k),\n    );\n    const groupAccessPolicies = this.getResponseProperty(\"GroupAccessPolicies\");\n    this.groupAccessPolicies = groupAccessPolicies.map(\n      (k: any) => new GroupServiceAccountAccessPolicyResponse(k),\n    );\n  }\n}\n","import { Injectable } from \"@angular/core\";\nimport { Subject } from \"rxjs\";\n\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport { ListResponse } from \"@bitwarden/common/models/response/list.response\";\nimport { CryptoService } from \"@bitwarden/common/platform/abstractions/crypto.service\";\nimport { EncryptService } from \"@bitwarden/common/platform/abstractions/encrypt.service\";\nimport { EncString } from \"@bitwarden/common/platform/models/domain/enc-string\";\nimport { SymmetricCryptoKey } from \"@bitwarden/common/platform/models/domain/symmetric-crypto-key\";\n\nimport {\n  BaseAccessPolicyView,\n  GroupProjectAccessPolicyView,\n  GroupServiceAccountAccessPolicyView,\n  ProjectAccessPoliciesView,\n  ProjectPeopleAccessPoliciesView,\n  ServiceAccountProjectAccessPolicyView,\n  UserProjectAccessPolicyView,\n  UserServiceAccountAccessPolicyView,\n  ServiceAccountPeopleAccessPoliciesView,\n} from \"../../models/view/access-policy.view\";\nimport { PotentialGranteeView } from \"../../models/view/potential-grantee.view\";\nimport { AccessPoliciesCreateRequest } from \"../../shared/access-policies/models/requests/access-policies-create.request\";\nimport { PeopleAccessPoliciesRequest } from \"../../shared/access-policies/models/requests/people-access-policies.request\";\nimport { ProjectAccessPoliciesResponse } from \"../../shared/access-policies/models/responses/project-access-policies.response\";\n\nimport { AccessPolicyUpdateRequest } from \"./models/requests/access-policy-update.request\";\nimport { AccessPolicyRequest } from \"./models/requests/access-policy.request\";\nimport { GrantedPolicyRequest } from \"./models/requests/granted-policy.request\";\nimport {\n  GroupServiceAccountAccessPolicyResponse,\n  UserServiceAccountAccessPolicyResponse,\n  GroupProjectAccessPolicyResponse,\n  ServiceAccountProjectAccessPolicyResponse,\n  UserProjectAccessPolicyResponse,\n} from \"./models/responses/access-policy.response\";\nimport { PotentialGranteeResponse } from \"./models/responses/potential-grantee.response\";\nimport { ProjectPeopleAccessPoliciesResponse } from \"./models/responses/project-people-access-policies.response\";\nimport { ServiceAccountPeopleAccessPoliciesResponse } from \"./models/responses/service-account-people-access-policies.response\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class AccessPolicyService {\n  private _projectAccessPolicyChanges$ = new Subject<ProjectAccessPoliciesView>();\n  private _serviceAccountGrantedPolicyChanges$ = new Subject<\n    ServiceAccountProjectAccessPolicyView[]\n  >();\n\n  /**\n   * Emits when a project access policy is created or deleted.\n   */\n  readonly projectAccessPolicyChanges$ = this._projectAccessPolicyChanges$.asObservable();\n\n  /**\n   * Emits when a service account granted policy is created or deleted.\n   */\n  readonly serviceAccountGrantedPolicyChanges$ =\n    this._serviceAccountGrantedPolicyChanges$.asObservable();\n\n  constructor(\n    private cryptoService: CryptoService,\n    protected apiService: ApiService,\n    protected encryptService: EncryptService,\n  ) {}\n\n  refreshProjectAccessPolicyChanges() {\n    this._projectAccessPolicyChanges$.next(null);\n  }\n\n  async getGrantedPolicies(\n    serviceAccountId: string,\n    organizationId: string,\n  ): Promise<ServiceAccountProjectAccessPolicyView[]> {\n    const r = await this.apiService.send(\n      \"GET\",\n      \"/service-accounts/\" + serviceAccountId + \"/granted-policies\",\n      null,\n      true,\n      true,\n    );\n\n    const results = new ListResponse(r, ServiceAccountProjectAccessPolicyResponse);\n    return await this.createServiceAccountProjectAccessPolicyViews(results.data, organizationId);\n  }\n\n  async createGrantedPolicies(\n    organizationId: string,\n    serviceAccountId: string,\n    policies: ServiceAccountProjectAccessPolicyView[],\n  ): Promise<ServiceAccountProjectAccessPolicyView[]> {\n    const request = this.getGrantedPoliciesCreateRequest(policies);\n    const r = await this.apiService.send(\n      \"POST\",\n      \"/service-accounts/\" + serviceAccountId + \"/granted-policies\",\n      request,\n      true,\n      true,\n    );\n    const results = new ListResponse(r, ServiceAccountProjectAccessPolicyResponse);\n    const views = await this.createServiceAccountProjectAccessPolicyViews(\n      results.data,\n      organizationId,\n    );\n    this._serviceAccountGrantedPolicyChanges$.next(views);\n    return views;\n  }\n\n  async getProjectAccessPolicies(\n    organizationId: string,\n    projectId: string,\n  ): Promise<ProjectAccessPoliciesView> {\n    const r = await this.apiService.send(\n      \"GET\",\n      \"/projects/\" + projectId + \"/access-policies\",\n      null,\n      true,\n      true,\n    );\n\n    const results = new ProjectAccessPoliciesResponse(r);\n    return await this.createProjectAccessPoliciesView(organizationId, results);\n  }\n\n  async getProjectPeopleAccessPolicies(\n    projectId: string,\n  ): Promise<ProjectPeopleAccessPoliciesView> {\n    const r = await this.apiService.send(\n      \"GET\",\n      \"/projects/\" + projectId + \"/access-policies/people\",\n      null,\n      true,\n      true,\n    );\n\n    const results = new ProjectPeopleAccessPoliciesResponse(r);\n    return this.createProjectPeopleAccessPoliciesView(results);\n  }\n\n  async putProjectPeopleAccessPolicies(\n    projectId: string,\n    peoplePoliciesView: ProjectPeopleAccessPoliciesView,\n  ) {\n    const request = this.getPeopleAccessPoliciesRequest(peoplePoliciesView);\n    const r = await this.apiService.send(\n      \"PUT\",\n      \"/projects/\" + projectId + \"/access-policies/people\",\n      request,\n      true,\n      true,\n    );\n    const results = new ProjectPeopleAccessPoliciesResponse(r);\n    return this.createProjectPeopleAccessPoliciesView(results);\n  }\n\n  async getServiceAccountPeopleAccessPolicies(\n    serviceAccountId: string,\n  ): Promise<ServiceAccountPeopleAccessPoliciesView> {\n    const r = await this.apiService.send(\n      \"GET\",\n      \"/service-accounts/\" + serviceAccountId + \"/access-policies/people\",\n      null,\n      true,\n      true,\n    );\n\n    const results = new ServiceAccountPeopleAccessPoliciesResponse(r);\n    return this.createServiceAccountPeopleAccessPoliciesView(results);\n  }\n\n  async putServiceAccountPeopleAccessPolicies(\n    serviceAccountId: string,\n    peoplePoliciesView: ServiceAccountPeopleAccessPoliciesView,\n  ) {\n    const request = this.getPeopleAccessPoliciesRequest(peoplePoliciesView);\n    const r = await this.apiService.send(\n      \"PUT\",\n      \"/service-accounts/\" + serviceAccountId + \"/access-policies/people\",\n      request,\n      true,\n      true,\n    );\n    const results = new ServiceAccountPeopleAccessPoliciesResponse(r);\n    return this.createServiceAccountPeopleAccessPoliciesView(results);\n  }\n\n  async createProjectAccessPolicies(\n    organizationId: string,\n    projectId: string,\n    projectAccessPoliciesView: ProjectAccessPoliciesView,\n  ): Promise<ProjectAccessPoliciesView> {\n    const request = this.getAccessPoliciesCreateRequest(projectAccessPoliciesView);\n    const r = await this.apiService.send(\n      \"POST\",\n      \"/projects/\" + projectId + \"/access-policies\",\n      request,\n      true,\n      true,\n    );\n    const results = new ProjectAccessPoliciesResponse(r);\n    const view = await this.createProjectAccessPoliciesView(organizationId, results);\n    this._projectAccessPolicyChanges$.next(view);\n    return view;\n  }\n\n  async deleteAccessPolicy(accessPolicyId: string): Promise<void> {\n    await this.apiService.send(\"DELETE\", \"/access-policies/\" + accessPolicyId, null, true, false);\n    this._projectAccessPolicyChanges$.next(null);\n    this._serviceAccountGrantedPolicyChanges$.next(null);\n  }\n\n  async updateAccessPolicy(baseAccessPolicyView: BaseAccessPolicyView): Promise<void> {\n    const payload = new AccessPolicyUpdateRequest();\n    payload.read = baseAccessPolicyView.read;\n    payload.write = baseAccessPolicyView.write;\n    await this.apiService.send(\n      \"PUT\",\n      \"/access-policies/\" + baseAccessPolicyView.id,\n      payload,\n      true,\n      true,\n    );\n  }\n\n  private async createProjectAccessPoliciesView(\n    organizationId: string,\n    projectAccessPoliciesResponse: ProjectAccessPoliciesResponse,\n  ): Promise<ProjectAccessPoliciesView> {\n    const orgKey = await this.getOrganizationKey(organizationId);\n    const view = new ProjectAccessPoliciesView();\n\n    view.userAccessPolicies = projectAccessPoliciesResponse.userAccessPolicies.map((ap) => {\n      return this.createUserProjectAccessPolicyView(ap);\n    });\n    view.groupAccessPolicies = projectAccessPoliciesResponse.groupAccessPolicies.map((ap) => {\n      return this.createGroupProjectAccessPolicyView(ap);\n    });\n    view.serviceAccountAccessPolicies = await Promise.all(\n      projectAccessPoliciesResponse.serviceAccountAccessPolicies.map(async (ap) => {\n        return await this.createServiceAccountProjectAccessPolicyView(orgKey, ap);\n      }),\n    );\n    return view;\n  }\n\n  private createProjectPeopleAccessPoliciesView(\n    peopleAccessPoliciesResponse: ProjectPeopleAccessPoliciesResponse,\n  ): ProjectPeopleAccessPoliciesView {\n    const view = new ProjectPeopleAccessPoliciesView();\n\n    view.userAccessPolicies = peopleAccessPoliciesResponse.userAccessPolicies.map((ap) => {\n      return this.createUserProjectAccessPolicyView(ap);\n    });\n    view.groupAccessPolicies = peopleAccessPoliciesResponse.groupAccessPolicies.map((ap) => {\n      return this.createGroupProjectAccessPolicyView(ap);\n    });\n    return view;\n  }\n\n  private createServiceAccountPeopleAccessPoliciesView(\n    response: ServiceAccountPeopleAccessPoliciesResponse,\n  ): ServiceAccountPeopleAccessPoliciesView {\n    const view = new ServiceAccountPeopleAccessPoliciesView();\n\n    view.userAccessPolicies = response.userAccessPolicies.map((ap) => {\n      return this.createUserServiceAccountAccessPolicyView(ap);\n    });\n    view.groupAccessPolicies = response.groupAccessPolicies.map((ap) => {\n      return this.createGroupServiceAccountAccessPolicyView(ap);\n    });\n    return view;\n  }\n\n  private getAccessPoliciesCreateRequest(\n    projectAccessPoliciesView: ProjectAccessPoliciesView,\n  ): AccessPoliciesCreateRequest {\n    const createRequest = new AccessPoliciesCreateRequest();\n\n    if (projectAccessPoliciesView.userAccessPolicies?.length > 0) {\n      createRequest.userAccessPolicyRequests = projectAccessPoliciesView.userAccessPolicies.map(\n        (ap) => {\n          return this.getAccessPolicyRequest(ap.organizationUserId, ap);\n        },\n      );\n    }\n\n    if (projectAccessPoliciesView.groupAccessPolicies?.length > 0) {\n      createRequest.groupAccessPolicyRequests = projectAccessPoliciesView.groupAccessPolicies.map(\n        (ap) => {\n          return this.getAccessPolicyRequest(ap.groupId, ap);\n        },\n      );\n    }\n\n    if (projectAccessPoliciesView.serviceAccountAccessPolicies?.length > 0) {\n      createRequest.serviceAccountAccessPolicyRequests =\n        projectAccessPoliciesView.serviceAccountAccessPolicies.map((ap) => {\n          return this.getAccessPolicyRequest(ap.serviceAccountId, ap);\n        });\n    }\n    return createRequest;\n  }\n\n  private getPeopleAccessPoliciesRequest(\n    view: ProjectPeopleAccessPoliciesView | ServiceAccountPeopleAccessPoliciesView,\n  ): PeopleAccessPoliciesRequest {\n    const request = new PeopleAccessPoliciesRequest();\n\n    if (view.userAccessPolicies?.length > 0) {\n      request.userAccessPolicyRequests = view.userAccessPolicies.map((ap) => {\n        return this.getAccessPolicyRequest(ap.organizationUserId, ap);\n      });\n    }\n\n    if (view.groupAccessPolicies?.length > 0) {\n      request.groupAccessPolicyRequests = view.groupAccessPolicies.map((ap) => {\n        return this.getAccessPolicyRequest(ap.groupId, ap);\n      });\n    }\n\n    return request;\n  }\n\n  private createUserProjectAccessPolicyView(\n    response: UserProjectAccessPolicyResponse,\n  ): UserProjectAccessPolicyView {\n    return {\n      ...this.createBaseAccessPolicyView(response),\n      grantedProjectId: response.grantedProjectId,\n      organizationUserId: response.organizationUserId,\n      organizationUserName: response.organizationUserName,\n      userId: response.userId,\n      currentUser: response.currentUser,\n    };\n  }\n\n  private createGroupProjectAccessPolicyView(\n    response: GroupProjectAccessPolicyResponse,\n  ): GroupProjectAccessPolicyView {\n    return {\n      ...this.createBaseAccessPolicyView(response),\n      grantedProjectId: response.grantedProjectId,\n      groupId: response.groupId,\n      groupName: response.groupName,\n      currentUserInGroup: response.currentUserInGroup,\n    };\n  }\n\n  private async createServiceAccountProjectAccessPolicyView(\n    organizationKey: SymmetricCryptoKey,\n    response: ServiceAccountProjectAccessPolicyResponse,\n  ): Promise<ServiceAccountProjectAccessPolicyView> {\n    return {\n      ...this.createBaseAccessPolicyView(response),\n      grantedProjectId: response.grantedProjectId,\n      serviceAccountId: response.serviceAccountId,\n      grantedProjectName: response.grantedProjectName\n        ? await this.encryptService.decryptToUtf8(\n            new EncString(response.grantedProjectName),\n            organizationKey,\n          )\n        : null,\n      serviceAccountName: response.serviceAccountName\n        ? await this.encryptService.decryptToUtf8(\n            new EncString(response.serviceAccountName),\n            organizationKey,\n          )\n        : null,\n    };\n  }\n\n  private createUserServiceAccountAccessPolicyView(\n    response: UserServiceAccountAccessPolicyResponse,\n  ): UserServiceAccountAccessPolicyView {\n    return {\n      ...this.createBaseAccessPolicyView(response),\n      grantedServiceAccountId: response.grantedServiceAccountId,\n      organizationUserId: response.organizationUserId,\n      organizationUserName: response.organizationUserName,\n      userId: response.userId,\n      currentUser: response.currentUser,\n    };\n  }\n\n  private createGroupServiceAccountAccessPolicyView(\n    response: GroupServiceAccountAccessPolicyResponse,\n  ): GroupServiceAccountAccessPolicyView {\n    return {\n      ...this.createBaseAccessPolicyView(response),\n      grantedServiceAccountId: response.grantedServiceAccountId,\n      groupId: response.groupId,\n      groupName: response.groupName,\n      currentUserInGroup: response.currentUserInGroup,\n    };\n  }\n\n  async getPeoplePotentialGrantees(organizationId: string) {\n    const r = await this.apiService.send(\n      \"GET\",\n      \"/organizations/\" + organizationId + \"/access-policies/people/potential-grantees\",\n      null,\n      true,\n      true,\n    );\n    const results = new ListResponse(r, PotentialGranteeResponse);\n    return await this.createPotentialGranteeViews(organizationId, results.data);\n  }\n\n  async getServiceAccountsPotentialGrantees(organizationId: string) {\n    const r = await this.apiService.send(\n      \"GET\",\n      \"/organizations/\" + organizationId + \"/access-policies/service-accounts/potential-grantees\",\n      null,\n      true,\n      true,\n    );\n    const results = new ListResponse(r, PotentialGranteeResponse);\n    return await this.createPotentialGranteeViews(organizationId, results.data);\n  }\n\n  async getProjectsPotentialGrantees(organizationId: string) {\n    const r = await this.apiService.send(\n      \"GET\",\n      \"/organizations/\" + organizationId + \"/access-policies/projects/potential-grantees\",\n      null,\n      true,\n      true,\n    );\n    const results = new ListResponse(r, PotentialGranteeResponse);\n    return await this.createPotentialGranteeViews(organizationId, results.data);\n  }\n\n  protected async getOrganizationKey(organizationId: string): Promise<SymmetricCryptoKey> {\n    return await this.cryptoService.getOrgKey(organizationId);\n  }\n\n  protected getAccessPolicyRequest(\n    granteeId: string,\n    view:\n      | UserProjectAccessPolicyView\n      | UserServiceAccountAccessPolicyView\n      | GroupProjectAccessPolicyView\n      | GroupServiceAccountAccessPolicyView\n      | ServiceAccountProjectAccessPolicyView,\n  ) {\n    const request = new AccessPolicyRequest();\n    request.granteeId = granteeId;\n    request.read = view.read;\n    request.write = view.write;\n    return request;\n  }\n\n  protected createBaseAccessPolicyView(\n    response:\n      | UserProjectAccessPolicyResponse\n      | UserServiceAccountAccessPolicyResponse\n      | GroupProjectAccessPolicyResponse\n      | GroupServiceAccountAccessPolicyResponse\n      | ServiceAccountProjectAccessPolicyResponse,\n  ) {\n    return {\n      id: response.id,\n      read: response.read,\n      write: response.write,\n      creationDate: response.creationDate,\n      revisionDate: response.revisionDate,\n    };\n  }\n\n  private async createPotentialGranteeViews(\n    organizationId: string,\n    results: PotentialGranteeResponse[],\n  ): Promise<PotentialGranteeView[]> {\n    const orgKey = await this.getOrganizationKey(organizationId);\n    return await Promise.all(\n      results.map(async (r) => {\n        const view = new PotentialGranteeView();\n        view.id = r.id;\n        view.type = r.type;\n        view.email = r.email;\n        view.currentUser = r.currentUser;\n        view.currentUserInGroup = r.currentUserInGroup;\n\n        if (r.type === \"serviceAccount\" || r.type === \"project\") {\n          view.name = r.name\n            ? await this.encryptService.decryptToUtf8(new EncString(r.name), orgKey)\n            : null;\n        } else {\n          view.name = r.name;\n        }\n        return view;\n      }),\n    );\n  }\n\n  private getGrantedPoliciesCreateRequest(\n    policies: ServiceAccountProjectAccessPolicyView[],\n  ): GrantedPolicyRequest[] {\n    return policies.map((ap) => {\n      const request = new GrantedPolicyRequest();\n      request.grantedId = ap.grantedProjectId;\n      request.read = ap.read;\n      request.write = ap.write;\n      return request;\n    });\n  }\n\n  private async createServiceAccountProjectAccessPolicyViews(\n    responses: ServiceAccountProjectAccessPolicyResponse[],\n    organizationId: string,\n  ): Promise<ServiceAccountProjectAccessPolicyView[]> {\n    const orgKey = await this.getOrganizationKey(organizationId);\n    return await Promise.all(\n      responses.map(async (response: ServiceAccountProjectAccessPolicyResponse) => {\n        const view = new ServiceAccountProjectAccessPolicyView();\n        view.id = response.id;\n        view.read = response.read;\n        view.write = response.write;\n        view.creationDate = response.creationDate;\n        view.revisionDate = response.revisionDate;\n        view.serviceAccountId = response.serviceAccountId;\n        view.grantedProjectId = response.grantedProjectId;\n        view.serviceAccountName = response.serviceAccountName\n          ? await this.encryptService.decryptToUtf8(\n              new EncString(response.serviceAccountName),\n              orgKey,\n            )\n          : null;\n        view.grantedProjectName = response.grantedProjectName\n          ? await this.encryptService.decryptToUtf8(\n              new EncString(response.grantedProjectName),\n              orgKey,\n            )\n          : null;\n        return view;\n      }),\n    );\n  }\n}\n","<div class=\"tw-flex\">\n  <ng-container *ngIf=\"!addButtonMode; else buttonMode\">\n    <bit-form-field class=\"tw-grow\">\n      <bit-label>{{ label }}</bit-label>\n      <bit-multi-select\n        class=\"tw-w-full\"\n        [loading]=\"loading\"\n        [baseItems]=\"selectionList.deselectedItems\"\n        [disabled]=\"disabled\"\n        [removeSelectedItems]=\"true\"\n        (blur)=\"handleBlur()\"\n        (onItemsConfirmed)=\"selectItems($event)\"\n      ></bit-multi-select>\n      <bit-hint>{{ hint }}</bit-hint>\n    </bit-form-field>\n  </ng-container>\n</div>\n\n<bit-table [formGroup]=\"formGroup\" *ngIf=\"!loading; else spinner\">\n  <ng-container header>\n    <tr>\n      <th bitCell colspan=\"2\">{{ columnTitle }}</th>\n      <th bitCell>{{ \"permissions\" | i18n }}</th>\n    </tr>\n  </ng-container>\n  <ng-template body formArrayName=\"items\">\n    <ng-container *ngIf=\"selectionList.selectedItems.length > 0; else empty\">\n      <tr\n        bitRow\n        *ngFor=\"let item of selectionList.selectedItems; let i = index\"\n        [formGroupName]=\"i\"\n      >\n        <td bitCell class=\"tw-w-0 tw-pr-0\">\n          <i class=\"bwi {{ item.icon }} tw-text-muted\" aria-hidden=\"true\"></i>\n        </td>\n        <td bitCell class=\"tw-max-w-sm tw-truncate\">{{ item.labelName }}</td>\n        <td bitCell class=\"tw-mb-auto tw-inline-block tw-w-auto\">\n          <select\n            *ngIf=\"!staticPermission; else static\"\n            bitInput\n            formControlName=\"permission\"\n            (blur)=\"handleBlur()\"\n          >\n            <option *ngFor=\"let p of permissionList\" [value]=\"p.perm\">\n              {{ p.labelId | i18n }}\n            </option>\n          </select>\n          <ng-template #static>\n            <span>{{ staticPermission | i18n }}</span>\n          </ng-template>\n        </td>\n        <td bitCell class=\"tw-w-0\">\n          <button\n            type=\"button\"\n            bitIconButton=\"bwi-close\"\n            buttonType=\"main\"\n            size=\"default\"\n            [attr.title]=\"'remove' | i18n\"\n            [attr.aria-label]=\"'remove' | i18n\"\n            (click)=\"selectionList.deselectItem(item.id); handleBlur()\"\n          ></button>\n        </td>\n      </tr>\n    </ng-container>\n  </ng-template>\n</bit-table>\n\n<ng-template #empty>\n  <div class=\"tw-mt-4 tw-text-center\">\n    {{ emptyMessage }}\n  </div>\n</ng-template>\n\n<ng-template #buttonMode>\n  <bit-form-field class=\"tw-grow\" [formGroup]=\"multiSelectFormGroup\">\n    <bit-label>{{ label }}</bit-label>\n    <bit-multi-select\n      class=\"tw-w-full\"\n      formControlName=\"multiSelect\"\n      [baseItems]=\"selectionList.deselectedItems\"\n      (blur)=\"handleBlur()\"\n    ></bit-multi-select>\n    <bit-hint>{{ hint }}</bit-hint>\n  </bit-form-field>\n\n  <div class=\"tw-ml-3 tw-mt-7 tw-shrink-0\">\n    <button type=\"button\" bitButton buttonType=\"secondary\" (click)=\"addButton()\">\n      {{ \"add\" | i18n }}\n    </button>\n  </div>\n</ng-template>\n\n<ng-template #spinner>\n  <div class=\"tw-items-center tw-justify-center tw-pt-10 tw-text-center\">\n    <i class=\"bwi bwi-spinner bwi-spin bwi-3x\"></i>\n  </div>\n</ng-template>\n","import { Component, forwardRef, Input, OnDestroy, OnInit } from \"@angular/core\";\nimport {\n  ControlValueAccessor,\n  FormBuilder,\n  FormControl,\n  FormGroup,\n  NG_VALUE_ACCESSOR,\n} from \"@angular/forms\";\nimport { Subject, takeUntil } from \"rxjs\";\n\nimport { ControlsOf } from \"@bitwarden/angular/types/controls-of\";\nimport { FormSelectionList } from \"@bitwarden/angular/utils/form-selection-list\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { SelectItemView } from \"@bitwarden/components\";\n\nimport { ApItemValueType } from \"./models/ap-item-value.type\";\nimport { ApItemViewType } from \"./models/ap-item-view.type\";\nimport { ApItemEnumUtil, ApItemEnum } from \"./models/enums/ap-item.enum\";\nimport { ApPermissionEnum } from \"./models/enums/ap-permission.enum\";\n\n@Component({\n  selector: \"sm-access-policy-selector\",\n  templateUrl: \"access-policy-selector.component.html\",\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      useExisting: forwardRef(() => AccessPolicySelectorComponent),\n      multi: true,\n    },\n  ],\n})\nexport class AccessPolicySelectorComponent implements ControlValueAccessor, OnInit, OnDestroy {\n  private destroy$ = new Subject<void>();\n  private notifyOnChange: (v: unknown) => void;\n  private notifyOnTouch: () => void;\n  private pauseChangeNotification: boolean;\n\n  /**\n   * The internal selection list that tracks the value of this form control / component.\n   * It's responsible for keeping items sorted and synced with the rendered form controls\n   * @protected\n   */\n  protected selectionList = new FormSelectionList<ApItemViewType, ApItemValueType>((item) => {\n    const initPermission = this.staticPermission ?? this.initialPermission;\n\n    const permissionControl = this.formBuilder.control(initPermission);\n    let currentUserInGroup = false;\n    let currentUser = false;\n    if (item.type == ApItemEnum.Group) {\n      currentUserInGroup = item.currentUserInGroup;\n    }\n    if (item.type == ApItemEnum.User) {\n      currentUser = item.currentUser;\n    }\n    const fg = this.formBuilder.group<ControlsOf<ApItemValueType>>({\n      id: new FormControl(item.id),\n      type: new FormControl(item.type),\n      permission: permissionControl,\n      currentUserInGroup: new FormControl(currentUserInGroup),\n      currentUser: new FormControl(currentUser),\n    });\n    return fg;\n  }, this._itemComparator.bind(this));\n\n  /**\n   * Internal form group for this component.\n   * @protected\n   */\n  protected formGroup = this.formBuilder.group({\n    items: this.selectionList.formArray,\n  });\n\n  protected multiSelectFormGroup = new FormGroup({\n    multiSelect: new FormControl([]),\n  });\n\n  disabled: boolean;\n\n  @Input() loading: boolean;\n  @Input() addButtonMode: boolean;\n  @Input() label: string;\n  @Input() hint: string;\n  @Input() columnTitle: string;\n  @Input() emptyMessage: string;\n\n  @Input() permissionList = [\n    { perm: ApPermissionEnum.CanRead, labelId: \"canRead\" },\n    { perm: ApPermissionEnum.CanReadWrite, labelId: \"canReadWrite\" },\n  ];\n  @Input() initialPermission = ApPermissionEnum.CanRead;\n\n  // Pass in a static permission that wil be the only option for a given selector instance.\n  // Will ignore permissionList and initialPermission.\n  @Input() staticPermission: ApPermissionEnum;\n\n  @Input()\n  get items(): ApItemViewType[] {\n    return this.selectionList.allItems;\n  }\n\n  set items(val: ApItemViewType[]) {\n    if (val != null) {\n      const selected = this.selectionList.formArray.getRawValue() ?? [];\n      this.selectionList.populateItems(\n        val.map((m) => {\n          m.icon = m.icon ?? ApItemEnumUtil.itemIcon(m.type);\n          return m;\n        }),\n        selected,\n      );\n    }\n  }\n\n  constructor(\n    private readonly formBuilder: FormBuilder,\n    private readonly i18nService: I18nService,\n  ) {}\n\n  /** Required for NG_VALUE_ACCESSOR */\n  registerOnChange(fn: any): void {\n    this.notifyOnChange = fn;\n  }\n\n  /** Required for NG_VALUE_ACCESSOR */\n  registerOnTouched(fn: any): void {\n    this.notifyOnTouch = fn;\n  }\n\n  /** Required for NG_VALUE_ACCESSOR */\n  setDisabledState(isDisabled: boolean): void {\n    this.disabled = isDisabled;\n\n    // Keep the internal FormGroup in sync\n    if (this.disabled) {\n      this.formGroup.disable();\n      this.multiSelectFormGroup.disable();\n    } else {\n      this.formGroup.enable();\n      this.multiSelectFormGroup.enable();\n    }\n  }\n\n  /** Required for NG_VALUE_ACCESSOR */\n  writeValue(selectedItems: ApItemValueType[]): void {\n    // Modifying the selection list, mistakenly fires valueChanges in the\n    // internal form array, so we need to know to pause external notification\n    this.pauseChangeNotification = true;\n\n    // Always clear the internal selection list on a new value\n    this.selectionList.deselectAll();\n\n    // If the new value is null, then we're done\n    if (selectedItems == null) {\n      this.pauseChangeNotification = false;\n      return;\n    }\n\n    // Unable to handle other value types, throw\n    if (!Array.isArray(selectedItems)) {\n      throw new Error(\"The access selector component only supports Array form values!\");\n    }\n\n    // Iterate and internally select each item\n    for (const value of selectedItems) {\n      this.selectionList.selectItem(value.id, value);\n    }\n\n    this.pauseChangeNotification = false;\n  }\n\n  ngOnInit() {\n    // Watch the internal formArray for changes and propagate them\n    this.selectionList.formArray.valueChanges.pipe(takeUntil(this.destroy$)).subscribe((v) => {\n      if (!this.notifyOnChange || this.pauseChangeNotification) {\n        return;\n      }\n\n      // Disabled form arrays emit values for disabled controls, we override this to emit an empty array to avoid\n      // emitting values for disabled controls that are \"readonly\" in the table\n      if (this.selectionList.formArray.disabled) {\n        this.notifyOnChange([]);\n        return;\n      }\n      this.notifyOnChange(v);\n    });\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  protected handleBlur() {\n    if (!this.notifyOnTouch) {\n      return;\n    }\n\n    this.notifyOnTouch();\n  }\n\n  protected selectItems(items: SelectItemView[]) {\n    this.pauseChangeNotification = true;\n    this.selectionList.selectItems(items.map((i) => i.id));\n    this.pauseChangeNotification = false;\n    if (this.notifyOnChange != undefined) {\n      this.notifyOnChange(this.selectionList.formArray.value);\n    }\n  }\n\n  protected addButton() {\n    this.selectItems(this.multiSelectFormGroup.value.multiSelect);\n    this.multiSelectFormGroup.reset();\n  }\n\n  private _itemComparator(a: ApItemViewType, b: ApItemViewType) {\n    return (\n      a.type - b.type ||\n      this.i18nService.collator.compare(a.listName, b.listName) ||\n      this.i18nService.collator.compare(a.labelName, b.labelName)\n    );\n  }\n}\n","<form [formGroup]=\"formGroup\" [bitSubmit]=\"submit\">\n  <div class=\"tw-w-2/5\">\n    <p class=\"tw-mt-8\" *ngIf=\"!loading\">\n      {{ \"projectPeopleDescription\" | i18n }}\n    </p>\n    <sm-access-policy-selector\n      [loading]=\"loading\"\n      formControlName=\"accessPolicies\"\n      [addButtonMode]=\"true\"\n      [items]=\"potentialGrantees\"\n      [label]=\"'people' | i18n\"\n      [hint]=\"'projectPeopleSelectHint' | i18n\"\n      [columnTitle]=\"'name' | i18n\"\n      [emptyMessage]=\"'projectEmptyPeopleAccessPolicies' | i18n\"\n    >\n    </sm-access-policy-selector>\n    <button bitButton buttonType=\"primary\" bitFormButton type=\"submit\" class=\"tw-mt-7\">\n      {{ \"save\" | i18n }}\n    </button>\n  </div>\n</form>\n","import { ChangeDetectorRef, Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { FormControl, FormGroup } from \"@angular/forms\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { combineLatest, Subject, switchMap, takeUntil, catchError, EMPTY } from \"rxjs\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { ValidationService } from \"@bitwarden/common/platform/abstractions/validation.service\";\nimport { DialogService } from \"@bitwarden/components\";\n\nimport { AccessPolicySelectorService } from \"../../shared/access-policies/access-policy-selector/access-policy-selector.service\";\nimport {\n  ApItemValueType,\n  convertToProjectPeopleAccessPoliciesView,\n} from \"../../shared/access-policies/access-policy-selector/models/ap-item-value.type\";\nimport {\n  ApItemViewType,\n  convertPotentialGranteesToApItemViewType,\n  convertToAccessPolicyItemViews,\n} from \"../../shared/access-policies/access-policy-selector/models/ap-item-view.type\";\nimport { ApItemEnum } from \"../../shared/access-policies/access-policy-selector/models/enums/ap-item.enum\";\nimport { AccessPolicyService } from \"../../shared/access-policies/access-policy.service\";\n\n@Component({\n  selector: \"sm-project-people\",\n  templateUrl: \"./project-people.component.html\",\n})\nexport class ProjectPeopleComponent implements OnInit, OnDestroy {\n  private currentAccessPolicies: ApItemViewType[];\n  private destroy$ = new Subject<void>();\n  private organizationId: string;\n  private projectId: string;\n\n  private currentAccessPolicies$ = combineLatest([this.route.params]).pipe(\n    switchMap(([params]) =>\n      this.accessPolicyService.getProjectPeopleAccessPolicies(params.projectId).then((policies) => {\n        return convertToAccessPolicyItemViews(policies);\n      }),\n    ),\n    catchError(() => {\n      this.router.navigate([\"/sm\", this.organizationId, \"projects\"]);\n      return EMPTY;\n    }),\n  );\n\n  private potentialGrantees$ = combineLatest([this.route.params]).pipe(\n    switchMap(([params]) =>\n      this.accessPolicyService\n        .getPeoplePotentialGrantees(params.organizationId)\n        .then((grantees) => {\n          return convertPotentialGranteesToApItemViewType(grantees);\n        }),\n    ),\n  );\n\n  protected formGroup = new FormGroup({\n    accessPolicies: new FormControl([] as ApItemValueType[]),\n  });\n\n  protected loading = true;\n  protected potentialGrantees: ApItemViewType[];\n\n  constructor(\n    private route: ActivatedRoute,\n    private dialogService: DialogService,\n    private changeDetectorRef: ChangeDetectorRef,\n    private validationService: ValidationService,\n    private accessPolicyService: AccessPolicyService,\n    private router: Router,\n    private platformUtilsService: PlatformUtilsService,\n    private i18nService: I18nService,\n    private accessPolicySelectorService: AccessPolicySelectorService,\n  ) {}\n\n  ngOnInit(): void {\n    this.route.params.pipe(takeUntil(this.destroy$)).subscribe((params) => {\n      this.organizationId = params.organizationId;\n      this.projectId = params.projectId;\n    });\n\n    combineLatest([this.potentialGrantees$, this.currentAccessPolicies$])\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(([potentialGrantees, currentAccessPolicies]) => {\n        this.potentialGrantees = potentialGrantees;\n        this.setSelected(currentAccessPolicies);\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  submit = async () => {\n    this.formGroup.markAllAsTouched();\n\n    if (this.formGroup.invalid) {\n      return;\n    }\n\n    const showAccessRemovalWarning =\n      await this.accessPolicySelectorService.showAccessRemovalWarning(\n        this.organizationId,\n        this.formGroup.value.accessPolicies,\n      );\n\n    if (showAccessRemovalWarning) {\n      const confirmed = await this.showWarning();\n      if (!confirmed) {\n        this.setSelected(this.currentAccessPolicies);\n        return;\n      }\n    }\n\n    try {\n      const projectPeopleView = convertToProjectPeopleAccessPoliciesView(\n        this.projectId,\n        this.formGroup.value.accessPolicies,\n      );\n      const peoplePoliciesViews = await this.accessPolicyService.putProjectPeopleAccessPolicies(\n        this.projectId,\n        projectPeopleView,\n      );\n      this.currentAccessPolicies = convertToAccessPolicyItemViews(peoplePoliciesViews);\n\n      if (showAccessRemovalWarning) {\n        this.router.navigate([\"sm\", this.organizationId, \"projects\"]);\n      }\n      this.platformUtilsService.showToast(\n        \"success\",\n        null,\n        this.i18nService.t(\"projectAccessUpdated\"),\n      );\n    } catch (e) {\n      this.validationService.showError(e);\n      this.setSelected(this.currentAccessPolicies);\n    }\n  };\n\n  private setSelected(policiesToSelect: ApItemViewType[]) {\n    this.loading = true;\n    this.currentAccessPolicies = policiesToSelect;\n    if (policiesToSelect != undefined) {\n      // Must detect changes so that AccessSelector @Inputs() are aware of the latest\n      // potentialGrantees, otherwise no selected values will be patched below\n      this.changeDetectorRef.detectChanges();\n      this.formGroup.patchValue({\n        accessPolicies: policiesToSelect.map((m) => ({\n          type: m.type,\n          id: m.id,\n          permission: m.permission,\n          currentUser: m.type == ApItemEnum.User ? m.currentUser : null,\n          currentUserInGroup: m.type == ApItemEnum.Group ? m.currentUserInGroup : null,\n        })),\n      });\n    }\n    this.loading = false;\n  }\n\n  private async showWarning(): Promise<boolean> {\n    const confirmed = await this.dialogService.openSimpleDialog({\n      title: { key: \"smAccessRemovalWarningProjectTitle\" },\n      content: { key: \"smAccessRemovalWarningProjectMessage\" },\n      acceptButtonText: { key: \"removeAccess\" },\n      cancelButtonText: { key: \"cancel\" },\n      type: \"warning\",\n    });\n    return confirmed;\n  }\n}\n","import {\n  ProjectPeopleAccessPoliciesView,\n  UserProjectAccessPolicyView,\n  GroupProjectAccessPolicyView,\n  ServiceAccountPeopleAccessPoliciesView,\n  UserServiceAccountAccessPolicyView,\n  GroupServiceAccountAccessPolicyView,\n} from \"../../../../models/view/access-policy.view\";\n\nimport { ApItemEnum } from \"./enums/ap-item.enum\";\nimport { ApPermissionEnum, ApPermissionEnumUtil } from \"./enums/ap-permission.enum\";\n\nexport type ApItemValueType = {\n  id: string;\n  type: ApItemEnum;\n  permission: ApPermissionEnum;\n  currentUserInGroup?: boolean;\n  currentUser?: boolean;\n};\n\nexport function convertToProjectPeopleAccessPoliciesView(\n  projectId: string,\n  selectedPolicyValues: ApItemValueType[],\n): ProjectPeopleAccessPoliciesView {\n  const view = new ProjectPeopleAccessPoliciesView();\n  view.userAccessPolicies = selectedPolicyValues\n    .filter((x) => x.type == ApItemEnum.User)\n    .map((filtered) => {\n      const policyView = new UserProjectAccessPolicyView();\n      policyView.grantedProjectId = projectId;\n      policyView.organizationUserId = filtered.id;\n      policyView.read = ApPermissionEnumUtil.toRead(filtered.permission);\n      policyView.write = ApPermissionEnumUtil.toWrite(filtered.permission);\n      return policyView;\n    });\n\n  view.groupAccessPolicies = selectedPolicyValues\n    .filter((x) => x.type == ApItemEnum.Group)\n    .map((filtered) => {\n      const policyView = new GroupProjectAccessPolicyView();\n      policyView.grantedProjectId = projectId;\n      policyView.groupId = filtered.id;\n      policyView.read = ApPermissionEnumUtil.toRead(filtered.permission);\n      policyView.write = ApPermissionEnumUtil.toWrite(filtered.permission);\n      return policyView;\n    });\n  return view;\n}\n\nexport function convertToServiceAccountPeopleAccessPoliciesView(\n  serviceAccountId: string,\n  selectedPolicyValues: ApItemValueType[],\n): ServiceAccountPeopleAccessPoliciesView {\n  const view = new ServiceAccountPeopleAccessPoliciesView();\n  view.userAccessPolicies = selectedPolicyValues\n    .filter((x) => x.type == ApItemEnum.User)\n    .map((filtered) => {\n      const policyView = new UserServiceAccountAccessPolicyView();\n      policyView.grantedServiceAccountId = serviceAccountId;\n      policyView.organizationUserId = filtered.id;\n      policyView.read = ApPermissionEnumUtil.toRead(filtered.permission);\n      policyView.write = ApPermissionEnumUtil.toWrite(filtered.permission);\n      policyView.currentUser = filtered.currentUser;\n      return policyView;\n    });\n\n  view.groupAccessPolicies = selectedPolicyValues\n    .filter((x) => x.type == ApItemEnum.Group)\n    .map((filtered) => {\n      const policyView = new GroupServiceAccountAccessPolicyView();\n      policyView.grantedServiceAccountId = serviceAccountId;\n      policyView.groupId = filtered.id;\n      policyView.read = ApPermissionEnumUtil.toRead(filtered.permission);\n      policyView.write = ApPermissionEnumUtil.toWrite(filtered.permission);\n      return policyView;\n    });\n  return view;\n}\n","<ng-container *ngIf=\"{ project: project$ | async, secrets: secrets$ | async } as projectSecrets\">\n  <ng-container *ngIf=\"projectSecrets?.secrets && projectSecrets?.project; else spinner\">\n    <div\n      *ngIf=\"projectSecrets.secrets?.length > 0 && projectSecrets.project?.write\"\n      class=\"float-right tw-mt-3 tw-items-center\"\n    >\n      <button type=\"button\" bitButton buttonType=\"secondary\" (click)=\"openNewSecretDialog()\">\n        <i class=\"bwi bwi-plus\" aria-hidden=\"true\"></i>\n        {{ \"newSecret\" | i18n }}\n      </button>\n    </div>\n    <sm-secrets-list\n      *ngIf=\"projectSecrets.secrets?.length > 0 || projectSecrets.project?.write; else contactAdmin\"\n      (deleteSecretsEvent)=\"openDeleteSecret($event)\"\n      (newSecretEvent)=\"openNewSecretDialog()\"\n      (editSecretEvent)=\"openEditSecret($event)\"\n      (copySecretNameEvent)=\"copySecretName($event)\"\n      (copySecretValueEvent)=\"copySecretValue($event)\"\n      (copySecretUuidEvent)=\"copySecretUuid($event)\"\n      [secrets]=\"projectSecrets.secrets\"\n    ></sm-secrets-list>\n  </ng-container>\n</ng-container>\n\n<ng-template #spinner>\n  <div class=\"tw-items-center tw-justify-center tw-pt-64 tw-text-center\">\n    <i class=\"bwi bwi-spinner bwi-spin bwi-3x\"></i>\n  </div>\n</ng-template>\n\n<ng-template #contactAdmin>\n  <bit-no-items>\n    <ng-container slot=\"title\">{{ \"secretsNoItemsTitle\" | i18n }}</ng-container>\n    <ng-container slot=\"description\">{{ \"smProjectSecretsNoItemsNoAccess\" | i18n }}</ng-container>\n  </bit-no-items>\n</ng-template>\n","import { Component } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { combineLatest, combineLatestWith, filter, Observable, startWith, switchMap } from \"rxjs\";\n\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { DialogService } from \"@bitwarden/components\";\n\nimport { ProjectView } from \"../../models/view/project.view\";\nimport { SecretListView } from \"../../models/view/secret-list.view\";\nimport {\n  SecretDeleteDialogComponent,\n  SecretDeleteOperation,\n} from \"../../secrets/dialog/secret-delete.component\";\nimport {\n  OperationType,\n  SecretDialogComponent,\n  SecretOperation,\n} from \"../../secrets/dialog/secret-dialog.component\";\nimport { SecretService } from \"../../secrets/secret.service\";\nimport { SecretsListComponent } from \"../../shared/secrets-list.component\";\nimport { ProjectService } from \"../project.service\";\n\n@Component({\n  selector: \"sm-project-secrets\",\n  templateUrl: \"./project-secrets.component.html\",\n})\nexport class ProjectSecretsComponent {\n  secrets$: Observable<SecretListView[]>;\n\n  private organizationId: string;\n  private projectId: string;\n  protected project$: Observable<ProjectView>;\n  private organizationEnabled: boolean;\n\n  constructor(\n    private route: ActivatedRoute,\n    private projectService: ProjectService,\n    private secretService: SecretService,\n    private dialogService: DialogService,\n    private platformUtilsService: PlatformUtilsService,\n    private i18nService: I18nService,\n    private organizationService: OrganizationService,\n  ) {}\n\n  ngOnInit() {\n    // Refresh list if project is edited\n    const currentProjectEdited = this.projectService.project$.pipe(\n      filter((p) => p?.id === this.projectId),\n      startWith(null),\n    );\n\n    this.project$ = combineLatest([this.route.params, currentProjectEdited]).pipe(\n      switchMap(([params, _]) => {\n        return this.projectService.getByProjectId(params.projectId);\n      }),\n    );\n\n    this.secrets$ = this.secretService.secret$.pipe(\n      startWith(null),\n      combineLatestWith(this.route.params, currentProjectEdited),\n      switchMap(async ([_, params]) => {\n        this.organizationId = params.organizationId;\n        this.projectId = params.projectId;\n        this.organizationEnabled = this.organizationService.get(params.organizationId)?.enabled;\n        return await this.getSecretsByProject();\n      }),\n    );\n  }\n\n  private async getSecretsByProject(): Promise<SecretListView[]> {\n    return await this.secretService.getSecretsByProject(this.organizationId, this.projectId);\n  }\n\n  openEditSecret(secretId: string) {\n    this.dialogService.open<unknown, SecretOperation>(SecretDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Edit,\n        secretId: secretId,\n        organizationEnabled: this.organizationEnabled,\n      },\n    });\n  }\n\n  openDeleteSecret(event: SecretListView[]) {\n    this.dialogService.open<unknown, SecretDeleteOperation>(SecretDeleteDialogComponent, {\n      data: {\n        secrets: event,\n      },\n    });\n  }\n\n  openNewSecretDialog() {\n    this.dialogService.open<unknown, SecretOperation>(SecretDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Add,\n        projectId: this.projectId,\n        organizationEnabled: this.organizationEnabled,\n      },\n    });\n  }\n\n  copySecretName(name: string) {\n    SecretsListComponent.copySecretName(name, this.platformUtilsService, this.i18nService);\n  }\n\n  copySecretValue(id: string) {\n    SecretsListComponent.copySecretValue(\n      id,\n      this.platformUtilsService,\n      this.i18nService,\n      this.secretService,\n    );\n  }\n\n  copySecretUuid(id: string) {\n    SecretsListComponent.copySecretUuid(id, this.platformUtilsService, this.i18nService);\n  }\n}\n","<form [formGroup]=\"formGroup\" [bitSubmit]=\"submit\" class=\"tw-mt-5\">\n  <bit-form-field>\n    <bit-label>{{ label }}</bit-label>\n    <bit-multi-select\n      class=\"tw-mr-4 tw-w-full\"\n      formControlName=\"multiSelect\"\n      [baseItems]=\"selectItems$ | async\"\n      [loading]=\"loading\"\n    ></bit-multi-select>\n    <bit-hint>{{ hint }}</bit-hint>\n    <button type=\"submit\" bitButton buttonType=\"primary\" bitFormButton>\n      {{ \"add\" | i18n }}\n    </button>\n  </bit-form-field>\n</form>\n\n<ng-container>\n  <bit-table *ngIf=\"rows$ | async as rows; else spinner\">\n    <ng-container header>\n      <tr>\n        <th bitCell colspan=\"2\">{{ columnTitle }}</th>\n        <th bitCell>{{ \"permissions\" | i18n }}</th>\n      </tr>\n    </ng-container>\n\n    <ng-template body>\n      <ng-container *ngIf=\"rows.length > 0; else empty\">\n        <tr bitRow *ngFor=\"let row of rows\">\n          <td bitCell class=\"tw-w-0 tw-pr-0\">\n            <i class=\"bwi {{ row.icon }} tw-text-muted\" aria-hidden=\"true\"></i>\n          </td>\n          <td bitCell class=\"tw-max-w-sm tw-truncate\">{{ row.name }}</td>\n          <td bitCell>\n            <bit-form-field\n              *ngIf=\"!row.static; else staticPermissions\"\n              class=\"tw-mb-auto tw-inline-block tw-w-auto\"\n            >\n              <select bitInput (change)=\"update($event.target, row)\" [disabled]=\"row.static\">\n                <option value=\"canRead\" [selected]=\"row.read && row.write != true\">\n                  {{ \"canRead\" | i18n }}\n                </option>\n                <option value=\"canReadWrite\" [selected]=\"row.read && row.write\">\n                  {{ \"canReadWrite\" | i18n }}\n                </option>\n              </select>\n            </bit-form-field>\n            <ng-template #staticPermissions>\n              <span *ngIf=\"row.read && row.write != true\">{{ \"canRead\" | i18n }}</span>\n              <span *ngIf=\"row.read != true && row.write\">{{ \"canWrite\" | i18n }}</span>\n              <span *ngIf=\"row.read && row.write\">{{ \"canReadWrite\" | i18n }}</span>\n            </ng-template>\n          </td>\n          <td bitCell class=\"tw-w-0\">\n            <button\n              type=\"button\"\n              bitIconButton=\"bwi-close\"\n              buttonType=\"main\"\n              size=\"default\"\n              [attr.title]=\"'remove' | i18n\"\n              [attr.aria-label]=\"'remove' | i18n\"\n              [bitAction]=\"delete(row)\"\n            ></button>\n          </td>\n        </tr>\n      </ng-container>\n    </ng-template>\n  </bit-table>\n</ng-container>\n\n<ng-template #empty>\n  <div class=\"tw-mt-4 tw-text-center\">\n    {{ emptyMessage }}\n  </div>\n</ng-template>\n\n<ng-template #spinner>\n  <div class=\"tw-items-center tw-justify-center tw-pt-10 tw-text-center\">\n    <i class=\"bwi bwi-spinner bwi-spin bwi-3x\"></i>\n  </div>\n</ng-template>\n","import { Component, EventEmitter, Input, OnInit, Output } from \"@angular/core\";\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport {\n  combineLatest,\n  firstValueFrom,\n  map,\n  Observable,\n  share,\n  Subject,\n  switchMap,\n  tap,\n} from \"rxjs\";\n\nimport { Utils } from \"@bitwarden/common/platform/misc/utils\";\nimport { SelectItemView } from \"@bitwarden/components/src/multi-select/models/select-item-view\";\n\nimport { BaseAccessPolicyView } from \"../../models/view/access-policy.view\";\n\nimport { AccessPolicyService } from \"./access-policy.service\";\n\nexport type AccessSelectorRowView = {\n  type: \"user\" | \"group\" | \"serviceAccount\" | \"project\";\n  name: string;\n  id: string;\n  accessPolicyId: string;\n  read: boolean;\n  write: boolean;\n  icon: string;\n  userId?: string;\n  currentUserInGroup?: boolean;\n  static?: boolean;\n};\n\n@Component({\n  selector: \"sm-access-selector\",\n  templateUrl: \"./access-selector.component.html\",\n})\nexport class AccessSelectorComponent implements OnInit {\n  static readonly userIcon = \"bwi-user\";\n  static readonly groupIcon = \"bwi-family\";\n  static readonly serviceAccountIcon = \"bwi-wrench\";\n  static readonly projectIcon = \"bwi-collection\";\n\n  /**\n   * Emits the selected items on submit.\n   */\n  @Output() onCreateAccessPolicies = new EventEmitter<SelectItemView[]>();\n  @Output() onDeleteAccessPolicy = new EventEmitter<AccessSelectorRowView>();\n  @Output() onUpdateAccessPolicy = new EventEmitter<AccessSelectorRowView>();\n\n  @Input() label: string;\n  @Input() hint: string;\n  @Input() columnTitle: string;\n  @Input() emptyMessage: string;\n  @Input() granteeType: \"people\" | \"serviceAccounts\" | \"projects\";\n\n  protected rows$ = new Subject<AccessSelectorRowView[]>();\n  @Input() private set rows(value: AccessSelectorRowView[]) {\n    const sorted = value.sort((a, b) => {\n      if (a.icon == b.icon) {\n        return a.name.localeCompare(b.name);\n      }\n      if (a.icon == AccessSelectorComponent.userIcon) {\n        return -1;\n      }\n      return 1;\n    });\n    this.rows$.next(sorted);\n  }\n\n  private maxLength = 15;\n  protected formGroup = new FormGroup({\n    multiSelect: new FormControl([], [Validators.required, Validators.maxLength(this.maxLength)]),\n  });\n  protected loading = true;\n\n  protected selectItems$: Observable<SelectItemView[]> = combineLatest([\n    this.rows$,\n    this.route.params,\n  ]).pipe(\n    switchMap(([rows, params]) =>\n      this.getPotentialGrantees(params.organizationId).then((grantees) =>\n        grantees\n          .filter((g) => !rows.some((row) => row.id === g.id))\n          .map((granteeView) => {\n            let icon: string;\n            let listName = granteeView.name;\n            let labelName = granteeView.name;\n            if (granteeView.type === \"user\") {\n              icon = AccessSelectorComponent.userIcon;\n              if (Utils.isNullOrWhitespace(granteeView.name)) {\n                listName = granteeView.email;\n                labelName = granteeView.email;\n              } else {\n                listName = `${granteeView.name} (${granteeView.email})`;\n              }\n            } else if (granteeView.type === \"group\") {\n              icon = AccessSelectorComponent.groupIcon;\n            } else if (granteeView.type === \"serviceAccount\") {\n              icon = AccessSelectorComponent.serviceAccountIcon;\n            } else if (granteeView.type === \"project\") {\n              icon = AccessSelectorComponent.projectIcon;\n            }\n            return {\n              icon: icon,\n              id: granteeView.id,\n              labelName: labelName,\n              listName: listName,\n            };\n          }),\n      ),\n    ),\n    map((selectItems) => selectItems.sort((a, b) => a.listName.localeCompare(b.listName))),\n    tap(() => {\n      this.loading = false;\n      this.formGroup.reset();\n      this.formGroup.enable();\n    }),\n    share(),\n  );\n\n  constructor(\n    private accessPolicyService: AccessPolicyService,\n    private route: ActivatedRoute,\n  ) {}\n\n  ngOnInit(): void {\n    this.formGroup.disable();\n  }\n\n  submit = async () => {\n    this.formGroup.markAllAsTouched();\n    if (this.formGroup.invalid) {\n      return;\n    }\n    this.formGroup.disable();\n    this.loading = true;\n\n    this.onCreateAccessPolicies.emit(this.formGroup.value.multiSelect);\n\n    return firstValueFrom(this.selectItems$);\n  };\n\n  async update(target: any, row: AccessSelectorRowView): Promise<void> {\n    if (target.value === \"canRead\") {\n      row.read = true;\n      row.write = false;\n    } else if (target.value === \"canReadWrite\") {\n      row.read = true;\n      row.write = true;\n    }\n    this.onUpdateAccessPolicy.emit(row);\n  }\n\n  delete = (row: AccessSelectorRowView) => async () => {\n    this.loading = true;\n    this.formGroup.disable();\n    this.onDeleteAccessPolicy.emit(row);\n    return firstValueFrom(this.selectItems$);\n  };\n\n  private getPotentialGrantees(organizationId: string) {\n    switch (this.granteeType) {\n      case \"people\":\n        return this.accessPolicyService.getPeoplePotentialGrantees(organizationId);\n      case \"serviceAccounts\":\n        return this.accessPolicyService.getServiceAccountsPotentialGrantees(organizationId);\n      case \"projects\":\n        return this.accessPolicyService.getProjectsPotentialGrantees(organizationId);\n    }\n  }\n\n  static getAccessItemType(item: SelectItemView) {\n    switch (item.icon) {\n      case AccessSelectorComponent.userIcon:\n        return \"user\";\n      case AccessSelectorComponent.groupIcon:\n        return \"group\";\n      case AccessSelectorComponent.serviceAccountIcon:\n        return \"serviceAccount\";\n      case AccessSelectorComponent.projectIcon:\n        return \"project\";\n    }\n  }\n\n  static getBaseAccessPolicyView(row: AccessSelectorRowView) {\n    const view = new BaseAccessPolicyView();\n    view.id = row.accessPolicyId;\n    view.read = row.read;\n    view.write = row.write;\n    return view;\n  }\n}\n","import { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { map, Observable, startWith, Subject, switchMap, takeUntil } from \"rxjs\";\n\nimport { ValidationService } from \"@bitwarden/common/platform/abstractions/validation.service\";\nimport { SelectItemView } from \"@bitwarden/components\";\n\nimport {\n  ProjectAccessPoliciesView,\n  ServiceAccountProjectAccessPolicyView,\n} from \"../../models/view/access-policy.view\";\nimport { AccessPolicyService } from \"../../shared/access-policies/access-policy.service\";\nimport {\n  AccessSelectorComponent,\n  AccessSelectorRowView,\n} from \"../../shared/access-policies/access-selector.component\";\n\n@Component({\n  selector: \"sm-project-service-accounts\",\n  templateUrl: \"./project-service-accounts.component.html\",\n})\nexport class ProjectServiceAccountsComponent implements OnInit, OnDestroy {\n  private destroy$ = new Subject<void>();\n  private organizationId: string;\n  private projectId: string;\n\n  protected rows$: Observable<AccessSelectorRowView[]> =\n    this.accessPolicyService.projectAccessPolicyChanges$.pipe(\n      startWith(null),\n      switchMap(() =>\n        this.accessPolicyService.getProjectAccessPolicies(this.organizationId, this.projectId),\n      ),\n      map((policies) =>\n        policies.serviceAccountAccessPolicies.map((policy) => ({\n          type: \"serviceAccount\",\n          name: policy.serviceAccountName,\n          id: policy.serviceAccountId,\n          accessPolicyId: policy.id,\n          read: policy.read,\n          write: policy.write,\n          icon: AccessSelectorComponent.serviceAccountIcon,\n          static: false,\n        })),\n      ),\n    );\n\n  protected async handleUpdateAccessPolicy(policy: AccessSelectorRowView) {\n    try {\n      return await this.accessPolicyService.updateAccessPolicy(\n        AccessSelectorComponent.getBaseAccessPolicyView(policy),\n      );\n    } catch (e) {\n      this.validationService.showError(e);\n    }\n  }\n\n  protected handleCreateAccessPolicies(selected: SelectItemView[]) {\n    const projectAccessPoliciesView = new ProjectAccessPoliciesView();\n    projectAccessPoliciesView.serviceAccountAccessPolicies = selected\n      .filter(\n        (selection) => AccessSelectorComponent.getAccessItemType(selection) === \"serviceAccount\",\n      )\n      .map((filtered) => {\n        const view = new ServiceAccountProjectAccessPolicyView();\n        view.grantedProjectId = this.projectId;\n        view.serviceAccountId = filtered.id;\n        view.read = true;\n        view.write = false;\n        return view;\n      });\n\n    return this.accessPolicyService.createProjectAccessPolicies(\n      this.organizationId,\n      this.projectId,\n      projectAccessPoliciesView,\n    );\n  }\n\n  protected async handleDeleteAccessPolicy(policy: AccessSelectorRowView) {\n    try {\n      await this.accessPolicyService.deleteAccessPolicy(policy.accessPolicyId);\n    } catch (e) {\n      this.validationService.showError(e);\n    }\n  }\n\n  constructor(\n    private route: ActivatedRoute,\n    private validationService: ValidationService,\n    private accessPolicyService: AccessPolicyService,\n  ) {}\n\n  ngOnInit(): void {\n    this.route.params.pipe(takeUntil(this.destroy$)).subscribe((params) => {\n      this.organizationId = params.organizationId;\n      this.projectId = params.projectId;\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","<div class=\"tw-w-2/5\">\n  <p class=\"tw-mt-8\">\n    {{ \"projectServiceAccountsDescription\" | i18n }}\n  </p>\n  <sm-access-selector\n    [rows]=\"rows$ | async\"\n    granteeType=\"serviceAccounts\"\n    [label]=\"'serviceAccounts' | i18n\"\n    [hint]=\"'projectServiceAccountsSelectHint' | i18n\"\n    [columnTitle]=\"'serviceAccounts' | i18n\"\n    [emptyMessage]=\"'projectEmptyServiceAccountAccessPolicies' | i18n\"\n    (onCreateAccessPolicies)=\"handleCreateAccessPolicies($event)\"\n    (onDeleteAccessPolicy)=\"handleDeleteAccessPolicy($event)\"\n    (onUpdateAccessPolicy)=\"handleUpdateAccessPolicy($event)\"\n  >\n  </sm-access-selector>\n</div>\n","<app-header *ngIf=\"project$ | async as project\" [title]=\"project.name\" icon=\"bwi-collection\">\n  <bit-breadcrumbs slot=\"breadcrumbs\">\n    <bit-breadcrumb [route]=\"['..']\" icon=\"bwi-angle-left\">{{ \"projects\" | i18n }}</bit-breadcrumb>\n  </bit-breadcrumbs>\n  <bit-tab-nav-bar label=\"Main\" slot=\"tabs\">\n    <bit-tab-link [route]=\"['secrets']\">{{ \"secrets\" | i18n }}</bit-tab-link>\n    <ng-container *ngIf=\"project.write\">\n      <bit-tab-link [route]=\"['people']\">{{ \"people\" | i18n }}</bit-tab-link>\n      <bit-tab-link [route]=\"['service-accounts']\">{{ \"serviceAccounts\" | i18n }}</bit-tab-link>\n    </ng-container>\n  </bit-tab-nav-bar>\n  <sm-new-menu></sm-new-menu>\n  <button\n    type=\"button\"\n    slot=\"secondary\"\n    bitButton\n    buttonType=\"secondary\"\n    (click)=\"openEditDialog()\"\n    *ngIf=\"project.write\"\n  >\n    {{ \"editProject\" | i18n }}\n  </button>\n</app-header>\n<router-outlet></router-outlet>\n","import { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport {\n  catchError,\n  combineLatest,\n  EMPTY,\n  filter,\n  Observable,\n  startWith,\n  Subject,\n  switchMap,\n  takeUntil,\n} from \"rxjs\";\n\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { DialogService } from \"@bitwarden/components\";\n\nimport { ProjectView } from \"../../models/view/project.view\";\nimport {\n  OperationType,\n  ProjectDialogComponent,\n  ProjectOperation,\n} from \"../dialog/project-dialog.component\";\nimport { ProjectService } from \"../project.service\";\n\n@Component({\n  selector: \"sm-project\",\n  templateUrl: \"./project.component.html\",\n})\nexport class ProjectComponent implements OnInit, OnDestroy {\n  protected project$: Observable<ProjectView>;\n\n  private organizationId: string;\n  private projectId: string;\n  private organizationEnabled: boolean;\n  private destroy$ = new Subject<void>();\n\n  constructor(\n    private route: ActivatedRoute,\n    private projectService: ProjectService,\n    private router: Router,\n    private dialogService: DialogService,\n    private platformUtilsService: PlatformUtilsService,\n    private i18nService: I18nService,\n    private organizationService: OrganizationService,\n  ) {}\n\n  ngOnInit(): void {\n    // Update project if it is edited\n    const currentProjectEdited = this.projectService.project$.pipe(\n      filter((p) => p?.id === this.projectId),\n      startWith(null),\n    );\n\n    this.project$ = combineLatest([this.route.params, currentProjectEdited]).pipe(\n      switchMap(([params, _]) => this.projectService.getByProjectId(params.projectId)),\n      catchError(() => {\n        this.router.navigate([\"/sm\", this.organizationId, \"projects\"]).then(() => {\n          this.platformUtilsService.showToast(\n            \"error\",\n            null,\n            this.i18nService.t(\"notFound\", this.i18nService.t(\"project\")),\n          );\n        });\n        return EMPTY;\n      }),\n    );\n\n    this.route.params.pipe(takeUntil(this.destroy$)).subscribe((params) => {\n      this.organizationId = params.organizationId;\n      this.projectId = params.projectId;\n      this.organizationEnabled = this.organizationService.get(params.organizationId)?.enabled;\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  async openEditDialog() {\n    this.dialogService.open<unknown, ProjectOperation>(ProjectDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Edit,\n        organizationEnabled: this.organizationEnabled,\n        projectId: this.projectId,\n      },\n    });\n  }\n}\n","<bit-dialog>\n  <ng-container bitDialogTitle>\n    {{ data.title | i18n }}\n  </ng-container>\n\n  <div bitDialogContent>\n    {{ data.message | i18n }}\n    <bit-table>\n      <ng-container header>\n        <tr>\n          <th bitCell>{{ data.columnTitle | i18n }}</th>\n          <th bitCell>{{ \"description\" | i18n }}</th>\n        </tr>\n      </ng-container>\n      <ng-template body>\n        <tr bitRow *ngFor=\"let detail of data.details\">\n          <td bitCell>{{ detail.name }}</td>\n          <td bitCell>{{ detail.description | i18n }}</td>\n        </tr>\n      </ng-template>\n    </bit-table>\n  </div>\n\n  <div bitDialogFooter class=\"tw-flex tw-gap-2\">\n    <button\n      type=\"button\"\n      bitButton\n      buttonType=\"primary\"\n      bitFormButton\n      (click)=\"dialogRef.close(bulkConfirmationResult.Continue)\"\n    >\n      {{ \"continue\" | i18n }}\n    </button>\n    <button bitButton buttonType=\"secondary\" bitDialogClose type=\"button\">\n      {{ \"cancel\" | i18n }}\n    </button>\n  </div>\n</bit-dialog>\n","import { DialogRef, DIALOG_DATA } from \"@angular/cdk/dialog\";\nimport { Component, Inject, OnInit } from \"@angular/core\";\n\nexport interface BulkConfirmationDetails {\n  title: string;\n  columnTitle: string;\n  message: string;\n  details: BulkConfirmationStatus[];\n}\n\nexport interface BulkConfirmationStatus {\n  id: string;\n  name: string;\n  description: string;\n}\n\nexport enum BulkConfirmationResult {\n  Continue,\n  Cancel,\n}\n\n@Component({\n  selector: \"sm-bulk-confirmation-dialog\",\n  templateUrl: \"./bulk-confirmation-dialog.component.html\",\n})\nexport class BulkConfirmationDialogComponent implements OnInit {\n  constructor(\n    public dialogRef: DialogRef,\n    @Inject(DIALOG_DATA) public data: BulkConfirmationDetails,\n  ) {}\n\n  protected bulkConfirmationResult = BulkConfirmationResult;\n\n  ngOnInit(): void {\n    // TODO remove null checks once strictNullChecks in TypeScript is turned on.\n    if (\n      !this.data.title ||\n      !this.data.columnTitle ||\n      !this.data.message ||\n      !(this.data.details?.length >= 1)\n    ) {\n      this.dialogRef.close();\n      throw new Error(\n        \"The bulk confirmation dialog was not called with the appropriate operation values.\",\n      );\n    }\n  }\n}\n","import { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { combineLatest, lastValueFrom, Observable, startWith, switchMap } from \"rxjs\";\n\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { DialogService } from \"@bitwarden/components\";\n\nimport { ProjectListView } from \"../../models/view/project-list.view\";\nimport { AccessPolicyService } from \"../../shared/access-policies/access-policy.service\";\nimport {\n  BulkConfirmationDetails,\n  BulkConfirmationDialogComponent,\n  BulkConfirmationResult,\n  BulkConfirmationStatus,\n} from \"../../shared/dialogs/bulk-confirmation-dialog.component\";\nimport {\n  ProjectDeleteDialogComponent,\n  ProjectDeleteOperation,\n} from \"../dialog/project-delete-dialog.component\";\nimport {\n  OperationType,\n  ProjectDialogComponent,\n  ProjectOperation,\n} from \"../dialog/project-dialog.component\";\nimport { ProjectService } from \"../project.service\";\n\n@Component({\n  selector: \"sm-projects\",\n  templateUrl: \"./projects.component.html\",\n})\nexport class ProjectsComponent implements OnInit {\n  protected projects$: Observable<ProjectListView[]>;\n  protected search: string;\n\n  private organizationId: string;\n  private organizationEnabled: boolean;\n\n  constructor(\n    private route: ActivatedRoute,\n    private projectService: ProjectService,\n    private accessPolicyService: AccessPolicyService,\n    private dialogService: DialogService,\n    private organizationService: OrganizationService,\n  ) {}\n\n  ngOnInit() {\n    this.projects$ = combineLatest([\n      this.route.params,\n      this.projectService.project$.pipe(startWith(null)),\n      this.accessPolicyService.projectAccessPolicyChanges$.pipe(startWith(null)),\n    ]).pipe(\n      switchMap(async ([params]) => {\n        this.organizationId = params.organizationId;\n        this.organizationEnabled = this.organizationService.get(params.organizationId)?.enabled;\n\n        return await this.getProjects();\n      }),\n    );\n  }\n\n  private async getProjects(): Promise<ProjectListView[]> {\n    return await this.projectService.getProjects(this.organizationId);\n  }\n\n  openEditProject(projectId: string) {\n    this.dialogService.open<unknown, ProjectOperation>(ProjectDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Edit,\n        organizationEnabled: this.organizationEnabled,\n        projectId: projectId,\n      },\n    });\n  }\n\n  openNewProjectDialog() {\n    this.dialogService.open<unknown, ProjectOperation>(ProjectDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Add,\n        organizationEnabled: this.organizationEnabled,\n      },\n    });\n  }\n\n  async openDeleteProjectDialog(projects: ProjectListView[]) {\n    if (projects.some((project) => project.write == false)) {\n      const readOnlyProjects = projects.filter((project) => project.write == false);\n      const writeProjects = projects.filter((project) => project.write);\n\n      const dialogRef = this.dialogService.open<unknown, BulkConfirmationDetails>(\n        BulkConfirmationDialogComponent,\n        {\n          data: {\n            title: \"deleteProjects\",\n            columnTitle: \"projectName\",\n            message: \"smProjectsDeleteBulkConfirmation\",\n            details: this.getBulkConfirmationDetails(readOnlyProjects),\n          },\n        },\n      );\n\n      const result = await lastValueFrom(dialogRef.closed);\n\n      if (result == BulkConfirmationResult.Continue) {\n        this.dialogService.open<unknown, ProjectDeleteOperation>(ProjectDeleteDialogComponent, {\n          data: {\n            projects: writeProjects,\n          },\n        });\n      }\n    } else {\n      this.dialogService.open<unknown, ProjectDeleteOperation>(ProjectDeleteDialogComponent, {\n        data: {\n          projects,\n        },\n      });\n    }\n  }\n\n  private getBulkConfirmationDetails(projects: ProjectListView[]): BulkConfirmationStatus[] {\n    return projects.map((project) => {\n      return {\n        id: project.id,\n        name: project.name,\n        description: \"smProjectDeleteAccessRestricted\",\n      };\n    });\n  }\n}\n","<app-header>\n  <bit-search\n    [placeholder]=\"'searchProjects' | i18n\"\n    [(ngModel)]=\"search\"\n    class=\"tw-w-80\"\n  ></bit-search>\n  <sm-new-menu></sm-new-menu>\n</app-header>\n<sm-projects-list\n  (newProjectEvent)=\"openNewProjectDialog()\"\n  (editProjectEvent)=\"openEditProject($event)\"\n  (deleteProjectEvent)=\"openDeleteProjectDialog($event)\"\n  [projects]=\"projects$ | async\"\n  [search]=\"search\"\n>\n</sm-projects-list>\n","import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\n\nimport { ProjectPeopleComponent } from \"./project/project-people.component\";\nimport { ProjectSecretsComponent } from \"./project/project-secrets.component\";\nimport { ProjectServiceAccountsComponent } from \"./project/project-service-accounts.component\";\nimport { ProjectComponent } from \"./project/project.component\";\nimport { ProjectsComponent } from \"./projects/projects.component\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: ProjectsComponent,\n  },\n  {\n    path: \":projectId\",\n    component: ProjectComponent,\n    children: [\n      {\n        path: \"\",\n        pathMatch: \"full\",\n        redirectTo: \"secrets\",\n      },\n      {\n        path: \"secrets\",\n        component: ProjectSecretsComponent,\n      },\n      {\n        path: \"people\",\n        component: ProjectPeopleComponent,\n      },\n      {\n        path: \"service-accounts\",\n        component: ProjectServiceAccountsComponent,\n      },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ProjectsRoutingModule {}\n","import { NgModule } from \"@angular/core\";\n\nimport { BreadcrumbsModule } from \"@bitwarden/components\";\n\nimport { SecretsManagerSharedModule } from \"../shared/sm-shared.module\";\n\nimport { ProjectDeleteDialogComponent } from \"./dialog/project-delete-dialog.component\";\nimport { ProjectDialogComponent } from \"./dialog/project-dialog.component\";\nimport { ProjectPeopleComponent } from \"./project/project-people.component\";\nimport { ProjectSecretsComponent } from \"./project/project-secrets.component\";\nimport { ProjectServiceAccountsComponent } from \"./project/project-service-accounts.component\";\nimport { ProjectComponent } from \"./project/project.component\";\nimport { ProjectsComponent } from \"./projects/projects.component\";\nimport { ProjectsRoutingModule } from \"./projects-routing.module\";\n\n@NgModule({\n  imports: [SecretsManagerSharedModule, ProjectsRoutingModule, BreadcrumbsModule],\n  declarations: [\n    ProjectsComponent,\n    ProjectDialogComponent,\n    ProjectDeleteDialogComponent,\n    ProjectPeopleComponent,\n    ProjectServiceAccountsComponent,\n    ProjectComponent,\n    ProjectSecretsComponent,\n  ],\n  providers: [],\n})\nexport class ProjectsModule {}\n","import { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { combineLatestWith, Observable, startWith, switchMap } from \"rxjs\";\n\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { DialogService } from \"@bitwarden/components\";\n\nimport { SecretListView } from \"../models/view/secret-list.view\";\nimport { SecretsListComponent } from \"../shared/secrets-list.component\";\n\nimport {\n  SecretDeleteDialogComponent,\n  SecretDeleteOperation,\n} from \"./dialog/secret-delete.component\";\nimport {\n  OperationType,\n  SecretDialogComponent,\n  SecretOperation,\n} from \"./dialog/secret-dialog.component\";\nimport { SecretService } from \"./secret.service\";\n\n@Component({\n  selector: \"sm-secrets\",\n  templateUrl: \"./secrets.component.html\",\n})\nexport class SecretsComponent implements OnInit {\n  protected secrets$: Observable<SecretListView[]>;\n  protected search: string;\n\n  private organizationId: string;\n  private organizationEnabled: boolean;\n\n  constructor(\n    private route: ActivatedRoute,\n    private secretService: SecretService,\n    private dialogService: DialogService,\n    private platformUtilsService: PlatformUtilsService,\n    private i18nService: I18nService,\n    private organizationService: OrganizationService,\n  ) {}\n\n  ngOnInit() {\n    this.secrets$ = this.secretService.secret$.pipe(\n      startWith(null),\n      combineLatestWith(this.route.params),\n      switchMap(async ([_, params]) => {\n        this.organizationId = params.organizationId;\n        this.organizationEnabled = this.organizationService.get(params.organizationId)?.enabled;\n\n        return await this.getSecrets();\n      }),\n    );\n\n    if (this.route.snapshot.queryParams.search) {\n      this.search = this.route.snapshot.queryParams.search;\n    }\n  }\n\n  private async getSecrets(): Promise<SecretListView[]> {\n    return await this.secretService.getSecrets(this.organizationId);\n  }\n\n  openEditSecret(secretId: string) {\n    this.dialogService.open<unknown, SecretOperation>(SecretDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Edit,\n        secretId: secretId,\n        organizationEnabled: this.organizationEnabled,\n      },\n    });\n  }\n\n  openDeleteSecret(event: SecretListView[]) {\n    this.dialogService.open<unknown, SecretDeleteOperation>(SecretDeleteDialogComponent, {\n      data: {\n        secrets: event,\n      },\n    });\n  }\n\n  openNewSecretDialog() {\n    this.dialogService.open<unknown, SecretOperation>(SecretDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Add,\n        organizationEnabled: this.organizationEnabled,\n      },\n    });\n  }\n\n  copySecretName(name: string) {\n    SecretsListComponent.copySecretName(name, this.platformUtilsService, this.i18nService);\n  }\n\n  copySecretValue(id: string) {\n    SecretsListComponent.copySecretValue(\n      id,\n      this.platformUtilsService,\n      this.i18nService,\n      this.secretService,\n    );\n  }\n\n  copySecretUuid(id: string) {\n    SecretsListComponent.copySecretUuid(id, this.platformUtilsService, this.i18nService);\n  }\n}\n","<app-header>\n  <bit-search\n    [placeholder]=\"'searchSecrets' | i18n\"\n    [(ngModel)]=\"search\"\n    class=\"tw-w-80\"\n  ></bit-search>\n  <sm-new-menu></sm-new-menu>\n</app-header>\n<sm-secrets-list\n  (deleteSecretsEvent)=\"openDeleteSecret($event)\"\n  (newSecretEvent)=\"openNewSecretDialog()\"\n  (editSecretEvent)=\"openEditSecret($event)\"\n  (copySecretNameEvent)=\"copySecretName($event)\"\n  (copySecretValueEvent)=\"copySecretValue($event)\"\n  (copySecretUuidEvent)=\"copySecretUuid($event)\"\n  [secrets]=\"secrets$ | async\"\n  [search]=\"search\"\n></sm-secrets-list>\n","import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\n\nimport { SecretsComponent } from \"./secrets.component\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: SecretsComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SecretsRoutingModule {}\n","import { NgModule } from \"@angular/core\";\n\nimport { SecretsManagerSharedModule } from \"../shared/sm-shared.module\";\n\nimport { SecretDeleteDialogComponent } from \"./dialog/secret-delete.component\";\nimport { SecretDialogComponent } from \"./dialog/secret-dialog.component\";\nimport { SecretsRoutingModule } from \"./secrets-routing.module\";\nimport { SecretsComponent } from \"./secrets.component\";\n\n@NgModule({\n  imports: [SecretsManagerSharedModule, SecretsRoutingModule],\n  declarations: [SecretDeleteDialogComponent, SecretDialogComponent, SecretsComponent],\n  providers: [],\n})\nexport class SecretsModule {}\n","import { EncString } from \"@bitwarden/common/platform/models/domain/enc-string\";\n\nexport class AccessTokenRequest {\n  name: EncString;\n  encryptedPayload: EncString;\n  key: EncString;\n  expireAt: Date;\n}\n","export class RevokeAccessTokensRequest {\n  ids: string[];\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nexport class AccessTokenCreationResponse extends BaseResponse {\n  id: string;\n  name: string;\n  clientSecret: string;\n  expireAt?: string;\n  creationDate: string;\n  revisionDate: string;\n\n  constructor(response: any) {\n    super(response);\n    this.id = this.getResponseProperty(\"Id\");\n    this.name = this.getResponseProperty(\"Name\");\n    this.clientSecret = this.getResponseProperty(\"ClientSecret\");\n    this.expireAt = this.getResponseProperty(\"ExpireAt\");\n    this.creationDate = this.getResponseProperty(\"CreationDate\");\n    this.revisionDate = this.getResponseProperty(\"RevisionDate\");\n  }\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nexport class AccessTokenResponse extends BaseResponse {\n  id: string;\n  name: string;\n  scopes: string[];\n  expireAt?: string;\n  creationDate: string;\n  revisionDate: string;\n\n  constructor(response: any) {\n    super(response);\n    this.id = this.getResponseProperty(\"Id\");\n    this.name = this.getResponseProperty(\"Name\");\n    this.scopes = this.getResponseProperty(\"Scopes\");\n    this.expireAt = this.getResponseProperty(\"ExpireAt\");\n    this.creationDate = this.getResponseProperty(\"CreationDate\");\n    this.revisionDate = this.getResponseProperty(\"RevisionDate\");\n  }\n}\n","export class AccessTokenView {\n  id: string;\n  name: string;\n  scopes: string[];\n  expireAt?: Date;\n  creationDate: Date;\n  revisionDate: Date;\n}\n","import { Injectable } from \"@angular/core\";\nimport { Subject } from \"rxjs\";\n\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport { ListResponse } from \"@bitwarden/common/models/response/list.response\";\nimport { CryptoFunctionService } from \"@bitwarden/common/platform/abstractions/crypto-function.service\";\nimport { CryptoService } from \"@bitwarden/common/platform/abstractions/crypto.service\";\nimport { EncryptService } from \"@bitwarden/common/platform/abstractions/encrypt.service\";\nimport { Utils } from \"@bitwarden/common/platform/misc/utils\";\nimport { EncString } from \"@bitwarden/common/platform/models/domain/enc-string\";\nimport { SymmetricCryptoKey } from \"@bitwarden/common/platform/models/domain/symmetric-crypto-key\";\n\nimport { AccessTokenRequest } from \"../models/requests/access-token.request\";\nimport { RevokeAccessTokensRequest } from \"../models/requests/revoke-access-tokens.request\";\nimport { AccessTokenCreationResponse } from \"../models/responses/access-token-creation.response\";\nimport { AccessTokenResponse } from \"../models/responses/access-tokens.response\";\nimport { AccessTokenView } from \"../models/view/access-token.view\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class AccessService {\n  private readonly _accessTokenVersion = \"0\";\n  protected _accessToken: Subject<AccessTokenView> = new Subject();\n\n  accessToken$ = this._accessToken.asObservable();\n\n  constructor(\n    private cryptoService: CryptoService,\n    private apiService: ApiService,\n    private cryptoFunctionService: CryptoFunctionService,\n    private encryptService: EncryptService,\n  ) {}\n\n  async getAccessTokens(\n    organizationId: string,\n    serviceAccountId: string,\n  ): Promise<AccessTokenView[]> {\n    const r = await this.apiService.send(\n      \"GET\",\n      \"/service-accounts/\" + serviceAccountId + \"/access-tokens\",\n      null,\n      true,\n      true,\n    );\n    const results = new ListResponse(r, AccessTokenResponse);\n\n    return await this.createAccessTokenViews(organizationId, results.data);\n  }\n\n  async createAccessToken(\n    organizationId: string,\n    serviceAccountId: string,\n    accessTokenView: AccessTokenView,\n  ): Promise<string> {\n    const keyMaterial = await this.cryptoFunctionService.aesGenerateKey(128);\n    const key = await this.cryptoFunctionService.hkdf(\n      keyMaterial,\n      \"bitwarden-accesstoken\",\n      \"sm-access-token\",\n      64,\n      \"sha256\",\n    );\n    const encryptionKey = new SymmetricCryptoKey(key);\n\n    const request = await this.createAccessTokenRequest(\n      organizationId,\n      encryptionKey,\n      accessTokenView,\n    );\n    const r = await this.apiService.send(\n      \"POST\",\n      \"/service-accounts/\" + serviceAccountId + \"/access-tokens\",\n      request,\n      true,\n      true,\n    );\n    const result = new AccessTokenCreationResponse(r);\n    this._accessToken.next(null);\n    const b64Key = Utils.fromBufferToB64(keyMaterial);\n    return `${this._accessTokenVersion}.${result.id}.${result.clientSecret}:${b64Key}`;\n  }\n\n  async revokeAccessTokens(serviceAccountId: string, accessTokenIds: string[]): Promise<void> {\n    const request = new RevokeAccessTokensRequest();\n    request.ids = accessTokenIds;\n\n    await this.apiService.send(\n      \"POST\",\n      \"/service-accounts/\" + serviceAccountId + \"/access-tokens/revoke\",\n      request,\n      true,\n      false,\n    );\n\n    this._accessToken.next(null);\n  }\n\n  private async createAccessTokenRequest(\n    organizationId: string,\n    encryptionKey: SymmetricCryptoKey,\n    accessTokenView: AccessTokenView,\n  ): Promise<AccessTokenRequest> {\n    const organizationKey = await this.getOrganizationKey(organizationId);\n    const accessTokenRequest = new AccessTokenRequest();\n    const [name, encryptedPayload, key] = await Promise.all([\n      await this.encryptService.encrypt(accessTokenView.name, organizationKey),\n      await this.encryptService.encrypt(\n        JSON.stringify({ encryptionKey: organizationKey.keyB64 }),\n        encryptionKey,\n      ),\n      await this.encryptService.encrypt(encryptionKey.keyB64, organizationKey),\n    ]);\n\n    accessTokenRequest.name = name;\n    accessTokenRequest.encryptedPayload = encryptedPayload;\n    accessTokenRequest.key = key;\n    accessTokenRequest.expireAt = accessTokenView.expireAt;\n    return accessTokenRequest;\n  }\n\n  private async getOrganizationKey(organizationId: string): Promise<SymmetricCryptoKey> {\n    return await this.cryptoService.getOrgKey(organizationId);\n  }\n\n  private async createAccessTokenViews(\n    organizationId: string,\n    accessTokenResponses: AccessTokenResponse[],\n  ): Promise<AccessTokenView[]> {\n    const orgKey = await this.getOrganizationKey(organizationId);\n    return await Promise.all(\n      accessTokenResponses.map(async (s) => {\n        const view = new AccessTokenView();\n        view.id = s.id;\n        view.name = await this.encryptService.decryptToUtf8(new EncString(s.name), orgKey);\n        view.scopes = s.scopes;\n        view.expireAt = s.expireAt ? new Date(s.expireAt) : null;\n        view.creationDate = new Date(s.creationDate);\n        view.revisionDate = new Date(s.revisionDate);\n        return view;\n      }),\n    );\n  }\n}\n","import { DialogRef, DIALOG_DATA } from \"@angular/cdk/dialog\";\nimport { Component, Inject, OnInit } from \"@angular/core\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\n\nexport interface AccessTokenDetails {\n  subTitle: string;\n  expirationDate?: Date;\n  accessToken: string;\n}\n\n@Component({\n  templateUrl: \"./access-token-dialog.component.html\",\n})\nexport class AccessTokenDialogComponent implements OnInit {\n  constructor(\n    public dialogRef: DialogRef,\n    @Inject(DIALOG_DATA) public data: AccessTokenDetails,\n    private platformUtilsService: PlatformUtilsService,\n    private i18nService: I18nService,\n  ) {\n    this.dialogRef.disableClose = true;\n  }\n\n  ngOnInit(): void {\n    // TODO remove null checks once strictNullChecks in TypeScript is turned on.\n    if (!this.data.subTitle || !this.data.accessToken) {\n      this.dialogRef.close();\n      throw new Error(\"The access token dialog was not called with the appropriate values.\");\n    }\n  }\n\n  copyAccessToken(): void {\n    this.platformUtilsService.copyToClipboard(this.data.accessToken);\n    this.platformUtilsService.showToast(\n      \"success\",\n      null,\n      this.i18nService.t(\"accessTokenCreatedAndCopied\"),\n    );\n    this.dialogRef.close();\n  }\n}\n","<bit-dialog dialogSize=\"default\">\n  <ng-container bitDialogTitle>\n    <span>{{ \"newAccessToken\" | i18n }}</span>\n    <span class=\"tw-text-sm tw-normal-case tw-text-muted\">\n      {{ data.subTitle }}\n    </span>\n  </ng-container>\n\n  <div bitDialogContent>\n    <bit-callout type=\"info\" [title]=\"'accessTokenCallOutTitle' | i18n\">\n      {{ \"downloadAccessToken\" | i18n }}<br />\n      {{ \"expiresOnAccessToken\" | i18n }}\n      {{ data.expirationDate === null ? (\"never\" | i18n) : (data.expirationDate | date: \"medium\") }}\n    </bit-callout>\n\n    <bit-form-field class=\"tw-mb-0\">\n      <bit-label>{{ \"accessToken\" | i18n }}</bit-label>\n      <textarea bitInput disabled rows=\"4\">{{ data.accessToken }}</textarea>\n    </bit-form-field>\n    {{ \"expiresOnAccessToken\" | i18n }}\n    {{ data.expirationDate === null ? (\"never\" | i18n) : (data.expirationDate | date: \"medium\") }}\n  </div>\n\n  <ng-container bitDialogFooter>\n    <button type=\"button\" bitButton buttonType=\"primary\" (click)=\"copyAccessToken()\">\n      <i class=\"bwi bwi-clone\" aria-hidden=\"true\"></i>\n      {{ \"copyToken\" | i18n }}\n    </button>\n  </ng-container>\n</bit-dialog>\n","<ng-container [formGroup]=\"form\">\n  <bit-form-field>\n    <bit-label>{{ \"expires\" | i18n }}</bit-label>\n    <select bitInput formControlName=\"expires\">\n      <option ngValue=\"never\">{{ \"never\" | i18n }}</option>\n      <option *ngFor=\"let day of expirationDayOptions\" [ngValue]=\"day\">\n        {{ \"days\" | i18n: day }}\n      </option>\n      <option ngValue=\"custom\">{{ \"custom\" | i18n }}</option>\n    </select>\n  </bit-form-field>\n  <bit-form-field *ngIf=\"form.value.expires === 'custom'\">\n    <bit-label>{{ \"expirationDate\" | i18n }}</bit-label>\n    <input\n      bitInput\n      type=\"datetime-local\"\n      [min]=\"currentDate | date: 'YYYY-MM-ddThh:mm'\"\n      formControlName=\"expireDateTime\"\n    />\n  </bit-form-field>\n</ng-container>\n","import { DatePipe } from \"@angular/common\";\nimport { Component, Input, OnDestroy, OnInit } from \"@angular/core\";\nimport {\n  AbstractControl,\n  ControlValueAccessor,\n  FormControl,\n  FormGroup,\n  NG_VALIDATORS,\n  NG_VALUE_ACCESSOR,\n  ValidationErrors,\n  Validator,\n  ValidatorFn,\n  Validators,\n} from \"@angular/forms\";\nimport { Subject, takeUntil } from \"rxjs\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\n\n@Component({\n  selector: \"sm-expiration-options\",\n  templateUrl: \"./expiration-options.component.html\",\n  providers: [\n    {\n      provide: NG_VALUE_ACCESSOR,\n      multi: true,\n      useExisting: ExpirationOptionsComponent,\n    },\n    {\n      provide: NG_VALIDATORS,\n      multi: true,\n      useExisting: ExpirationOptionsComponent,\n    },\n  ],\n})\nexport class ExpirationOptionsComponent\n  implements ControlValueAccessor, Validator, OnInit, OnDestroy\n{\n  private destroy$ = new Subject<void>();\n\n  @Input() expirationDayOptions: number[];\n\n  @Input() set touched(val: boolean) {\n    if (val) {\n      this.form.markAllAsTouched();\n    }\n  }\n\n  currentDate = new Date();\n\n  protected form = new FormGroup({\n    expires: new FormControl(\"never\", [Validators.required]),\n    expireDateTime: new FormControl(\"\", [Validators.required, this.expiresInFutureValidator()]),\n  });\n\n  constructor(\n    private datePipe: DatePipe,\n    private i18nService: I18nService,\n  ) {}\n\n  async ngOnInit() {\n    this.form.valueChanges.pipe(takeUntil(this.destroy$)).subscribe(() => {\n      this._onChange(this.getExpiresDate());\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  private _onChange = (_value: Date | null): void => undefined;\n  registerOnChange(fn: (value: Date | null) => void): void {\n    this._onChange = fn;\n  }\n\n  onTouched = (): void => undefined;\n  registerOnTouched(fn: () => void): void {\n    this.onTouched = fn;\n  }\n\n  validate(control: AbstractControl<any, any>): ValidationErrors {\n    if (\n      (this.form.value.expires == \"custom\" && !this.form.invalid) ||\n      this.form.value.expires !== \"custom\"\n    ) {\n      return null;\n    }\n    return {\n      required: true,\n    };\n  }\n\n  writeValue(value: Date | null): void {\n    if (value == null) {\n      this.form.setValue({ expires: \"never\", expireDateTime: null });\n    }\n    if (value) {\n      this.form.setValue({\n        expires: \"custom\",\n        expireDateTime: this.datePipe.transform(value, \"YYYY-MM-ddThh:mm\"),\n      });\n    }\n  }\n\n  setDisabledState?(isDisabled: boolean): void {\n    isDisabled ? this.form.disable() : this.form.enable();\n  }\n\n  private getExpiresDate(): Date | null {\n    if (this.form.value.expires == \"never\") {\n      return null;\n    }\n    if (this.form.value.expires == \"custom\") {\n      return new Date(this.form.value.expireDateTime);\n    }\n    const currentDate = new Date();\n    currentDate.setDate(currentDate.getDate() + Number(this.form.value.expires));\n    return currentDate;\n  }\n\n  expiresInFutureValidator(): ValidatorFn {\n    return (control: AbstractControl): ValidationErrors | null => {\n      const enteredDate = new Date(control.value);\n\n      if (enteredDate > new Date()) {\n        return null;\n      } else {\n        return {\n          ValidationError: {\n            message: this.i18nService.t(\"expirationDateError\"),\n          },\n        };\n      }\n    };\n  }\n}\n","import { DialogRef, DIALOG_DATA } from \"@angular/cdk/dialog\";\nimport { Component, Inject, OnInit } from \"@angular/core\";\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\n\nimport { DialogService, BitValidators } from \"@bitwarden/components\";\n\nimport { ServiceAccountView } from \"../../../models/view/service-account.view\";\nimport { AccessTokenView } from \"../../models/view/access-token.view\";\nimport { AccessService } from \"../access.service\";\n\nimport { AccessTokenDetails, AccessTokenDialogComponent } from \"./access-token-dialog.component\";\n\nexport interface AccessTokenOperation {\n  serviceAccountView: ServiceAccountView;\n}\n\n@Component({\n  templateUrl: \"./access-token-create-dialog.component.html\",\n})\nexport class AccessTokenCreateDialogComponent implements OnInit {\n  protected formGroup = new FormGroup({\n    name: new FormControl(\"\", {\n      validators: [Validators.required, Validators.maxLength(80), BitValidators.trimValidator],\n      updateOn: \"submit\",\n    }),\n    expirationDateControl: new FormControl(null),\n  });\n  protected loading = false;\n\n  expirationDayOptions = [7, 30, 60];\n\n  constructor(\n    public dialogRef: DialogRef,\n    @Inject(DIALOG_DATA) public data: AccessTokenOperation,\n    private dialogService: DialogService,\n    private accessService: AccessService,\n  ) {}\n\n  async ngOnInit() {\n    if (!this.data.serviceAccountView) {\n      this.dialogRef.close();\n      throw new Error(\n        `The access token create dialog was not called with the appropriate operation values.`,\n      );\n    }\n  }\n\n  submit = async () => {\n    this.formGroup.markAllAsTouched();\n    if (this.formGroup.invalid) {\n      return;\n    }\n\n    const accessTokenView = new AccessTokenView();\n    accessTokenView.name = this.formGroup.value.name;\n    accessTokenView.expireAt = this.formGroup.value.expirationDateControl;\n    const accessToken = await this.accessService.createAccessToken(\n      this.data.serviceAccountView.organizationId,\n      this.data.serviceAccountView.id,\n      accessTokenView,\n    );\n    this.openAccessTokenDialog(\n      this.data.serviceAccountView.name,\n      accessToken,\n      accessTokenView.expireAt,\n    );\n    this.dialogRef.close();\n  };\n\n  private openAccessTokenDialog(\n    serviceAccountName: string,\n    accessToken: string,\n    expirationDate?: Date,\n  ) {\n    this.dialogService.open<unknown, AccessTokenDetails>(AccessTokenDialogComponent, {\n      data: {\n        subTitle: serviceAccountName,\n        expirationDate: expirationDate,\n        accessToken: accessToken,\n      },\n    });\n  }\n\n  static openNewAccessTokenDialog(\n    dialogService: DialogService,\n    serviceAccountView: ServiceAccountView,\n  ) {\n    return dialogService.open<unknown, AccessTokenOperation>(AccessTokenCreateDialogComponent, {\n      data: {\n        serviceAccountView,\n      },\n    });\n  }\n}\n","<div *ngIf=\"!tokens\" class=\"tw-items-center tw-justify-center tw-pt-64 tw-text-center\">\n  <i class=\"bwi bwi-spinner bwi-spin bwi-3x\"></i>\n</div>\n\n<bit-no-items *ngIf=\"tokens?.length == 0\">\n  <ng-container slot=\"title\">{{ \"accessTokensNoItemsTitle\" | i18n }}</ng-container>\n  <ng-container slot=\"description\">{{ \"accessTokensNoItemsDesc\" | i18n }}</ng-container>\n  <button\n    type=\"button\"\n    slot=\"button\"\n    bitButton\n    buttonType=\"secondary\"\n    (click)=\"newAccessTokenEvent.emit()\"\n  >\n    <i class=\"bwi bwi-plus\" aria-hidden=\"true\"></i>\n    {{ \"newAccessToken\" | i18n }}\n  </button>\n</bit-no-items>\n\n<bit-table *ngIf=\"tokens?.length >= 1\">\n  <ng-container header>\n    <tr>\n      <th bitCell class=\"tw-w-0\">\n        <label class=\"tw-m-0 tw-flex tw-w-fit tw-gap-2 !tw-font-bold !tw-text-muted\">\n          <input\n            type=\"checkbox\"\n            (change)=\"$event ? toggleAll() : null\"\n            [checked]=\"selection.hasValue() && isAllSelected()\"\n            [indeterminate]=\"selection.hasValue() && !isAllSelected()\"\n          />\n          {{ \"all\" | i18n }}\n        </label>\n      </th>\n      <th bitCell>{{ \"name\" | i18n }}</th>\n      <th bitCell>{{ \"expires\" | i18n }}</th>\n      <th bitCell>{{ \"lastEdited\" | i18n }}</th>\n      <th bitCell class=\"tw-w-0\">\n        <button\n          type=\"button\"\n          bitIconButton=\"bwi-ellipsis-v\"\n          buttonType=\"main\"\n          [bitMenuTriggerFor]=\"tableMenu\"\n          [title]=\"'options' | i18n\"\n          [attr.aria-label]=\"'options' | i18n\"\n        ></button>\n      </th>\n    </tr>\n  </ng-container>\n  <ng-template body>\n    <tr bitRow *ngFor=\"let token of tokens\">\n      <td bitCell>\n        <input\n          type=\"checkbox\"\n          (change)=\"$event ? selection.toggle(token.id) : null\"\n          [checked]=\"selection.isSelected(token.id)\"\n        />\n      </td>\n      <td bitCell>{{ token.name }}</td>\n      <td bitCell>\n        {{ token.expireAt === null ? (\"never\" | i18n) : (token.expireAt | date: \"medium\") }}\n      </td>\n      <td bitCell>{{ token.revisionDate | date: \"medium\" }}</td>\n      <td bitCell>\n        <button\n          type=\"button\"\n          bitIconButton=\"bwi-ellipsis-v\"\n          buttonType=\"main\"\n          [title]=\"'options' | i18n\"\n          [attr.aria-label]=\"'options' | i18n\"\n          [bitMenuTriggerFor]=\"tokenMenu\"\n        ></button>\n      </td>\n\n      <bit-menu #tokenMenu>\n        <button type=\"button\" bitMenuItem (click)=\"revokeAccessTokensEvent.emit([token])\">\n          <span class=\"tw-text-danger\">\n            <i class=\"bwi bwi-fw bwi-minus-circle\" aria-hidden=\"true\"></i>\n            {{ \"revokeAccessToken\" | i18n }}\n          </span>\n        </button>\n      </bit-menu>\n    </tr>\n  </ng-template>\n</bit-table>\n\n<bit-menu #tableMenu>\n  <button type=\"button\" bitMenuItem (click)=\"revokeSelected()\">\n    <span class=\"tw-text-danger\">\n      <i class=\"bwi bwi-fw bwi-minus-circle\" aria-hidden=\"true\"></i>\n      {{ \"revokeAccessTokens\" | i18n }}\n    </span>\n  </button>\n</bit-menu>\n","<form [formGroup]=\"formGroup\" [bitSubmit]=\"submit\">\n  <bit-dialog dialogSize=\"default\">\n    <ng-container bitDialogTitle>\n      <span>{{ \"newAccessToken\" | i18n }}</span>\n      <span class=\"tw-text-sm tw-normal-case tw-text-muted\">\n        {{ data.serviceAccountView.name }}\n      </span>\n    </ng-container>\n\n    <div bitDialogContent>\n      <bit-form-field>\n        <bit-label>{{ \"name\" | i18n }}</bit-label>\n        <input bitInput appAutofocus formControlName=\"name\" />\n      </bit-form-field>\n      <sm-expiration-options\n        formControlName=\"expirationDateControl\"\n        [expirationDayOptions]=\"expirationDayOptions\"\n        [touched]=\"formGroup.controls.expirationDateControl.touched\"\n      ></sm-expiration-options>\n    </div>\n\n    <ng-container bitDialogFooter>\n      <button class=\"tw-normal-case\" type=\"submit\" bitButton buttonType=\"primary\" bitFormButton>\n        {{ \"newAccessToken\" | i18n }}\n      </button>\n      <button type=\"button\" bitButton buttonType=\"secondary\" bitFormButton bitDialogClose>\n        {{ \"cancel\" | i18n }}\n      </button>\n    </ng-container>\n  </bit-dialog>\n</form>\n","import { SelectionModel } from \"@angular/cdk/collections\";\nimport { Component, EventEmitter, Input, Output } from \"@angular/core\";\n\nimport { AccessTokenView } from \"../models/view/access-token.view\";\n\n@Component({\n  selector: \"sm-access-list\",\n  templateUrl: \"./access-list.component.html\",\n})\nexport class AccessListComponent {\n  @Input()\n  get tokens(): AccessTokenView[] {\n    return this._tokens;\n  }\n  set tokens(secrets: AccessTokenView[]) {\n    this.selection.clear();\n    this._tokens = secrets;\n  }\n  private _tokens: AccessTokenView[];\n\n  @Output() newAccessTokenEvent = new EventEmitter();\n  @Output() revokeAccessTokensEvent = new EventEmitter<AccessTokenView[]>();\n\n  protected selection = new SelectionModel<string>(true, []);\n\n  isAllSelected() {\n    const numSelected = this.selection.selected.length;\n    const numRows = this.tokens.length;\n    return numSelected === numRows;\n  }\n\n  toggleAll() {\n    this.isAllSelected()\n      ? this.selection.clear()\n      : this.selection.select(...this.tokens.map((s) => s.id));\n  }\n\n  protected revokeSelected() {\n    const selected = this.tokens.filter((s) => this.selection.selected.includes(s.id));\n    this.revokeAccessTokensEvent.emit(selected);\n  }\n}\n","import { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport {\n  combineLatestWith,\n  firstValueFrom,\n  Observable,\n  startWith,\n  Subject,\n  switchMap,\n  takeUntil,\n} from \"rxjs\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { DialogService } from \"@bitwarden/components\";\nimport { openUserVerificationPrompt } from \"@bitwarden/web-vault/app/auth/shared/components/user-verification\";\n\nimport { ServiceAccountView } from \"../../models/view/service-account.view\";\nimport { AccessTokenView } from \"../models/view/access-token.view\";\nimport { ServiceAccountService } from \"../service-account.service\";\n\nimport { AccessService } from \"./access.service\";\nimport { AccessTokenCreateDialogComponent } from \"./dialogs/access-token-create-dialog.component\";\n\n@Component({\n  selector: \"sm-access-tokens\",\n  templateUrl: \"./access-tokens.component.html\",\n})\nexport class AccessTokenComponent implements OnInit, OnDestroy {\n  accessTokens$: Observable<AccessTokenView[]>;\n\n  private destroy$ = new Subject<void>();\n  private serviceAccountView: ServiceAccountView;\n\n  constructor(\n    private route: ActivatedRoute,\n    private accessService: AccessService,\n    private dialogService: DialogService,\n    private platformUtilsService: PlatformUtilsService,\n    private i18nService: I18nService,\n    private serviceAccountService: ServiceAccountService,\n  ) {}\n\n  ngOnInit() {\n    this.accessTokens$ = this.accessService.accessToken$.pipe(\n      startWith(null),\n      combineLatestWith(this.route.params),\n      switchMap(async ([_, params]) =>\n        this.accessService.getAccessTokens(params.organizationId, params.serviceAccountId),\n      ),\n    );\n\n    this.serviceAccountService.serviceAccount$\n      .pipe(\n        startWith(null),\n        combineLatestWith(this.route.params),\n        switchMap(([_, params]) =>\n          this.serviceAccountService.getByServiceAccountId(\n            params.serviceAccountId,\n            params.organizationId,\n          ),\n        ),\n        takeUntil(this.destroy$),\n      )\n      .subscribe((serviceAccountView) => {\n        this.serviceAccountView = serviceAccountView;\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  protected async revoke(tokens: AccessTokenView[]) {\n    if (!tokens?.length) {\n      this.platformUtilsService.showToast(\n        \"error\",\n        null,\n        this.i18nService.t(\"noAccessTokenSelected\"),\n      );\n      return;\n    }\n\n    if (!(await this.verifyUser())) {\n      return;\n    }\n\n    await this.accessService.revokeAccessTokens(\n      this.serviceAccountView.id,\n      tokens.map((t) => t.id),\n    );\n\n    this.platformUtilsService.showToast(\"success\", null, this.i18nService.t(\"accessTokenRevoked\"));\n  }\n\n  protected openNewAccessTokenDialog() {\n    AccessTokenCreateDialogComponent.openNewAccessTokenDialog(\n      this.dialogService,\n      this.serviceAccountView,\n    );\n  }\n\n  private verifyUser() {\n    const ref = openUserVerificationPrompt(this.dialogService, {\n      data: {\n        confirmDescription: \"revokeAccessTokenDesc\",\n        confirmButtonText: \"revokeAccessToken\",\n        modalTitle: \"revokeAccessToken\",\n      },\n    });\n\n    if (ref == null) {\n      return;\n    }\n\n    return firstValueFrom(ref.closed);\n  }\n}\n","<sm-access-list\n  [tokens]=\"accessTokens$ | async\"\n  (newAccessTokenEvent)=\"openNewAccessTokenDialog()\"\n  (revokeAccessTokensEvent)=\"revoke($event)\"\n></sm-access-list>\n","import { Injectable } from \"@angular/core\";\n\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport { EventResponse } from \"@bitwarden/common/models/response/event.response\";\nimport { ListResponse } from \"@bitwarden/common/models/response/list.response\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class ServiceAccountEventLogApiService {\n  constructor(private apiService: ApiService) {}\n\n  async getEvents(\n    serviceAccountId: string,\n    start: string,\n    end: string,\n    token: string,\n  ): Promise<ListResponse<EventResponse>> {\n    const r = await this.apiService.send(\n      \"GET\",\n      this.addEventParameters(\"/sm/events/service-accounts/\" + serviceAccountId, start, end, token),\n      null,\n      true,\n      true,\n    );\n    return new ListResponse(r, EventResponse);\n  }\n\n  private addEventParameters(base: string, start: string, end: string, token: string) {\n    if (start != null) {\n      base += \"?start=\" + start;\n    }\n    if (end != null) {\n      base += base.indexOf(\"?\") > -1 ? \"&\" : \"?\";\n      base += \"end=\" + end;\n    }\n    if (token != null) {\n      base += base.indexOf(\"?\") > -1 ? \"&\" : \"?\";\n      base += \"continuationToken=\" + token;\n    }\n    return base;\n  }\n}\n","<div class=\"tw-mb-4\">\n  <h1>{{ \"eventLogs\" | i18n }}</h1>\n  <div class=\"tw-mt-4 tw-flex tw-items-center\">\n    <bit-form-field>\n      <bit-label>{{ \"from\" | i18n }}</bit-label>\n      <input\n        bitInput\n        type=\"datetime-local\"\n        placeholder=\"{{ 'startDate' | i18n }}\"\n        [(ngModel)]=\"start\"\n        (change)=\"dirtyDates = true\"\n      />\n    </bit-form-field>\n    <span class=\"tw-mx-2\">-</span>\n    <bit-form-field>\n      <bit-label>{{ \"to\" | i18n }}</bit-label>\n      <input\n        bitInput\n        type=\"datetime-local\"\n        placeholder=\"{{ 'endDate' | i18n }}\"\n        [(ngModel)]=\"end\"\n        (change)=\"dirtyDates = true\"\n      />\n    </bit-form-field>\n    <form #refreshForm [appApiAction]=\"refreshPromise\">\n      <button\n        class=\"tw-mx-3 tw-mt-1\"\n        type=\"button\"\n        bitButton\n        buttonType=\"primary\"\n        (click)=\"loadEvents(true)\"\n        [disabled]=\"loaded && refreshForm.loading\"\n      >\n        {{ \"update\" | i18n }}\n      </button>\n    </form>\n    <form #exportForm [appApiAction]=\"exportPromise\">\n      <button\n        type=\"button\"\n        class=\"tw-mt-1\"\n        bitButton\n        [ngClass]=\"{ loading: exportForm.loading }\"\n        (click)=\"exportEvents()\"\n        [disabled]=\"(loaded && exportForm.loading) || dirtyDates\"\n      >\n        <span>{{ \"export\" | i18n }}</span>\n        <i\n          class=\"bwi bwi-fw\"\n          aria-hidden=\"true\"\n          [ngClass]=\"{\n            'bwi-sign-in': !exportForm.loading,\n            'bwi-spinner bwi-spin': exportForm.loading\n          }\"\n        ></i>\n      </button>\n    </form>\n  </div>\n</div>\n<ng-container *ngIf=\"!loaded\">\n  <i\n    class=\"bwi bwi-spinner bwi-spin text-muted\"\n    title=\"{{ 'loading' | i18n }}\"\n    aria-hidden=\"true\"\n  ></i>\n  <span class=\"sr-only\">{{ \"loading\" | i18n }}</span>\n</ng-container>\n<ng-container *ngIf=\"loaded\">\n  <p *ngIf=\"!events || !events.length\">{{ \"noEventsInList\" | i18n }}</p>\n  <bit-table *ngIf=\"events && events.length\">\n    <ng-container header>\n      <tr>\n        <th bitCell>{{ \"timestamp\" | i18n }}</th>\n        <th bitCell>{{ \"client\" | i18n }}</th>\n        <th bitCell>{{ \"event\" | i18n }}</th>\n      </tr>\n    </ng-container>\n    <ng-template body>\n      <tr bitRow *ngFor=\"let e of events\" alignContent=\"top\">\n        <td bitCell class=\"tw-whitespace-nowrap\">{{ e.date | date: \"medium\" }}</td>\n        <td bitCell>\n          <span title=\"{{ e.appName }}, {{ e.ip }}\">{{ e.appName }}</span>\n        </td>\n        <td bitCell [innerHTML]=\"e.message\"></td>\n      </tr>\n    </ng-template>\n  </bit-table>\n  <button\n    #moreBtn\n    [appApiAction]=\"morePromise\"\n    type=\"button\"\n    bitButton\n    buttonType=\"primary\"\n    (click)=\"loadEvents(false)\"\n    [disabled]=\"loaded && $any(moreBtn).loading\"\n    *ngIf=\"continuationToken\"\n  >\n    <i\n      class=\"bwi bwi-spinner bwi-spin\"\n      title=\"{{ 'loading' | i18n }}\"\n      aria-hidden=\"true\"\n      *ngIf=\"moreBtn.loading\"\n    ></i>\n    <span>{{ \"loadMore\" | i18n }}</span>\n  </button>\n</ng-container>\n","import { Component, OnDestroy } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { Subject, takeUntil } from \"rxjs\";\n\nimport { FileDownloadService } from \"@bitwarden/common/platform/abstractions/file-download/file-download.service\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { LogService } from \"@bitwarden/common/platform/abstractions/log.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { BaseEventsComponent } from \"@bitwarden/web-vault/app/admin-console/common/base.events.component\";\nimport { EventService } from \"@bitwarden/web-vault/app/core\";\nimport { EventExportService } from \"@bitwarden/web-vault/app/tools/event-export\";\n\nimport { ServiceAccountEventLogApiService } from \"./service-account-event-log-api.service\";\n\n@Component({\n  selector: \"sm-service-accounts-events\",\n  templateUrl: \"./service-accounts-events.component.html\",\n})\nexport class ServiceAccountEventsComponent extends BaseEventsComponent implements OnDestroy {\n  exportFileName = \"service-account-events\";\n  private destroy$ = new Subject<void>();\n  private serviceAccountId: string;\n\n  constructor(\n    eventService: EventService,\n    private serviceAccountEventsApiService: ServiceAccountEventLogApiService,\n    private route: ActivatedRoute,\n    i18nService: I18nService,\n    exportService: EventExportService,\n    platformUtilsService: PlatformUtilsService,\n    logService: LogService,\n    fileDownloadService: FileDownloadService,\n  ) {\n    super(\n      eventService,\n      i18nService,\n      exportService,\n      platformUtilsService,\n      logService,\n      fileDownloadService,\n    );\n  }\n\n  async ngOnInit() {\n    // eslint-disable-next-line rxjs/no-async-subscribe\n    this.route.params.pipe(takeUntil(this.destroy$)).subscribe(async (params) => {\n      this.serviceAccountId = params.serviceAccountId;\n      await this.load();\n    });\n  }\n\n  async load() {\n    await this.loadEvents(true);\n    this.loaded = true;\n  }\n\n  protected requestEvents(startDate: string, endDate: string, continuationToken: string) {\n    return this.serviceAccountEventsApiService.getEvents(\n      this.serviceAccountId,\n      startDate,\n      endDate,\n      continuationToken,\n    );\n  }\n\n  protected getUserName() {\n    return {\n      name: this.i18nService.t(\"serviceAccount\") + \" \" + this.serviceAccountId,\n      email: \"\",\n    };\n  }\n\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","<form [formGroup]=\"formGroup\" [bitSubmit]=\"submit\">\n  <div class=\"tw-w-2/5\">\n    <p class=\"tw-mt-8\" *ngIf=\"!loading\">\n      {{ \"serviceAccountPeopleDescription\" | i18n }}\n    </p>\n    <sm-access-policy-selector\n      [loading]=\"loading\"\n      formControlName=\"accessPolicies\"\n      [addButtonMode]=\"true\"\n      [items]=\"potentialGrantees\"\n      [label]=\"'people' | i18n\"\n      [hint]=\"'projectPeopleSelectHint' | i18n\"\n      [columnTitle]=\"'name' | i18n\"\n      [emptyMessage]=\"'projectEmptyPeopleAccessPolicies' | i18n\"\n      [staticPermission]=\"staticPermission\"\n    >\n    </sm-access-policy-selector>\n    <button bitButton buttonType=\"primary\" bitFormButton type=\"submit\" class=\"tw-mt-7\">\n      {{ \"save\" | i18n }}\n    </button>\n  </div>\n</form>\n","import { ChangeDetectorRef, Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { FormControl, FormGroup } from \"@angular/forms\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport { catchError, combineLatest, EMPTY, Subject, switchMap, takeUntil } from \"rxjs\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { ValidationService } from \"@bitwarden/common/platform/abstractions/validation.service\";\nimport { DialogService } from \"@bitwarden/components\";\n\nimport { AccessPolicySelectorService } from \"../../shared/access-policies/access-policy-selector/access-policy-selector.service\";\nimport {\n  ApItemValueType,\n  convertToServiceAccountPeopleAccessPoliciesView,\n} from \"../../shared/access-policies/access-policy-selector/models/ap-item-value.type\";\nimport {\n  ApItemViewType,\n  convertPotentialGranteesToApItemViewType,\n  convertToAccessPolicyItemViews,\n} from \"../../shared/access-policies/access-policy-selector/models/ap-item-view.type\";\nimport { ApItemEnum } from \"../../shared/access-policies/access-policy-selector/models/enums/ap-item.enum\";\nimport { ApPermissionEnum } from \"../../shared/access-policies/access-policy-selector/models/enums/ap-permission.enum\";\nimport { AccessPolicyService } from \"../../shared/access-policies/access-policy.service\";\n\n@Component({\n  selector: \"sm-service-account-people\",\n  templateUrl: \"./service-account-people.component.html\",\n})\nexport class ServiceAccountPeopleComponent implements OnInit, OnDestroy {\n  private currentAccessPolicies: ApItemViewType[];\n  private destroy$ = new Subject<void>();\n  private organizationId: string;\n  private serviceAccountId: string;\n\n  private currentAccessPolicies$ = combineLatest([this.route.params]).pipe(\n    switchMap(([params]) =>\n      this.accessPolicyService\n        .getServiceAccountPeopleAccessPolicies(params.serviceAccountId)\n        .then((policies) => {\n          return convertToAccessPolicyItemViews(policies);\n        }),\n    ),\n    catchError(() => {\n      this.router.navigate([\"/sm\", this.organizationId, \"service-accounts\"]);\n      return EMPTY;\n    }),\n  );\n\n  private potentialGrantees$ = combineLatest([this.route.params]).pipe(\n    switchMap(([params]) =>\n      this.accessPolicyService\n        .getPeoplePotentialGrantees(params.organizationId)\n        .then((grantees) => {\n          return convertPotentialGranteesToApItemViewType(grantees);\n        }),\n    ),\n  );\n\n  protected formGroup = new FormGroup({\n    accessPolicies: new FormControl([] as ApItemValueType[]),\n  });\n\n  protected loading = true;\n  protected potentialGrantees: ApItemViewType[];\n  protected staticPermission = ApPermissionEnum.CanReadWrite;\n\n  constructor(\n    private route: ActivatedRoute,\n    private dialogService: DialogService,\n    private changeDetectorRef: ChangeDetectorRef,\n    private validationService: ValidationService,\n    private accessPolicyService: AccessPolicyService,\n    private router: Router,\n    private platformUtilsService: PlatformUtilsService,\n    private i18nService: I18nService,\n    private accessPolicySelectorService: AccessPolicySelectorService,\n  ) {}\n\n  ngOnInit(): void {\n    this.route.params.pipe(takeUntil(this.destroy$)).subscribe((params) => {\n      this.organizationId = params.organizationId;\n      this.serviceAccountId = params.serviceAccountId;\n    });\n\n    combineLatest([this.potentialGrantees$, this.currentAccessPolicies$])\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(([potentialGrantees, currentAccessPolicies]) => {\n        this.potentialGrantees = potentialGrantees;\n        this.setSelected(currentAccessPolicies);\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  submit = async () => {\n    if (this.isFormInvalid()) {\n      return;\n    }\n\n    const showAccessRemovalWarning =\n      await this.accessPolicySelectorService.showAccessRemovalWarning(\n        this.organizationId,\n        this.formGroup.value.accessPolicies,\n      );\n\n    if (\n      await this.handleAccessRemovalWarning(showAccessRemovalWarning, this.currentAccessPolicies)\n    ) {\n      return;\n    }\n\n    try {\n      const peoplePoliciesViews = await this.updateServiceAccountPeopleAccessPolicies(\n        this.serviceAccountId,\n        this.formGroup.value.accessPolicies,\n      );\n\n      await this.handleAccessTokenAvailableWarning(\n        showAccessRemovalWarning,\n        this.currentAccessPolicies,\n        this.formGroup.value.accessPolicies,\n      );\n\n      this.currentAccessPolicies = convertToAccessPolicyItemViews(peoplePoliciesViews);\n\n      this.platformUtilsService.showToast(\n        \"success\",\n        null,\n        this.i18nService.t(\"serviceAccountAccessUpdated\"),\n      );\n    } catch (e) {\n      this.validationService.showError(e);\n      this.setSelected(this.currentAccessPolicies);\n    }\n  };\n\n  private setSelected(policiesToSelect: ApItemViewType[]) {\n    this.loading = true;\n    this.currentAccessPolicies = policiesToSelect;\n    if (policiesToSelect != undefined) {\n      // Must detect changes so that AccessSelector @Inputs() are aware of the latest\n      // potentialGrantees, otherwise no selected values will be patched below\n      this.changeDetectorRef.detectChanges();\n      this.formGroup.patchValue({\n        accessPolicies: policiesToSelect.map((m) => ({\n          type: m.type,\n          id: m.id,\n          permission: m.permission,\n          currentUser: m.type == ApItemEnum.User ? m.currentUser : null,\n          currentUserInGroup: m.type == ApItemEnum.Group ? m.currentUserInGroup : null,\n        })),\n      });\n    }\n    this.loading = false;\n  }\n\n  private isFormInvalid(): boolean {\n    this.formGroup.markAllAsTouched();\n    return this.formGroup.invalid;\n  }\n\n  private async handleAccessRemovalWarning(\n    showAccessRemovalWarning: boolean,\n    currentAccessPolicies: ApItemViewType[],\n  ): Promise<boolean> {\n    if (showAccessRemovalWarning) {\n      const confirmed = await this.showWarning();\n      if (!confirmed) {\n        this.setSelected(currentAccessPolicies);\n        return true;\n      }\n    }\n    return false;\n  }\n\n  private async updateServiceAccountPeopleAccessPolicies(\n    serviceAccountId: string,\n    selectedPolicies: ApItemValueType[],\n  ) {\n    const serviceAccountPeopleView = convertToServiceAccountPeopleAccessPoliciesView(\n      serviceAccountId,\n      selectedPolicies,\n    );\n    return await this.accessPolicyService.putServiceAccountPeopleAccessPolicies(\n      serviceAccountId,\n      serviceAccountPeopleView,\n    );\n  }\n\n  private async handleAccessTokenAvailableWarning(\n    showAccessRemovalWarning: boolean,\n    currentAccessPolicies: ApItemViewType[],\n    selectedPolicies: ApItemValueType[],\n  ): Promise<void> {\n    if (showAccessRemovalWarning) {\n      this.router.navigate([\"sm\", this.organizationId, \"service-accounts\"]);\n    } else if (\n      this.accessPolicySelectorService.isAccessRemoval(currentAccessPolicies, selectedPolicies)\n    ) {\n      await this.showAccessTokenStillAvailableWarning();\n    }\n  }\n\n  private async showWarning(): Promise<boolean> {\n    const confirmed = await this.dialogService.openSimpleDialog({\n      title: { key: \"smAccessRemovalWarningSaTitle\" },\n      content: { key: \"smAccessRemovalWarningSaMessage\" },\n      acceptButtonText: { key: \"removeAccess\" },\n      cancelButtonText: { key: \"cancel\" },\n      type: \"warning\",\n    });\n    return confirmed;\n  }\n\n  private async showAccessTokenStillAvailableWarning(): Promise<void> {\n    await this.dialogService.openSimpleDialog({\n      title: { key: \"saPeopleWarningTitle\" },\n      content: { key: \"saPeopleWarningMessage\" },\n      type: \"warning\",\n      acceptButtonText: { key: \"close\" },\n      cancelButtonText: null,\n    });\n  }\n}\n","import { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { combineLatestWith, map, Observable, startWith, Subject, switchMap, takeUntil } from \"rxjs\";\n\nimport { ValidationService } from \"@bitwarden/common/platform/abstractions/validation.service\";\nimport { SelectItemView } from \"@bitwarden/components/src/multi-select/models/select-item-view\";\n\nimport { ServiceAccountProjectAccessPolicyView } from \"../../models/view/access-policy.view\";\nimport { AccessPolicyService } from \"../../shared/access-policies/access-policy.service\";\nimport {\n  AccessSelectorComponent,\n  AccessSelectorRowView,\n} from \"../../shared/access-policies/access-selector.component\";\n\n@Component({\n  selector: \"sm-service-account-projects\",\n  templateUrl: \"./service-account-projects.component.html\",\n})\nexport class ServiceAccountProjectsComponent implements OnInit, OnDestroy {\n  private destroy$ = new Subject<void>();\n  private serviceAccountId: string;\n  private organizationId: string;\n\n  protected rows$: Observable<AccessSelectorRowView[]> =\n    this.accessPolicyService.serviceAccountGrantedPolicyChanges$.pipe(\n      startWith(null),\n      combineLatestWith(this.route.params),\n      switchMap(([_, params]) =>\n        this.accessPolicyService.getGrantedPolicies(params.serviceAccountId, params.organizationId),\n      ),\n      map((policies) => {\n        return policies.map((policy) => {\n          return {\n            type: \"project\",\n            name: policy.grantedProjectName,\n            id: policy.grantedProjectId,\n            accessPolicyId: policy.id,\n            read: policy.read,\n            write: policy.write,\n            icon: AccessSelectorComponent.projectIcon,\n            static: false,\n          } as AccessSelectorRowView;\n        });\n      }),\n    );\n\n  protected handleCreateAccessPolicies(selected: SelectItemView[]) {\n    const serviceAccountProjectAccessPolicyView = selected\n      .filter((selection) => AccessSelectorComponent.getAccessItemType(selection) === \"project\")\n      .map((filtered) => {\n        const view = new ServiceAccountProjectAccessPolicyView();\n        view.serviceAccountId = this.serviceAccountId;\n        view.grantedProjectId = filtered.id;\n        view.read = true;\n        view.write = false;\n        return view;\n      });\n\n    return this.accessPolicyService.createGrantedPolicies(\n      this.organizationId,\n      this.serviceAccountId,\n      serviceAccountProjectAccessPolicyView,\n    );\n  }\n\n  protected async handleUpdateAccessPolicy(policy: AccessSelectorRowView) {\n    try {\n      return await this.accessPolicyService.updateAccessPolicy(\n        AccessSelectorComponent.getBaseAccessPolicyView(policy),\n      );\n    } catch (e) {\n      this.validationService.showError(e);\n    }\n  }\n\n  protected async handleDeleteAccessPolicy(policy: AccessSelectorRowView) {\n    try {\n      await this.accessPolicyService.deleteAccessPolicy(policy.accessPolicyId);\n    } catch (e) {\n      this.validationService.showError(e);\n    }\n  }\n\n  constructor(\n    private route: ActivatedRoute,\n    private validationService: ValidationService,\n    private accessPolicyService: AccessPolicyService,\n  ) {}\n\n  ngOnInit(): void {\n    this.route.params.pipe(takeUntil(this.destroy$)).subscribe((params) => {\n      this.organizationId = params.organizationId;\n      this.serviceAccountId = params.serviceAccountId;\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n}\n","<div class=\"tw-mt-4 tw-w-2/5\">\n  <p class=\"tw-mt-6\">\n    {{ \"serviceAccountProjectsDescription\" | i18n }}\n  </p>\n  <sm-access-selector\n    [rows]=\"rows$ | async\"\n    granteeType=\"projects\"\n    [label]=\"'projects' | i18n\"\n    [hint]=\"'newSaSelectAccess' | i18n\"\n    [columnTitle]=\"'projects' | i18n\"\n    [emptyMessage]=\"'serviceAccountEmptyProjectAccesspolicies' | i18n\"\n    (onCreateAccessPolicies)=\"handleCreateAccessPolicies($event)\"\n    (onDeleteAccessPolicy)=\"handleDeleteAccessPolicy($event)\"\n    (onUpdateAccessPolicy)=\"handleUpdateAccessPolicy($event)\"\n  >\n  </sm-access-selector>\n</div>\n","<app-header\n  *ngIf=\"serviceAccount$ | async as serviceAccount\"\n  [title]=\"serviceAccount.name\"\n  icon=\"bwi-wrench\"\n>\n  <bit-breadcrumbs slot=\"breadcrumbs\">\n    <bit-breadcrumb [route]=\"['..']\" icon=\"bwi-angle-left\">{{\n      \"serviceAccounts\" | i18n\n    }}</bit-breadcrumb>\n  </bit-breadcrumbs>\n  <sm-new-menu></sm-new-menu>\n  <bit-tab-nav-bar label=\"Main\" slot=\"tabs\">\n    <bit-tab-link [route]=\"['projects']\">{{ \"projects\" | i18n }}</bit-tab-link>\n    <bit-tab-link [route]=\"['people']\">{{ \"people\" | i18n }}</bit-tab-link>\n    <bit-tab-link [route]=\"['access']\">{{ \"accessTokens\" | i18n }}</bit-tab-link>\n    <bit-tab-link [route]=\"['events']\">{{ \"eventLogs\" | i18n }}</bit-tab-link>\n  </bit-tab-nav-bar>\n  <button\n    type=\"button\"\n    slot=\"secondary\"\n    bitButton\n    buttonType=\"secondary\"\n    (click)=\"openNewAccessTokenDialog()\"\n  >\n    <i class=\"bwi bwi-plus\" aria-hidden=\"true\"></i>\n    {{ \"newAccessToken\" | i18n }}\n  </button>\n</app-header>\n<router-outlet></router-outlet>\n","import { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { ActivatedRoute, Router } from \"@angular/router\";\nimport {\n  EMPTY,\n  Subject,\n  catchError,\n  combineLatest,\n  filter,\n  startWith,\n  switchMap,\n  takeUntil,\n} from \"rxjs\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { DialogService } from \"@bitwarden/components\";\n\nimport { ServiceAccountView } from \"../models/view/service-account.view\";\n\nimport { AccessTokenCreateDialogComponent } from \"./access/dialogs/access-token-create-dialog.component\";\nimport { ServiceAccountService } from \"./service-account.service\";\n\n@Component({\n  selector: \"sm-service-account\",\n  templateUrl: \"./service-account.component.html\",\n})\nexport class ServiceAccountComponent implements OnInit, OnDestroy {\n  private destroy$ = new Subject<void>();\n  private organizationId: string;\n  private serviceAccountId: string;\n\n  private onChange$ = this.serviceAccountService.serviceAccount$.pipe(\n    filter((sa) => sa?.id === this.serviceAccountId),\n    startWith(null),\n  );\n\n  private serviceAccountView: ServiceAccountView;\n  protected serviceAccount$ = combineLatest([this.route.params, this.onChange$]).pipe(\n    switchMap(([params, _]) =>\n      this.serviceAccountService.getByServiceAccountId(\n        params.serviceAccountId,\n        params.organizationId,\n      ),\n    ),\n    catchError(() => {\n      this.router.navigate([\"/sm\", this.organizationId, \"service-accounts\"]).then(() => {\n        this.platformUtilsService.showToast(\n          \"error\",\n          null,\n          this.i18nService.t(\"notFound\", this.i18nService.t(\"serviceAccount\")),\n        );\n      });\n      return EMPTY;\n    }),\n  );\n\n  constructor(\n    private route: ActivatedRoute,\n    private serviceAccountService: ServiceAccountService,\n    private dialogService: DialogService,\n    private router: Router,\n    private platformUtilsService: PlatformUtilsService,\n    private i18nService: I18nService,\n  ) {}\n\n  ngOnInit(): void {\n    this.serviceAccount$.pipe(takeUntil(this.destroy$)).subscribe((serviceAccountView) => {\n      this.serviceAccountView = serviceAccountView;\n    });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  protected openNewAccessTokenDialog() {\n    AccessTokenCreateDialogComponent.openNewAccessTokenDialog(\n      this.dialogService,\n      this.serviceAccountView,\n    );\n  }\n}\n","<form [formGroup]=\"formGroup\" [bitSubmit]=\"submit\">\n  <bit-dialog dialogSize=\"default\">\n    <ng-container bitDialogTitle>\n      <span>{{ title }}</span>\n      <span class=\"tw-text-sm tw-normal-case tw-text-muted\">\n        <ng-container *ngIf=\"data.serviceAccounts.length == 1\">\n          {{ data.serviceAccounts[0].name }}\n        </ng-container>\n        <ng-container *ngIf=\"data.serviceAccounts.length > 1\">\n          {{ data.serviceAccounts.length }}\n          {{ \"serviceAccounts\" | i18n }}\n        </ng-container>\n      </span>\n    </ng-container>\n\n    <div bitDialogContent>\n      <bit-callout type=\"warning\" [title]=\"'warning' | i18n\">\n        {{ dialogContent }}\n      </bit-callout>\n      <bit-form-field>\n        <bit-label>{{ dialogConfirmationLabel }}</bit-label>\n        <input bitInput formControlName=\"confirmDelete\" />\n      </bit-form-field>\n    </div>\n\n    <ng-container bitDialogFooter>\n      <button type=\"submit\" bitButton buttonType=\"danger\" bitFormButton>\n        {{ title }}\n      </button>\n      <button type=\"button\" bitButton buttonType=\"secondary\" bitFormButton bitDialogClose>\n        {{ \"cancel\" | i18n }}\n      </button>\n    </ng-container>\n  </bit-dialog>\n</form>\n","import { DialogRef, DIALOG_DATA } from \"@angular/cdk/dialog\";\nimport { Component, Inject } from \"@angular/core\";\nimport {\n  FormControl,\n  FormGroup,\n  ValidationErrors,\n  ValidatorFn,\n  AbstractControl,\n} from \"@angular/forms\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { DialogService } from \"@bitwarden/components\";\n\nimport { ServiceAccountView } from \"../../models/view/service-account.view\";\nimport {\n  BulkOperationStatus,\n  BulkStatusDetails,\n  BulkStatusDialogComponent,\n} from \"../../shared/dialogs/bulk-status-dialog.component\";\nimport { ServiceAccountService } from \"../service-account.service\";\n\nexport interface ServiceAccountDeleteOperation {\n  serviceAccounts: ServiceAccountView[];\n}\n\n@Component({\n  templateUrl: \"./service-account-delete-dialog.component.html\",\n})\nexport class ServiceAccountDeleteDialogComponent {\n  formGroup = new FormGroup({\n    confirmDelete: new FormControl(\"\", [this.matchConfirmationMessageValidator()]),\n  });\n\n  constructor(\n    public dialogRef: DialogRef,\n    @Inject(DIALOG_DATA) public data: ServiceAccountDeleteOperation,\n    private serviceAccountService: ServiceAccountService,\n    private i18nService: I18nService,\n    private platformUtilsService: PlatformUtilsService,\n    private dialogService: DialogService,\n  ) {}\n\n  get title() {\n    return this.data.serviceAccounts.length === 1\n      ? this.i18nService.t(\"deleteServiceAccount\")\n      : this.i18nService.t(\"deleteServiceAccounts\");\n  }\n\n  get dialogContent() {\n    return this.data.serviceAccounts.length === 1\n      ? this.i18nService.t(\"deleteServiceAccountDialogMessage\", this.data.serviceAccounts[0].name)\n      : this.i18nService.t(\"deleteServiceAccountsDialogMessage\");\n  }\n\n  get dialogConfirmationLabel() {\n    return this.i18nService.t(\"deleteProjectInputLabel\", this.dialogConfirmationMessage);\n  }\n\n  submit = async () => {\n    this.formGroup.markAllAsTouched();\n\n    if (this.formGroup.invalid) {\n      return;\n    }\n\n    await this.delete();\n    this.dialogRef.close();\n  };\n\n  async delete() {\n    const bulkResponses = await this.serviceAccountService.delete(this.data.serviceAccounts);\n\n    const errors = bulkResponses.filter((response) => response.errorMessage);\n    if (errors.length > 0) {\n      this.openBulkStatusDialog(errors);\n      return;\n    }\n\n    const message =\n      this.data.serviceAccounts.length === 1\n        ? \"deleteServiceAccountToast\"\n        : \"deleteServiceAccountsToast\";\n    this.platformUtilsService.showToast(\"success\", null, this.i18nService.t(message));\n  }\n\n  openBulkStatusDialog(bulkStatusResults: BulkOperationStatus[]) {\n    this.dialogService.open<unknown, BulkStatusDetails>(BulkStatusDialogComponent, {\n      data: {\n        title: \"deleteServiceAccounts\",\n        subTitle: \"serviceAccounts\",\n        columnTitle: \"serviceAccountName\",\n        message: \"bulkDeleteProjectsErrorMessage\",\n        details: bulkStatusResults,\n      },\n    });\n  }\n\n  private get dialogConfirmationMessage() {\n    return this.data.serviceAccounts?.length === 1\n      ? this.i18nService.t(\"deleteProjectConfirmMessage\", this.data.serviceAccounts[0].name)\n      : this.i18nService.t(\n          \"deleteServiceAccountsConfirmMessage\",\n          this.data.serviceAccounts?.length.toString(),\n        );\n  }\n\n  private matchConfirmationMessageValidator(): ValidatorFn {\n    return (control: AbstractControl): ValidationErrors | null => {\n      if (this.dialogConfirmationMessage.toLowerCase() == control.value.toLowerCase()) {\n        return null;\n      } else {\n        return {\n          confirmationDoesntMatchError: {\n            message: this.i18nService.t(\"smConfirmationRequired\"),\n          },\n        };\n      }\n    };\n  }\n}\n","<div *ngIf=\"!serviceAccounts\" class=\"tw-items-center tw-justify-center tw-pt-64 tw-text-center\">\n  <i class=\"bwi bwi-spinner bwi-spin bwi-3x\"></i>\n</div>\n\n<bit-no-items *ngIf=\"serviceAccounts?.length == 0\">\n  <ng-container slot=\"title\">{{ \"serviceAccountsNoItemsTitle\" | i18n }}</ng-container>\n  <ng-container slot=\"description\">{{ \"serviceAccountsNoItemsMessage\" | i18n }}</ng-container>\n  <button\n    slot=\"button\"\n    type=\"button\"\n    bitButton\n    buttonType=\"secondary\"\n    (click)=\"newServiceAccountEvent.emit()\"\n  >\n    <i class=\"bwi bwi-plus\" aria-hidden=\"true\"></i>\n    {{ \"newServiceAccount\" | i18n }}\n  </button>\n</bit-no-items>\n\n<bit-table *ngIf=\"serviceAccounts?.length >= 1\" [dataSource]=\"dataSource\">\n  <ng-container header>\n    <tr>\n      <th bitCell class=\"tw-w-0\">\n        <label class=\"!tw-mb-0 tw-flex tw-w-fit tw-gap-2 !tw-font-bold !tw-text-muted\">\n          <input\n            type=\"checkbox\"\n            (change)=\"$event ? toggleAll() : null\"\n            [checked]=\"selection.hasValue() && isAllSelected()\"\n            [indeterminate]=\"selection.hasValue() && !isAllSelected()\"\n          />\n          {{ \"all\" | i18n }}\n        </label>\n      </th>\n      <th bitCell colspan=\"2\" bitSortable=\"name\" default>{{ \"name\" | i18n }}</th>\n      <th bitCell>{{ \"secrets\" | i18n }}</th>\n      <th bitCell bitSortable=\"revisionDate\">{{ \"lastEdited\" | i18n }}</th>\n      <th bitCell class=\"tw-w-0\">\n        <button\n          type=\"button\"\n          bitIconButton=\"bwi-ellipsis-v\"\n          buttonType=\"main\"\n          [title]=\"'options' | i18n\"\n          [attr.aria-label]=\"'options' | i18n\"\n          [bitMenuTriggerFor]=\"tableMenu\"\n        ></button>\n      </th>\n    </tr>\n  </ng-container>\n  <ng-template body let-rows$>\n    <tr bitRow *ngFor=\"let serviceAccount of rows$ | async\">\n      <td bitCell>\n        <input\n          type=\"checkbox\"\n          (change)=\"$event ? selection.toggle(serviceAccount.id) : null\"\n          [checked]=\"selection.isSelected(serviceAccount.id)\"\n        />\n      </td>\n      <td bitCell class=\"tw-w-0 tw-pr-0\">\n        <i class=\"bwi bwi-wrench tw-text-muted\" aria-hidden=\"true\"></i>\n      </td>\n      <td bitCell class=\"tw-break-all\">\n        <a bitLink [routerLink]=\"serviceAccount.id\">\n          {{ serviceAccount.name }}\n        </a>\n      </td>\n      <td bitCell>\n        <span> {{ serviceAccount.accessToSecrets }} </span>\n      </td>\n      <td bitCell>{{ serviceAccount.revisionDate | date: \"medium\" }}</td>\n      <td bitCell>\n        <button\n          type=\"button\"\n          bitIconButton=\"bwi-ellipsis-v\"\n          buttonType=\"main\"\n          [title]=\"'options' | i18n\"\n          [attr.aria-label]=\"'options' | i18n\"\n          [bitMenuTriggerFor]=\"serviceAccountMenu\"\n        ></button>\n      </td>\n      <bit-menu #serviceAccountMenu>\n        <a type=\"button\" bitMenuItem [routerLink]=\"serviceAccount.id\">\n          <i class=\"bwi bwi-fw bwi-eye\" aria-hidden=\"true\"></i>\n          {{ \"viewServiceAccount\" | i18n }}\n        </a>\n        <button type=\"button\" bitMenuItem (click)=\"editServiceAccountEvent.emit(serviceAccount.id)\">\n          <i class=\"bwi bwi-fw bwi-pencil\" aria-hidden=\"true\"></i>\n          {{ \"editServiceAccount\" | i18n }}\n        </button>\n        <button type=\"button\" bitMenuItem (click)=\"delete(serviceAccount)\">\n          <i class=\"bwi bwi-fw bwi-trash tw-text-danger\" aria-hidden=\"true\"></i>\n          <span class=\"tw-text-danger\">\n            {{ \"deleteServiceAccount\" | i18n }}\n          </span>\n        </button>\n      </bit-menu>\n    </tr>\n  </ng-template>\n</bit-table>\n\n<bit-menu #tableMenu>\n  <button type=\"button\" bitMenuItem (click)=\"bulkDeleteServiceAccounts()\">\n    <i class=\"bwi bwi-fw bwi-trash tw-text-danger\" aria-hidden=\"true\"></i>\n    <span class=\"tw-text-danger\">\n      {{ \"deleteServiceAccounts\" | i18n }}\n    </span>\n  </button>\n</bit-menu>\n","import { SelectionModel } from \"@angular/cdk/collections\";\nimport { Component, EventEmitter, Input, OnDestroy, Output } from \"@angular/core\";\nimport { Subject, takeUntil } from \"rxjs\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { TableDataSource } from \"@bitwarden/components\";\n\nimport {\n  ServiceAccountSecretsDetailsView,\n  ServiceAccountView,\n} from \"../models/view/service-account.view\";\n\n@Component({\n  selector: \"sm-service-accounts-list\",\n  templateUrl: \"./service-accounts-list.component.html\",\n})\nexport class ServiceAccountsListComponent implements OnDestroy {\n  protected dataSource = new TableDataSource<ServiceAccountSecretsDetailsView>();\n\n  @Input()\n  get serviceAccounts(): ServiceAccountSecretsDetailsView[] {\n    return this._serviceAccounts;\n  }\n  set serviceAccounts(serviceAccounts: ServiceAccountSecretsDetailsView[]) {\n    this.selection.clear();\n    this._serviceAccounts = serviceAccounts;\n    this.dataSource.data = serviceAccounts;\n  }\n  private _serviceAccounts: ServiceAccountSecretsDetailsView[];\n\n  @Input()\n  set search(search: string) {\n    this.selection.clear();\n    this.dataSource.filter = search;\n  }\n\n  @Output() newServiceAccountEvent = new EventEmitter();\n  @Output() deleteServiceAccountsEvent = new EventEmitter<ServiceAccountView[]>();\n  @Output() onServiceAccountCheckedEvent = new EventEmitter<string[]>();\n  @Output() editServiceAccountEvent = new EventEmitter<string>();\n\n  private destroy$: Subject<void> = new Subject<void>();\n\n  selection = new SelectionModel<string>(true, []);\n\n  constructor(\n    private i18nService: I18nService,\n    private platformUtilsService: PlatformUtilsService,\n  ) {\n    this.selection.changed\n      .pipe(takeUntil(this.destroy$))\n      .subscribe((_) => this.onServiceAccountCheckedEvent.emit(this.selection.selected));\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  isAllSelected() {\n    if (this.selection.selected?.length > 0) {\n      const numSelected = this.selection.selected.length;\n      const numRows = this.dataSource.filteredData.length;\n      return numSelected === numRows;\n    }\n    return false;\n  }\n\n  toggleAll() {\n    if (this.isAllSelected()) {\n      this.selection.clear();\n    } else {\n      this.selection.select(...this.dataSource.filteredData.map((s) => s.id));\n    }\n  }\n\n  delete(serviceAccount: ServiceAccountSecretsDetailsView) {\n    this.deleteServiceAccountsEvent.emit([serviceAccount as ServiceAccountView]);\n  }\n\n  bulkDeleteServiceAccounts() {\n    if (this.selection.selected.length >= 1) {\n      this.deleteServiceAccountsEvent.emit(\n        this.serviceAccounts.filter((sa) => this.selection.isSelected(sa.id)),\n      );\n    } else {\n      this.platformUtilsService.showToast(\n        \"error\",\n        this.i18nService.t(\"errorOccurred\"),\n        this.i18nService.t(\"nothingSelected\"),\n      );\n    }\n  }\n}\n","import { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { combineLatest, Observable, startWith, switchMap } from \"rxjs\";\n\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { DialogService } from \"@bitwarden/components\";\n\nimport {\n  ServiceAccountSecretsDetailsView,\n  ServiceAccountView,\n} from \"../models/view/service-account.view\";\n\nimport {\n  ServiceAccountDeleteDialogComponent,\n  ServiceAccountDeleteOperation,\n} from \"./dialog/service-account-delete-dialog.component\";\nimport {\n  OperationType,\n  ServiceAccountDialogComponent,\n  ServiceAccountOperation,\n} from \"./dialog/service-account-dialog.component\";\nimport { ServiceAccountService } from \"./service-account.service\";\n\n@Component({\n  selector: \"sm-service-accounts\",\n  templateUrl: \"./service-accounts.component.html\",\n})\nexport class ServiceAccountsComponent implements OnInit {\n  protected serviceAccounts$: Observable<ServiceAccountSecretsDetailsView[]>;\n  protected search: string;\n\n  private organizationId: string;\n  private organizationEnabled: boolean;\n\n  constructor(\n    private route: ActivatedRoute,\n    private dialogService: DialogService,\n    private serviceAccountService: ServiceAccountService,\n    private organizationService: OrganizationService,\n  ) {}\n\n  ngOnInit() {\n    this.serviceAccounts$ = combineLatest([\n      this.route.params,\n      this.serviceAccountService.serviceAccount$.pipe(startWith(null)),\n    ]).pipe(\n      switchMap(async ([params]) => {\n        this.organizationId = params.organizationId;\n        this.organizationEnabled = this.organizationService.get(params.organizationId)?.enabled;\n\n        return await this.getServiceAccounts();\n      }),\n    );\n  }\n\n  openNewServiceAccountDialog() {\n    this.dialogService.open<unknown, ServiceAccountOperation>(ServiceAccountDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        operation: OperationType.Add,\n        organizationEnabled: this.organizationEnabled,\n      },\n    });\n  }\n\n  openEditServiceAccountDialog(serviceAccountId: string) {\n    this.dialogService.open<unknown, ServiceAccountOperation>(ServiceAccountDialogComponent, {\n      data: {\n        organizationId: this.organizationId,\n        serviceAccountId: serviceAccountId,\n        operation: OperationType.Edit,\n        organizationEnabled: this.organizationEnabled,\n      },\n    });\n  }\n\n  openDeleteDialog(event: ServiceAccountView[]) {\n    this.dialogService.open<unknown, ServiceAccountDeleteOperation>(\n      ServiceAccountDeleteDialogComponent,\n      {\n        data: {\n          serviceAccounts: event,\n        },\n      },\n    );\n  }\n\n  private async getServiceAccounts(): Promise<ServiceAccountSecretsDetailsView[]> {\n    return await this.serviceAccountService.getServiceAccounts(this.organizationId, true);\n  }\n}\n","<app-header>\n  <bit-search\n    [placeholder]=\"'searchServiceAccounts' | i18n\"\n    [(ngModel)]=\"search\"\n    class=\"tw-w-80\"\n  ></bit-search>\n  <sm-new-menu></sm-new-menu>\n</app-header>\n<sm-service-accounts-list\n  [serviceAccounts]=\"serviceAccounts$ | async\"\n  (newServiceAccountEvent)=\"openNewServiceAccountDialog()\"\n  (editServiceAccountEvent)=\"openEditServiceAccountDialog($event)\"\n  (deleteServiceAccountsEvent)=\"openDeleteDialog($event)\"\n  [search]=\"search\"\n></sm-service-accounts-list>\n","import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\n\nimport { AccessTokenComponent } from \"./access/access-tokens.component\";\nimport { ServiceAccountEventsComponent } from \"./event-logs/service-accounts-events.component\";\nimport { serviceAccountAccessGuard } from \"./guards/service-account-access.guard\";\nimport { ServiceAccountPeopleComponent } from \"./people/service-account-people.component\";\nimport { ServiceAccountProjectsComponent } from \"./projects/service-account-projects.component\";\nimport { ServiceAccountComponent } from \"./service-account.component\";\nimport { ServiceAccountsComponent } from \"./service-accounts.component\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: ServiceAccountsComponent,\n  },\n  {\n    path: \":serviceAccountId\",\n    component: ServiceAccountComponent,\n    canActivate: [serviceAccountAccessGuard],\n    children: [\n      {\n        path: \"\",\n        pathMatch: \"full\",\n        redirectTo: \"projects\",\n      },\n      {\n        path: \"access\",\n        component: AccessTokenComponent,\n      },\n      {\n        path: \"people\",\n        component: ServiceAccountPeopleComponent,\n      },\n      {\n        path: \"projects\",\n        component: ServiceAccountProjectsComponent,\n      },\n      {\n        path: \"events\",\n        component: ServiceAccountEventsComponent,\n      },\n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class ServiceAccountsRoutingModule {}\n","import { inject } from \"@angular/core\";\nimport { ActivatedRouteSnapshot, CanActivateFn, createUrlTreeFromSnapshot } from \"@angular/router\";\n\nimport { ServiceAccountService } from \"../service-account.service\";\n\n/**\n * Redirects to service accounts page if the user doesn't have access to service account.\n */\nexport const serviceAccountAccessGuard: CanActivateFn = async (route: ActivatedRouteSnapshot) => {\n  const serviceAccountService = inject(ServiceAccountService);\n\n  try {\n    const serviceAccount = await serviceAccountService.getByServiceAccountId(\n      route.params.serviceAccountId,\n      route.params.organizationId,\n    );\n    if (serviceAccount) {\n      return true;\n    }\n  } catch {\n    return createUrlTreeFromSnapshot(route, [\n      \"/sm\",\n      route.params.organizationId,\n      \"service-accounts\",\n    ]);\n  }\n  return createUrlTreeFromSnapshot(route, [\"/sm\", route.params.organizationId, \"service-accounts\"]);\n};\n","import { NgModule } from \"@angular/core\";\n\nimport { BreadcrumbsModule } from \"@bitwarden/components\";\n\nimport { SecretsManagerSharedModule } from \"../shared/sm-shared.module\";\n\nimport { AccessListComponent } from \"./access/access-list.component\";\nimport { AccessTokenComponent } from \"./access/access-tokens.component\";\nimport { AccessTokenCreateDialogComponent } from \"./access/dialogs/access-token-create-dialog.component\";\nimport { AccessTokenDialogComponent } from \"./access/dialogs/access-token-dialog.component\";\nimport { ExpirationOptionsComponent } from \"./access/dialogs/expiration-options.component\";\nimport { ServiceAccountDeleteDialogComponent } from \"./dialog/service-account-delete-dialog.component\";\nimport { ServiceAccountDialogComponent } from \"./dialog/service-account-dialog.component\";\nimport { ServiceAccountEventsComponent } from \"./event-logs/service-accounts-events.component\";\nimport { ServiceAccountPeopleComponent } from \"./people/service-account-people.component\";\nimport { ServiceAccountProjectsComponent } from \"./projects/service-account-projects.component\";\nimport { ServiceAccountComponent } from \"./service-account.component\";\nimport { ServiceAccountsListComponent } from \"./service-accounts-list.component\";\nimport { ServiceAccountsRoutingModule } from \"./service-accounts-routing.module\";\nimport { ServiceAccountsComponent } from \"./service-accounts.component\";\n\n@NgModule({\n  imports: [SecretsManagerSharedModule, ServiceAccountsRoutingModule, BreadcrumbsModule],\n  declarations: [\n    AccessListComponent,\n    AccessTokenComponent,\n    AccessTokenCreateDialogComponent,\n    AccessTokenDialogComponent,\n    ExpirationOptionsComponent,\n    ServiceAccountComponent,\n    ServiceAccountDeleteDialogComponent,\n    ServiceAccountDialogComponent,\n    ServiceAccountEventsComponent,\n    ServiceAccountPeopleComponent,\n    ServiceAccountProjectsComponent,\n    ServiceAccountsComponent,\n    ServiceAccountsListComponent,\n    ServiceAccountPeopleComponent,\n  ],\n  providers: [],\n})\nexport class ServiceAccountsModule {}\n","import { SecretsManagerImportErrorLine } from \"./sm-import-error-line\";\n\nexport class SecretsManagerImportError extends Error {\n  constructor(message?: string) {\n    super(message);\n  }\n\n  lines: SecretsManagerImportErrorLine[];\n}\n","import { SecretsManagerImportedProjectRequest } from \"./sm-imported-project.request\";\nimport { SecretsManagerImportedSecretRequest } from \"./sm-imported-secret.request\";\n\nexport class SecretsManagerImportRequest {\n  projects: SecretsManagerImportedProjectRequest[];\n  secrets: SecretsManagerImportedSecretRequest[];\n}\n","import { EncString } from \"@bitwarden/common/platform/models/domain/enc-string\";\n\nexport class SecretsManagerImportedProjectRequest {\n  id: string;\n  name: EncString;\n}\n","import { EncString } from \"@bitwarden/common/platform/models/domain/enc-string\";\n\nexport class SecretsManagerImportedSecretRequest {\n  id: string;\n  key: EncString;\n  value: EncString;\n  note: EncString;\n  projectIds: string[];\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nexport class SecretsManagerExportedProjectResponse extends BaseResponse {\n  id: string;\n  name: string;\n\n  constructor(response: any) {\n    super(response);\n\n    this.id = this.getResponseProperty(\"Id\");\n    this.name = this.getResponseProperty(\"Name\");\n  }\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nexport class SecretsManagerExportedSecretResponse extends BaseResponse {\n  id: string;\n  key: string;\n  value: string;\n  note: string;\n  projectIds: string[];\n\n  constructor(response: any) {\n    super(response);\n\n    this.id = this.getResponseProperty(\"Id\");\n    this.key = this.getResponseProperty(\"Key\");\n    this.value = this.getResponseProperty(\"Value\");\n    this.note = this.getResponseProperty(\"Note\");\n\n    const projectIds = this.getResponseProperty(\"ProjectIds\");\n    this.projectIds = projectIds?.map((id: any) => id.toString());\n  }\n}\n","import { BaseResponse } from \"@bitwarden/common/models/response/base.response\";\n\nimport { SecretsManagerExportedProjectResponse } from \"./sm-exported-project.response\";\nimport { SecretsManagerExportedSecretResponse } from \"./sm-exported-secret.response\";\n\nexport class SecretsManagerExportResponse extends BaseResponse {\n  projects: SecretsManagerExportedProjectResponse[];\n  secrets: SecretsManagerExportedSecretResponse[];\n\n  constructor(response: any) {\n    super(response);\n\n    const projects = this.getResponseProperty(\"Projects\");\n    const secrets = this.getResponseProperty(\"Secrets\");\n\n    this.projects = projects?.map((k: any) => new SecretsManagerExportedProjectResponse(k));\n    this.secrets = secrets?.map((k: any) => new SecretsManagerExportedSecretResponse(k));\n  }\n}\n","export class SecretsManagerExport {\n  projects: SecretsManagerExportProject[];\n  secrets: SecretsManagerExportSecret[];\n}\n\nexport class SecretsManagerExportProject {\n  id: string;\n  name: string;\n}\n\nexport class SecretsManagerExportSecret {\n  id: string;\n  key: string;\n  value: string;\n  note: string;\n  projectIds: string[];\n}\n","import { Injectable } from \"@angular/core\";\n\nimport { ApiService } from \"@bitwarden/common/abstractions/api.service\";\nimport { ErrorResponse } from \"@bitwarden/common/models/response/error.response\";\nimport { CryptoService } from \"@bitwarden/common/platform/abstractions/crypto.service\";\nimport { EncryptService } from \"@bitwarden/common/platform/abstractions/encrypt.service\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { EncString } from \"@bitwarden/common/platform/models/domain/enc-string\";\n\nimport { SecretsManagerImportError } from \"../models/error/sm-import-error\";\nimport { SecretsManagerImportRequest } from \"../models/requests/sm-import.request\";\nimport { SecretsManagerImportedProjectRequest } from \"../models/requests/sm-imported-project.request\";\nimport { SecretsManagerImportedSecretRequest } from \"../models/requests/sm-imported-secret.request\";\nimport { SecretsManagerExportResponse } from \"../models/responses/sm-export.response\";\nimport {\n  SecretsManagerExport,\n  SecretsManagerExportProject,\n  SecretsManagerExportSecret,\n} from \"../models/sm-export\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class SecretsManagerPortingApiService {\n  constructor(\n    private apiService: ApiService,\n    private encryptService: EncryptService,\n    private cryptoService: CryptoService,\n    private i18nService: I18nService,\n  ) {}\n\n  async export(organizationId: string): Promise<string> {\n    const response = await this.apiService.send(\n      \"GET\",\n      \"/sm/\" + organizationId + \"/export\",\n      null,\n      true,\n      true,\n    );\n\n    return JSON.stringify(\n      await this.decryptExport(organizationId, new SecretsManagerExportResponse(response)),\n      null,\n      \"  \",\n    );\n  }\n\n  async import(organizationId: string, fileContents: string): Promise<SecretsManagerImportError> {\n    let requestObject = {};\n\n    try {\n      requestObject = JSON.parse(fileContents);\n      const requestBody = await this.encryptImport(organizationId, requestObject);\n\n      await this.apiService.send(\n        \"POST\",\n        \"/sm/\" + organizationId + \"/import\",\n        requestBody,\n        true,\n        true,\n      );\n    } catch (error) {\n      const errorResponse = new ErrorResponse(error, 400);\n      return this.handleServerError(errorResponse, requestObject);\n    }\n  }\n\n  private async encryptImport(\n    organizationId: string,\n    importData: any,\n  ): Promise<SecretsManagerImportRequest> {\n    const encryptedImport = new SecretsManagerImportRequest();\n\n    try {\n      const orgKey = await this.cryptoService.getOrgKey(organizationId);\n      encryptedImport.projects = [];\n      encryptedImport.secrets = [];\n\n      encryptedImport.projects = await Promise.all(\n        importData.projects.map(async (p: any) => {\n          const project = new SecretsManagerImportedProjectRequest();\n          project.id = p.id;\n          project.name = await this.encryptService.encrypt(p.name, orgKey);\n          return project;\n        }),\n      );\n\n      encryptedImport.secrets = await Promise.all(\n        importData.secrets.map(async (s: any) => {\n          const secret = new SecretsManagerImportedSecretRequest();\n\n          [secret.key, secret.value, secret.note] = await Promise.all([\n            this.encryptService.encrypt(s.key, orgKey),\n            this.encryptService.encrypt(s.value, orgKey),\n            this.encryptService.encrypt(s.note, orgKey),\n          ]);\n\n          secret.id = s.id;\n          secret.projectIds = s.projectIds;\n\n          return secret;\n        }),\n      );\n    } catch (error) {\n      return null;\n    }\n\n    return encryptedImport;\n  }\n\n  private async decryptExport(\n    organizationId: string,\n    exportData: SecretsManagerExportResponse,\n  ): Promise<SecretsManagerExport> {\n    const orgKey = await this.cryptoService.getOrgKey(organizationId);\n    const decryptedExport = new SecretsManagerExport();\n    decryptedExport.projects = [];\n    decryptedExport.secrets = [];\n\n    decryptedExport.projects = await Promise.all(\n      exportData.projects.map(async (p) => {\n        const project = new SecretsManagerExportProject();\n        project.id = p.id;\n        project.name = await this.encryptService.decryptToUtf8(new EncString(p.name), orgKey);\n        return project;\n      }),\n    );\n\n    decryptedExport.secrets = await Promise.all(\n      exportData.secrets.map(async (s) => {\n        const secret = new SecretsManagerExportSecret();\n\n        [secret.key, secret.value, secret.note] = await Promise.all([\n          this.encryptService.decryptToUtf8(new EncString(s.key), orgKey),\n          this.encryptService.decryptToUtf8(new EncString(s.value), orgKey),\n          this.encryptService.decryptToUtf8(new EncString(s.note), orgKey),\n        ]);\n\n        secret.id = s.id;\n        secret.projectIds = s.projectIds;\n\n        return secret;\n      }),\n    );\n\n    return decryptedExport;\n  }\n\n  private handleServerError(\n    errorResponse: ErrorResponse,\n    importResult: any,\n  ): SecretsManagerImportError {\n    if (errorResponse.validationErrors == null) {\n      return new SecretsManagerImportError(errorResponse.message);\n    }\n\n    const result = new SecretsManagerImportError();\n    result.lines = [];\n\n    Object.entries(errorResponse.validationErrors).forEach(([key, value], index) => {\n      let item;\n      let itemType;\n      const id = Number(key.match(/[0-9]+/)[0]);\n\n      switch (key.match(/^\\w+/)[0]) {\n        case \"Projects\":\n          item = importResult.projects[id];\n          itemType = \"Project\";\n          break;\n        case \"Secrets\":\n          item = importResult.secrets[id];\n          itemType = \"Secret\";\n          break;\n        default:\n          return;\n      }\n\n      result.lines.push({\n        id: id + 1,\n        type: itemType == \"Project\" ? \"Project\" : \"Secret\",\n        key: item.key,\n        errorMessage: value.length > 0 ? value[0] : \"\",\n      });\n    });\n\n    return result;\n  }\n}\n","import { formatDate } from \"@angular/common\";\nimport { Injectable } from \"@angular/core\";\nimport { firstValueFrom } from \"rxjs\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\n\n@Injectable({\n  providedIn: \"root\",\n})\nexport class SecretsManagerPortingService {\n  constructor(private i18nService: I18nService) {}\n\n  async getFileName(prefix: string = null, extension = \"json\"): Promise<string> {\n    const locale = await firstValueFrom(this.i18nService.locale$);\n    const dateString = formatDate(new Date(), \"yyyyMMddHHmmss\", locale);\n    return \"bitwarden\" + (prefix ? \"_\" + prefix : \"\") + \"_export_\" + dateString + \".\" + extension;\n  }\n}\n","<app-header></app-header>\n\n<form [formGroup]=\"formGroup\" [bitSubmit]=\"submit\">\n  <div class=\"tw-my-4 tw-max-w-xl\">\n    <app-callout type=\"info\" title=\"{{ 'exportingOrganizationSecretDataTitle' | i18n }}\">\n      {{ \"exportingOrganizationSecretDataDescription\" | i18n: orgName }}\n    </app-callout>\n  </div>\n\n  <bit-form-field class=\"tw-max-w-sm\">\n    <bit-label>{{ \"fileFormat\" | i18n }}</bit-label>\n    <select bitInput formControlName=\"format\">\n      <option *ngFor=\"let format of exportFormats; let i = index\" [value]=\"i\">\n        {{ format.name }}\n      </option>\n    </select>\n  </bit-form-field>\n\n  <button bitButton bitFormButton type=\"submit\" buttonType=\"primary\">\n    {{ \"exportData\" | i18n }}\n  </button>\n</form>\n","import { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { FormControl, FormGroup, Validators } from \"@angular/forms\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { firstValueFrom, Subject, switchMap, takeUntil } from \"rxjs\";\n\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { FileDownloadService } from \"@bitwarden/common/platform/abstractions/file-download/file-download.service\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { LogService } from \"@bitwarden/common/platform/abstractions/log.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { DialogService } from \"@bitwarden/components\";\nimport { openUserVerificationPrompt } from \"@bitwarden/web-vault/app/auth/shared/components/user-verification\";\n\nimport { SecretsManagerPortingApiService } from \"../services/sm-porting-api.service\";\nimport { SecretsManagerPortingService } from \"../services/sm-porting.service\";\n\ntype ExportFormat = {\n  name: string;\n  fileExtension: string;\n};\n\n@Component({\n  selector: \"sm-export\",\n  templateUrl: \"./sm-export.component.html\",\n})\nexport class SecretsManagerExportComponent implements OnInit, OnDestroy {\n  private destroy$ = new Subject<void>();\n\n  protected orgName: string;\n  protected orgId: string;\n  protected exportFormats: ExportFormat[] = [{ name: \"Bitwarden (json)\", fileExtension: \"json\" }];\n\n  protected formGroup = new FormGroup({\n    format: new FormControl(0, [Validators.required]),\n  });\n\n  constructor(\n    private route: ActivatedRoute,\n    private i18nService: I18nService,\n    private organizationService: OrganizationService,\n    private platformUtilsService: PlatformUtilsService,\n    private smPortingService: SecretsManagerPortingService,\n    private fileDownloadService: FileDownloadService,\n    private logService: LogService,\n    private dialogService: DialogService,\n    private secretsManagerApiService: SecretsManagerPortingApiService,\n  ) {}\n\n  async ngOnInit() {\n    this.route.params\n      .pipe(\n        switchMap(async (params) => await this.organizationService.get(params.organizationId)),\n        takeUntil(this.destroy$),\n      )\n      .subscribe((organization) => {\n        this.orgName = organization.name;\n        this.orgId = organization.id;\n      });\n\n    this.formGroup.get(\"format\").disable();\n  }\n\n  async ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  submit = async () => {\n    this.formGroup.markAllAsTouched();\n\n    if (this.formGroup.invalid) {\n      return;\n    }\n\n    const userVerified = await this.verifyUser();\n    if (!userVerified) {\n      return;\n    }\n\n    await this.doExport();\n  };\n\n  private async doExport() {\n    const fileExtension = this.exportFormats[this.formGroup.get(\"format\").value].fileExtension;\n    const exportData = await this.secretsManagerApiService.export(this.orgId);\n\n    await this.downloadFile(exportData, fileExtension);\n    this.platformUtilsService.showToast(\"success\", null, this.i18nService.t(\"dataExportSuccess\"));\n  }\n\n  private async downloadFile(data: string, format: string) {\n    const fileName = await this.smPortingService.getFileName(null, format);\n    this.fileDownloadService.download({\n      fileName: fileName,\n      blobData: data,\n      blobOptions: { type: \"text/plain\" },\n    });\n  }\n\n  private verifyUser() {\n    const ref = openUserVerificationPrompt(this.dialogService, {\n      data: {\n        confirmDescription: \"exportSecretsWarningDesc\",\n        confirmButtonText: \"exportSecrets\",\n        modalTitle: \"confirmSecretsExport\",\n      },\n    });\n\n    if (ref == null) {\n      return;\n    }\n\n    return firstValueFrom(ref.closed);\n  }\n}\n","<bit-dialog dialogSize=\"large\">\n  <span bitDialogTitle>\n    {{ \"importError\" | i18n }}\n  </span>\n  <span bitDialogContent>\n    <div>{{ \"resolveTheErrorsBelowAndTryAgain\" | i18n }}</div>\n    <bit-table>\n      <ng-container header>\n        <tr>\n          <th bitCell>{{ \"name\" | i18n }}</th>\n          <th bitCell>{{ \"description\" | i18n }}</th>\n        </tr>\n      </ng-container>\n      <ng-template body>\n        <tr bitRow *ngFor=\"let line of errorLines\">\n          <td bitCell class=\"tw-whitespace-nowrap\">\n            [{{ line.id }}] [{{ line.type }}] {{ line.key }}\n          </td>\n          <td bitCell>{{ line.errorMessage }}</td>\n        </tr>\n      </ng-template>\n    </bit-table>\n  </span>\n  <ng-container bitDialogFooter>\n    <button bitButton bitDialogClose buttonType=\"primary\" type=\"button\">\n      {{ \"ok\" | i18n }}\n    </button>\n  </ng-container>\n</bit-dialog>\n","import { DialogRef, DIALOG_DATA } from \"@angular/cdk/dialog\";\nimport { Component, Inject } from \"@angular/core\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\n\nimport { SecretsManagerImportError } from \"../models/error/sm-import-error\";\nimport { SecretsManagerImportErrorLine } from \"../models/error/sm-import-error-line\";\n\nexport interface SecretsManagerImportErrorDialogOperation {\n  error: SecretsManagerImportError;\n}\n\n@Component({\n  templateUrl: \"./sm-import-error-dialog.component.html\",\n})\nexport class SecretsManagerImportErrorDialogComponent {\n  errorLines: SecretsManagerImportErrorLine[];\n\n  constructor(\n    public dialogRef: DialogRef,\n    private i18nService: I18nService,\n    @Inject(DIALOG_DATA) public data: SecretsManagerImportErrorDialogOperation,\n  ) {\n    this.errorLines = data.error.lines;\n  }\n}\n","import { Component, OnDestroy, OnInit } from \"@angular/core\";\nimport { FormControl, FormGroup } from \"@angular/forms\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { Subject, takeUntil } from \"rxjs\";\n\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { FileDownloadService } from \"@bitwarden/common/platform/abstractions/file-download/file-download.service\";\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { LogService } from \"@bitwarden/common/platform/abstractions/log.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { Utils } from \"@bitwarden/common/platform/misc/utils\";\nimport { DialogService } from \"@bitwarden/components\";\n\nimport {\n  SecretsManagerImportErrorDialogComponent,\n  SecretsManagerImportErrorDialogOperation,\n} from \"../dialog/sm-import-error-dialog.component\";\nimport { SecretsManagerImportError } from \"../models/error/sm-import-error\";\nimport { SecretsManagerPortingApiService } from \"../services/sm-porting-api.service\";\n\n@Component({\n  selector: \"sm-import\",\n  templateUrl: \"./sm-import.component.html\",\n})\nexport class SecretsManagerImportComponent implements OnInit, OnDestroy {\n  private destroy$ = new Subject<void>();\n  protected orgId: string = null;\n  protected selectedFile: File;\n  protected formGroup = new FormGroup({\n    pastedContents: new FormControl(\"\"),\n  });\n\n  constructor(\n    private route: ActivatedRoute,\n    private i18nService: I18nService,\n    private organizationService: OrganizationService,\n    private platformUtilsService: PlatformUtilsService,\n    protected fileDownloadService: FileDownloadService,\n    private logService: LogService,\n    private secretsManagerPortingApiService: SecretsManagerPortingApiService,\n    private dialogService: DialogService,\n  ) {}\n\n  async ngOnInit() {\n    this.route.params.pipe(takeUntil(this.destroy$)).subscribe((params) => {\n      this.orgId = params.organizationId;\n    });\n  }\n\n  async ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  submit = async () => {\n    const fileElement = document.getElementById(\"file\") as HTMLInputElement;\n    const importContents = await this.getImportContents(\n      fileElement,\n      this.formGroup.get(\"pastedContents\").value.trim(),\n    );\n\n    if (importContents == null) {\n      this.platformUtilsService.showToast(\n        \"error\",\n        this.i18nService.t(\"errorOccurred\"),\n        this.i18nService.t(\"selectFile\"),\n      );\n      return;\n    }\n\n    try {\n      const error = await this.secretsManagerPortingApiService.import(this.orgId, importContents);\n\n      if (error?.lines?.length > 0) {\n        this.openImportErrorDialog(error);\n        return;\n      } else if (!Utils.isNullOrWhitespace(error?.message)) {\n        this.platformUtilsService.showToast(\n          \"error\",\n          this.i18nService.t(\"errorOccurred\"),\n          error.message,\n        );\n        return;\n      } else if (error != null) {\n        this.platformUtilsService.showToast(\n          \"error\",\n          this.i18nService.t(\"errorOccurred\"),\n          this.i18nService.t(\"errorReadingImportFile\"),\n        );\n        return;\n      }\n\n      this.platformUtilsService.showToast(\"success\", null, this.i18nService.t(\"importSuccess\"));\n      this.clearForm();\n    } catch (error) {\n      this.platformUtilsService.showToast(\n        \"error\",\n        this.i18nService.t(\"errorOccurred\"),\n        this.i18nService.t(\"errorReadingImportFile\"),\n      );\n      this.logService.error(error);\n    }\n  };\n\n  protected async getImportContents(\n    fileElement: HTMLInputElement,\n    pastedContents: string,\n  ): Promise<string> {\n    const files = fileElement.files;\n\n    if (\n      (files == null || files.length === 0) &&\n      (pastedContents == null || pastedContents === \"\")\n    ) {\n      return null;\n    }\n\n    let fileContents = pastedContents;\n    if (files != null && files.length > 0) {\n      try {\n        const content = await this.getFileContents(files[0]);\n        if (content != null) {\n          fileContents = content;\n        }\n      } catch (e) {\n        this.logService.error(e);\n      }\n    }\n\n    if (fileContents == null || fileContents === \"\") {\n      return null;\n    }\n\n    return fileContents;\n  }\n\n  protected setSelectedFile(event: Event) {\n    const fileInputEl = <HTMLInputElement>event.target;\n    const file = fileInputEl.files.length > 0 ? fileInputEl.files[0] : null;\n    this.selectedFile = file;\n  }\n\n  private clearForm() {\n    (document.getElementById(\"file\") as HTMLInputElement).value = \"\";\n    this.selectedFile = null;\n    this.formGroup.reset({\n      pastedContents: \"\",\n    });\n  }\n\n  private getFileContents(file: File): Promise<string> {\n    return new Promise((resolve, reject) => {\n      const reader = new FileReader();\n      reader.readAsText(file, \"utf-8\");\n      reader.onload = (evt) => {\n        resolve((evt.target as any).result);\n      };\n      reader.onerror = () => {\n        reject();\n      };\n    });\n  }\n\n  private openImportErrorDialog(error: SecretsManagerImportError) {\n    this.dialogService.open<unknown, SecretsManagerImportErrorDialogOperation>(\n      SecretsManagerImportErrorDialogComponent,\n      {\n        data: {\n          error: error,\n        },\n      },\n    );\n  }\n}\n","<app-header></app-header>\n\n<form [formGroup]=\"formGroup\" [bitSubmit]=\"submit\" class=\"tw-max-w-xl\">\n  <bit-form-field>\n    <bit-label>{{ \"fileUpload\" | i18n }}</bit-label>\n    <div class=\"file-selector\">\n      <button bitButton type=\"button\" buttonType=\"secondary\" (click)=\"fileSelector.click()\">\n        {{ \"chooseFile\" | i18n }}\n      </button>\n      {{ selectedFile?.name ?? (\"noFileChosen\" | i18n) }}\n    </div>\n    <input\n      #fileSelector\n      hidden\n      bitInput\n      type=\"file\"\n      id=\"file\"\n      class=\"form-control-file\"\n      name=\"file\"\n      (change)=\"setSelectedFile($event)\"\n      accept=\"application/JSON\"\n    />\n    <bit-hint>{{ \"acceptedFormats\" | i18n }} Bitwarden (json)</bit-hint>\n  </bit-form-field>\n  <div class=\"my-4\">\n    {{ \"or\" | i18n }}\n  </div>\n  <bit-form-field>\n    <bit-label for=\"pastedContents\">{{ \"copyPasteImportContents\" | i18n }}</bit-label>\n    <textarea\n      bitInput\n      id=\"pastedContents\"\n      class=\"form-control\"\n      name=\"FileContents\"\n      formControlName=\"pastedContents\"\n    ></textarea>\n    <bit-hint>{{ \"acceptedFormats\" | i18n }} Bitwarden (json)</bit-hint>\n  </bit-form-field>\n  <button bitButton bitFormButton type=\"submit\" buttonType=\"primary\">\n    {{ \"importData\" | i18n }}\n  </button>\n</form>\n","import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\n\nimport { Organization } from \"@bitwarden/common/admin-console/models/domain/organization\";\nimport { OrganizationPermissionsGuard } from \"@bitwarden/web-vault/app/admin-console/organizations/guards/org-permissions.guard\";\n\nimport { SecretsManagerExportComponent } from \"./porting/sm-export.component\";\nimport { SecretsManagerImportComponent } from \"./porting/sm-import.component\";\n\nconst routes: Routes = [\n  {\n    path: \"import\",\n    component: SecretsManagerImportComponent,\n    canActivate: [OrganizationPermissionsGuard],\n    data: {\n      titleId: \"importData\",\n      organizationPermissions: (org: Organization) => org.isAdmin,\n    },\n  },\n  {\n    path: \"export\",\n    component: SecretsManagerExportComponent,\n    canActivate: [OrganizationPermissionsGuard],\n    data: {\n      titleId: \"exportData\",\n      organizationPermissions: (org: Organization) => org.isAdmin,\n    },\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SettingsRoutingModule {}\n","import { NgModule } from \"@angular/core\";\n\nimport { SecretsManagerSharedModule } from \"../shared/sm-shared.module\";\n\nimport { SecretsManagerImportErrorDialogComponent } from \"./dialog/sm-import-error-dialog.component\";\nimport { SecretsManagerExportComponent } from \"./porting/sm-export.component\";\nimport { SecretsManagerImportComponent } from \"./porting/sm-import.component\";\nimport { SecretsManagerPortingApiService } from \"./services/sm-porting-api.service\";\nimport { SecretsManagerPortingService } from \"./services/sm-porting.service\";\nimport { SettingsRoutingModule } from \"./settings-routing.module\";\n\n@NgModule({\n  imports: [SecretsManagerSharedModule, SettingsRoutingModule],\n  declarations: [\n    SecretsManagerImportComponent,\n    SecretsManagerExportComponent,\n    SecretsManagerImportErrorDialogComponent,\n  ],\n  providers: [SecretsManagerPortingService, SecretsManagerPortingApiService],\n})\nexport class SettingsModule {}\n","import { svgIcon } from \"../icon\";\n\nexport const NoAccess = svgIcon`\n<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"154\" height=\"130\" fill=\"none\">\n  <path class=\"tw-stroke-secondary-500\" d=\"M60.795 112.1h55.135a4 4 0 0 0 4-4V59.65M32.9 51.766V6a4 4 0 0 1 4-4h79.03a4 4 0 0 1 4 4v19.992\"  stroke-width=\"4\"/>\n  <path class=\"tw-stroke-secondary-500\" d=\"M46.997 21.222h13.806M69.832 21.222h13.806M93.546 21.222h13.806M46.997 44.188h13.806M69.832 44.188h13.806M93.546 44.188h13.806M50.05 67.02h10.753M69.832 67.02h13.806M93.546 67.02h13.806M46.997 90.118h13.806M69.832 90.118h13.806M93.546 90.118h13.806\" stroke-width=\"2\" stroke-linecap=\"round\"/>\n  <path class=\"tw-stroke-secondary-500\" d=\"M30.914 89.366c10.477 0 18.97-8.493 18.97-18.97 0-10.476-8.493-18.97-18.97-18.97-10.476 0-18.969 8.494-18.969 18.97 0 10.477 8.493 18.97 18.97 18.97ZM2.313 117.279c2.183-16.217 15.44-27.362 29.623-27.362 14.07 0 25.942 11.022 27.898 27.33.167 1.39-.988 2.753-2.719 2.753H5c-1.741 0-2.87-1.366-2.687-2.721Z\" stroke-width=\"4\"/>\n  <path class=\"tw-stroke-danger-500\" d=\"m147.884 50.361-15.89-27.522c-2.31-4-8.083-4-10.392 0l-15.891 27.523c-2.309 4 .578 9 5.196 9h31.781c4.619 0 7.505-5 5.196-9Z\" stroke-width=\"4\"/>\n  <path class=\"tw-stroke-danger-500\" d=\"M126.798 29.406v16.066\" stroke-width=\"4\" stroke-linecap=\"round\"/>\n  <path class=\"tw-fill-danger-500\" d=\"M126.798 54.727a2.635 2.635 0 1 0 0-5.27 2.635 2.635 0 0 0 0 5.27Z\" />\n</svg>\n`;\n","import { Component } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { map } from \"rxjs\";\n\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { Icon, Icons } from \"@bitwarden/components\";\n\n@Component({\n  templateUrl: \"./org-suspended.component.html\",\n})\nexport class OrgSuspendedComponent {\n  constructor(\n    private organizationService: OrganizationService,\n    private route: ActivatedRoute,\n  ) {}\n\n  protected NoAccess: Icon = Icons.NoAccess;\n  protected organizationName$ = this.route.params.pipe(\n    map((params) => this.organizationService.get(params.organizationId)?.name),\n  );\n}\n","<app-header [title]=\"organizationName$ | async\">\n  <sm-new-menu></sm-new-menu>\n</app-header>\n<bit-no-items [icon]=\"NoAccess\">\n  <ng-container slot=\"title\">{{ \"organizationIsDisabled\" | i18n }}</ng-container>\n  <ng-container slot=\"description\">{{ \"secretsAccessSuspended\" | i18n }}</ng-container>\n</bit-no-items>\n","import { DialogRef, DIALOG_DATA } from \"@angular/cdk/dialog\";\nimport { Component, Inject } from \"@angular/core\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\n\nimport { SecretService } from \"../../secrets/secret.service\";\n\nexport interface SecretHardDeleteOperation {\n  secretIds: string[];\n  organizationId: string;\n}\n\n@Component({\n  templateUrl: \"./secret-hard-delete.component.html\",\n})\nexport class SecretHardDeleteDialogComponent {\n  constructor(\n    public dialogRef: DialogRef,\n    private secretService: SecretService,\n    private i18nService: I18nService,\n    private platformUtilsService: PlatformUtilsService,\n    @Inject(DIALOG_DATA) public data: SecretHardDeleteOperation,\n  ) {}\n\n  get title() {\n    return this.data.secretIds.length === 1 ? \"hardDeleteSecret\" : \"hardDeleteSecrets\";\n  }\n\n  get submitButtonText() {\n    return this.data.secretIds.length === 1 ? \"deleteSecret\" : \"deleteSecrets\";\n  }\n\n  delete = async () => {\n    await this.secretService.deleteTrashed(this.data.organizationId, this.data.secretIds);\n    const message =\n      this.data.secretIds.length === 1 ? \"hardDeleteSuccessToast\" : \"hardDeletesSuccessToast\";\n    this.dialogRef.close(this.data.secretIds);\n    this.platformUtilsService.showToast(\"success\", null, this.i18nService.t(message));\n  };\n}\n","<bit-simple-dialog>\n  <span bitDialogTitle>{{ title | i18n }}</span>\n  <span bitDialogContent>\n    {{\n      data.secretIds.length === 1\n        ? (\"hardDeleteSecretConfirmation\" | i18n)\n        : (\"hardDeleteSecretsConfirmation\" | i18n)\n    }}\n  </span>\n  <ng-container bitDialogFooter>\n    <button type=\"button\" bitButton buttonType=\"primary\" [bitAction]=\"delete\">\n      {{ submitButtonText | i18n }}\n    </button>\n    <button type=\"button\" bitButton buttonType=\"secondary\" bitDialogClose>\n      {{ \"close\" | i18n }}\n    </button>\n  </ng-container>\n</bit-simple-dialog>\n","import { DialogRef, DIALOG_DATA } from \"@angular/cdk/dialog\";\nimport { Component, Inject } from \"@angular/core\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\n\nimport { SecretService } from \"../../secrets/secret.service\";\n\nexport interface SecretRestoreOperation {\n  secretIds: string[];\n  organizationId: string;\n}\n\n@Component({\n  templateUrl: \"./secret-restore.component.html\",\n})\nexport class SecretRestoreDialogComponent {\n  constructor(\n    public dialogRef: DialogRef,\n    private secretService: SecretService,\n    private i18nService: I18nService,\n    private platformUtilsService: PlatformUtilsService,\n    @Inject(DIALOG_DATA) public data: SecretRestoreOperation,\n  ) {}\n\n  get title() {\n    return this.data.secretIds.length === 1 ? \"restoreSecret\" : \"restoreSecrets\";\n  }\n\n  restore = async () => {\n    let message = \"\";\n    await this.secretService.restoreTrashed(this.data.organizationId, this.data.secretIds);\n    message =\n      this.data.secretIds.length === 1\n        ? \"secretRestoredSuccessToast\"\n        : \"secretsRestoredSuccessToast\";\n    this.dialogRef.close(this.data.secretIds);\n    this.platformUtilsService.showToast(\"success\", null, this.i18nService.t(message));\n  };\n}\n","<bit-simple-dialog>\n  <span bitDialogTitle>{{ title | i18n }}</span>\n  <span bitDialogContent>\n    {{\n      data.secretIds.length === 1 ? (\"restoreSecretPrompt\" | i18n) : (\"restoreSecretsPrompt\" | i18n)\n    }}\n  </span>\n  <ng-container bitDialogFooter>\n    <button type=\"button\" bitButton buttonType=\"primary\" [bitAction]=\"restore\">\n      {{ title | i18n }}\n    </button>\n    <button type=\"button\" bitButton buttonType=\"secondary\" bitDialogClose>\n      {{ \"close\" | i18n }}\n    </button>\n  </ng-container>\n</bit-simple-dialog>\n","import { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute } from \"@angular/router\";\nimport { combineLatestWith, Observable, startWith, switchMap } from \"rxjs\";\n\nimport { I18nService } from \"@bitwarden/common/platform/abstractions/i18n.service\";\nimport { PlatformUtilsService } from \"@bitwarden/common/platform/abstractions/platform-utils.service\";\nimport { DialogService } from \"@bitwarden/components\";\n\nimport { SecretListView } from \"../models/view/secret-list.view\";\nimport { SecretService } from \"../secrets/secret.service\";\nimport { SecretsListComponent } from \"../shared/secrets-list.component\";\n\nimport {\n  SecretHardDeleteDialogComponent,\n  SecretHardDeleteOperation,\n} from \"./dialog/secret-hard-delete.component\";\nimport {\n  SecretRestoreDialogComponent,\n  SecretRestoreOperation,\n} from \"./dialog/secret-restore.component\";\n\n@Component({\n  selector: \"sm-trash\",\n  templateUrl: \"./trash.component.html\",\n})\nexport class TrashComponent implements OnInit {\n  secrets$: Observable<SecretListView[]>;\n\n  private organizationId: string;\n\n  constructor(\n    private route: ActivatedRoute,\n    private secretService: SecretService,\n    private platformUtilsService: PlatformUtilsService,\n    private i18nService: I18nService,\n    private dialogService: DialogService,\n  ) {}\n\n  ngOnInit() {\n    this.secrets$ = this.secretService.secret$.pipe(\n      startWith(null),\n      combineLatestWith(this.route.params),\n      switchMap(async ([_, params]) => {\n        this.organizationId = params.organizationId;\n        return await this.getSecrets();\n      }),\n    );\n  }\n\n  private async getSecrets(): Promise<SecretListView[]> {\n    return await this.secretService.getTrashedSecrets(this.organizationId);\n  }\n\n  openDeleteSecret(secrets: SecretListView[]) {\n    const secretIds = secrets.map((secret) => secret.id);\n\n    this.dialogService.open<unknown, SecretHardDeleteOperation>(SecretHardDeleteDialogComponent, {\n      data: {\n        secretIds: secretIds,\n        organizationId: this.organizationId,\n      },\n    });\n  }\n\n  openRestoreSecret(secretIds: string[]) {\n    this.dialogService.open<unknown, SecretRestoreOperation>(SecretRestoreDialogComponent, {\n      data: {\n        secretIds: secretIds,\n        organizationId: this.organizationId,\n      },\n    });\n  }\n\n  copySecretUuid(id: string) {\n    SecretsListComponent.copySecretUuid(id, this.platformUtilsService, this.i18nService);\n  }\n}\n","<app-header>\n  <sm-new-menu></sm-new-menu>\n</app-header>\n<bit-callout type=\"warning\" [title]=\"'warning' | i18n\">{{\n  \"trashCleanupWarning\" | i18n\n}}</bit-callout>\n<sm-secrets-list\n  (deleteSecretsEvent)=\"openDeleteSecret($event)\"\n  (restoreSecretsEvent)=\"openRestoreSecret($event)\"\n  [secrets]=\"secrets$ | async\"\n  [trash]=\"true\"\n  (copySecretUuidEvent)=\"copySecretUuid($event)\"\n></sm-secrets-list>\n","import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\n\nimport { TrashComponent } from \"./trash.component\";\n\nconst routes: Routes = [\n  {\n    path: \"\",\n    component: TrashComponent,\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class TrashRoutingModule {}\n","import { NgModule } from \"@angular/core\";\n\nimport { SecretsManagerSharedModule } from \"../shared/sm-shared.module\";\n\nimport { SecretHardDeleteDialogComponent } from \"./dialog/secret-hard-delete.component\";\nimport { SecretRestoreDialogComponent } from \"./dialog/secret-restore.component\";\nimport { TrashRoutingModule } from \"./trash-routing.module\";\nimport { TrashComponent } from \"./trash.component\";\n\n@NgModule({\n  imports: [SecretsManagerSharedModule, TrashRoutingModule],\n  declarations: [SecretHardDeleteDialogComponent, SecretRestoreDialogComponent, TrashComponent],\n  providers: [],\n})\nexport class TrashModule {}\n","import { NgModule } from \"@angular/core\";\nimport { RouterModule, Routes } from \"@angular/router\";\n\nimport { AuthGuard } from \"@bitwarden/angular/auth/guards\";\nimport { buildFlaggedRoute } from \"@bitwarden/web-vault/app/oss-routing.module\";\n\nimport { organizationEnabledGuard } from \"./guards/sm-org-enabled.guard\";\nimport { canActivateSM } from \"./guards/sm.guard\";\nimport { LayoutComponent } from \"./layout/layout.component\";\nimport { NavigationComponent } from \"./layout/navigation.component\";\nimport { OverviewModule } from \"./overview/overview.module\";\nimport { ProjectsModule } from \"./projects/projects.module\";\nimport { SecretsModule } from \"./secrets/secrets.module\";\nimport { ServiceAccountsModule } from \"./service-accounts/service-accounts.module\";\nimport { SettingsModule } from \"./settings/settings.module\";\nimport { OrgSuspendedComponent } from \"./shared/org-suspended.component\";\nimport { TrashModule } from \"./trash/trash.module\";\n\nconst routes: Routes = [\n  buildFlaggedRoute(\"secretsManager\", {\n    path: \"\",\n    children: [\n      {\n        path: \"\",\n        canActivate: [canActivateSM],\n        pathMatch: \"full\",\n        children: [],\n      },\n      {\n        path: \":organizationId\",\n        component: LayoutComponent,\n        canActivate: [AuthGuard],\n        children: [\n          {\n            path: \"\",\n            component: NavigationComponent,\n            outlet: \"sidebar\",\n          },\n          {\n            path: \"\",\n            canActivate: [organizationEnabledGuard],\n            children: [\n              {\n                path: \"secrets\",\n                loadChildren: () => SecretsModule,\n                data: {\n                  titleId: \"secrets\",\n                },\n              },\n              {\n                path: \"projects\",\n                loadChildren: () => ProjectsModule,\n                data: {\n                  titleId: \"projects\",\n                },\n              },\n              {\n                path: \"service-accounts\",\n                loadChildren: () => ServiceAccountsModule,\n                data: {\n                  titleId: \"serviceAccounts\",\n                },\n              },\n              {\n                path: \"trash\",\n                loadChildren: () => TrashModule,\n                data: {\n                  titleId: \"trash\",\n                },\n              },\n              {\n                path: \"settings\",\n                loadChildren: () => SettingsModule,\n              },\n              {\n                path: \"\",\n                loadChildren: () => OverviewModule,\n                pathMatch: \"full\",\n              },\n            ],\n          },\n          {\n            path: \"organization-suspended\",\n            component: OrgSuspendedComponent,\n          },\n        ],\n      },\n    ],\n  }),\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class SecretsManagerRoutingModule {}\n","import { inject } from \"@angular/core\";\nimport {\n  ActivatedRouteSnapshot,\n  CanActivateFn,\n  createUrlTreeFromSnapshot,\n  RouterStateSnapshot,\n} from \"@angular/router\";\n\nimport { AuthGuard } from \"@bitwarden/angular/auth/guards\";\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { AuthService } from \"@bitwarden/common/auth/abstractions/auth.service\";\nimport { AuthenticationStatus } from \"@bitwarden/common/auth/enums/authentication-status\";\nimport { SyncService } from \"@bitwarden/common/vault/abstractions/sync/sync.service.abstraction\";\n\n/**\n * Redirects from root `/sm` to first organization with access to SM\n */\nexport const canActivateSM: CanActivateFn = async (\n  route: ActivatedRouteSnapshot,\n  state: RouterStateSnapshot,\n) => {\n  const syncService = inject(SyncService);\n  const authService = inject(AuthService);\n  const orgService = inject(OrganizationService);\n  const authGuard = inject(AuthGuard);\n\n  /** Workaround to avoid service initialization race condition. */\n  if ((await syncService.getLastSync()) == null) {\n    await syncService.fullSync(false);\n  }\n\n  if ((await authService.getAuthStatus()) !== AuthenticationStatus.Unlocked) {\n    return authGuard.canActivate(route, state);\n  }\n\n  const orgs = await orgService.getAll();\n  const smOrg = orgs.find((o) => o.canAccessSecretsManager);\n  if (smOrg) {\n    return createUrlTreeFromSnapshot(route, [\"/sm\", smOrg.id]);\n  }\n  return createUrlTreeFromSnapshot(route, [\"/vault\"]);\n};\n","import { inject } from \"@angular/core\";\nimport { ActivatedRouteSnapshot, CanActivateFn, createUrlTreeFromSnapshot } from \"@angular/router\";\n\nimport { OrganizationService } from \"@bitwarden/common/admin-console/abstractions/organization/organization.service.abstraction\";\nimport { SyncService } from \"@bitwarden/common/vault/abstractions/sync/sync.service.abstraction\";\n\n/**\n * Redirects from root `/sm` to first organization with access to SM\n */\nexport const organizationEnabledGuard: CanActivateFn = async (route: ActivatedRouteSnapshot) => {\n  const syncService = inject(SyncService);\n  const orgService = inject(OrganizationService);\n\n  /** Workaround to avoid service initialization race condition. */\n  if ((await syncService.getLastSync()) == null) {\n    await syncService.fullSync(false);\n  }\n\n  const org = orgService.get(route.params.organizationId);\n  if (org == null || !org.canAccessSecretsManager) {\n    return createUrlTreeFromSnapshot(route, [\"/\"]);\n  }\n\n  if (!org.enabled) {\n    return createUrlTreeFromSnapshot(route, [\"/sm\", org.id, \"organization-suspended\"]);\n  }\n\n  return true;\n};\n","import { NgModule } from \"@angular/core\";\n\nimport { SharedModule } from \"@bitwarden/web-vault/app/shared\";\n\nimport { LayoutModule } from \"./layout/layout.module\";\nimport { SecretsManagerSharedModule } from \"./shared/sm-shared.module\";\nimport { SecretsManagerRoutingModule } from \"./sm-routing.module\";\n\n@NgModule({\n  imports: [SharedModule, SecretsManagerSharedModule, SecretsManagerRoutingModule, LayoutModule],\n})\nexport class SecretsManagerModule {}\n","<div [ngClass]=\"outerBarStyles\">\n  <div\n    [ngClass]=\"innerBarStyles\"\n    role=\"progressbar\"\n    aria-valuemin=\"0\"\n    aria-valuemax=\"100\"\n    attr.aria-valuenow=\"{{ barWidth }}\"\n    [ngStyle]=\"{ width: barWidth + '%' }\"\n  >\n    <div\n      *ngIf=\"displayText\"\n      class=\"tw-flex tw-h-full tw-flex-wrap tw-items-center tw-overflow-hidden\"\n    >\n      <!-- If text is too long to fit, wrap it below to hide -->\n      <div class=\"tw-h-full\">&nbsp;</div>\n      <div class=\"tw-pr-1\">{{ textContent }}</div>\n    </div>\n  </div>\n</div>\n","import { Component, Input } from \"@angular/core\";\n\ntype SizeTypes = \"small\" | \"default\" | \"large\";\ntype BackgroundTypes = \"danger\" | \"primary\" | \"success\" | \"warning\";\n\nconst SizeClasses: Record<SizeTypes, string[]> = {\n  small: [\"tw-h-1\"],\n  default: [\"tw-h-4\"],\n  large: [\"tw-h-6\"],\n};\n\nconst BackgroundClasses: Record<BackgroundTypes, string[]> = {\n  danger: [\"tw-bg-danger-500\"],\n  primary: [\"tw-bg-primary-500\"],\n  success: [\"tw-bg-success-500\"],\n  warning: [\"tw-bg-warning-500\"],\n};\n\n@Component({\n  selector: \"bit-progress\",\n  templateUrl: \"./progress.component.html\",\n})\nexport class ProgressComponent {\n  @Input() barWidth = 0;\n  @Input() bgColor: BackgroundTypes = \"primary\";\n  @Input() showText = true;\n  @Input() size: SizeTypes = \"default\";\n  @Input() text?: string;\n\n  get displayText() {\n    return this.showText && this.size !== \"small\";\n  }\n\n  get outerBarStyles() {\n    return [\"tw-overflow-hidden\", \"tw-rounded\", \"tw-bg-secondary-100\"].concat(\n      SizeClasses[this.size],\n    );\n  }\n\n  get innerBarStyles() {\n    return [\n      \"tw-flex\",\n      \"tw-justify-center\",\n      \"tw-items-center\",\n      \"tw-whitespace-nowrap\",\n      \"tw-text-xs\",\n      \"tw-font-semibold\",\n      \"tw-text-contrast\",\n      \"tw-transition-all\",\n    ]\n      .concat(SizeClasses[this.size])\n      .concat(BackgroundClasses[this.bgColor]);\n  }\n\n  get textContent() {\n    return this.text || this.barWidth + \"%\";\n  }\n}\n"],"names":["NavigationModule","LayoutComponent","mainContentId","variant","focusMainContent","document","getElementById","this","focus","L","LayoutModule","HeaderModule","D","SecretsManagerSharedModule","ngOnInit","body","classList","remove","NavBaseComponent","treeDepth","hideActiveStyles","mainContentClicked","setActive","NavItemComponent","_active","rlaOptions","paths","queryParams","fragment","matrixParams","focusVisibleWithin$","BehaviorSubject","fvwStyles$","pipe","map","value","isActive","showActiveStyles","exactMatch","val","onFocusIn","target","next","matches","onFocusOut","toggle","NavGroupComponent","contentId","Math","random","toString","substring","open","openChange","event","stopPropagation","emit","initNestedStyles","nestedGroups","nestedItems","forEach","navGroupOrItem","ngAfterContentInit","NavDividerComponent","OrgSwitcherComponent","constructor","route","organizationService","organizations$","orgs","filter","org","sort","a","b","name","localeCompare","enabled","activeOrganization$","combineLatest","paramMap","params","find","id","get","hideNewButton","NavigationComponent","logo","orgFilter","canAccessSecretsManager","isAdmin$","organizationId","isAdmin","OnboardingModule","BulkOperationStatus","BulkStatusDialogComponent","dialogRef","data","title","subTitle","columnTitle","message","details","length","close","Error","ProjectListView","ProjectView","ProjectRequest","ProjectListItemResponse","response","super","getResponseProperty","creationDate","revisionDate","read","write","ProjectResponse","ProjectService","cryptoService","apiService","encryptService","_project","Subject","project$","asObservable","getByProjectId","projectId","r","send","projectResponse","createProjectView","getProjects","results","createProjectsListView","create","projectView","request","getProjectRequest","project","update","delete","projects","projectIds","element","bulkOperationStatus","errorMessage","error","getOrganizationKey","getOrgKey","orgKey","encrypt","decryptToUtf8","Promise","all","s","projectListView","ProjectDeleteDialogComponent","projectService","i18nService","platformUtilsService","dialogService","formGroup","confirmDelete","matchConfirmationMessageValidator","submit","markAllAsTouched","invalid","dialogContent","t","dialogConfirmationLabel","dialogConfirmationMessage","bulkResponses","openBulkStatusDialog","showToast","bulkStatusResults","control","toLowerCase","confirmationDoesntMatchError","trimValidator","trim","setValue","OperationType","ProjectDialogComponent","router","validators","required","maxLength","updateOn","loading","organizationEnabled","getProjectView","operation","Add","newProject","createProject","navigate","updateProject","Edit","loadData","SecretListView","SecretProjectView","SecretView","SecretRequest","SecretProjectResponse","SecretListItemResponse","k","SecretWithProjectsListResponse","secrets","dr","SecretResponse","note","SecretService","_secret","secret$","getBySecretId","secretId","secretResponse","createSecretView","getSecrets","createSecretsListView","getSecretsByProject","secretView","getSecretRequest","secretIds","secret","getTrashedSecrets","deleteTrashed","restoreTrashed","key","encryptedString","e","push","decryptProjectsMappedToSecrets","projectsMappedToSecretsView","secretListView","p","includes","projectsMappedToSecretView","SecretDeleteDialogComponent","secretService","showSoftDeleteSecretWarning","submitButtonText","openDeleteSecretDialog","SecretDialogComponent","notes","newProjectName","destroy$","addNewProject","newProjectGuid","newGuid","getSecretView","getNewProjectView","createSecret","updateSecret","loadProjects","addNewProjectOptionToProjectsDropDown","removeValidators","updateValueAndValidity","disable","enable","filterByPermission","then","ngOnDestroy","complete","valueChanges","takeUntil","subscribe","dropDownSelected","unshift","addValidators","clearValidators","showSpinner","deleteButtonIsVisible","getSecretListView","lastValueFrom","closed","closeData","undefined","secretListViews","emptyProjects","ServiceAccountView","ServiceAccountSecretsDetailsView","ServiceAccountRequest","ServiceAccountResponse","ServiceAccountSecretsDetailsResponse","accessToSecrets","ServiceAccountService","_serviceAccount","serviceAccount$","getServiceAccounts","includeAccessToSecrets","URLSearchParams","set","createServiceAccountSecretsDetailsViews","getByServiceAccountId","serviceAccountId","createServiceAccountView","serviceAccountView","getServiceAccountRequest","serviceAccounts","ids","serviceAccount","sa","organizationKey","serviceAccountResponse","createServiceAccountSecretsDetailsView","view","serviceAccountResponses","ServiceAccountDialogComponent","serviceAccountService","getServiceAccountView","serviceAccountMessage","patchValue","newSecretEvent","editSecretEvent","copySecretNameEvent","copySecretValueEvent","restoreSecretsEvent","deleteSecretsEvent","$event","selection","copySecretUuidEvent","toggleAll","bulkRestoreSecrets","SecretsListComponent","_secrets","clear","dataSource","search","onSecretCheckedEvent","sortProjects","aProjects","bProjects","changed","_","selected","isAllSelected","filteredData","select","bulkDeleteSecrets","isSelected","static","copyToClipboard","copyToClipboardAsync","text","isSafari","navigator","clipboard","ClipboardItem","lock","logout","WebHeaderComponent","stateService","vaultTimeoutSettingsService","messagingService","hostname","location","routeData$","titleId","selfHosted","isSelfHost","account$","activeAccount$","accounts$","activeAccount","accounts","profile","canLock$","availableVaultTimeoutActions$","actions","Lock","NewMenuComponent","openSecretDialog","openProjectDialog","openServiceAccountDialog","newProjectEvent","editProjectEvent","deleteProject","ProjectsListComponent","_projects","deleteProjectEvent","hasWriteAccessOnSelected$","selectedHasWriteAccess","bulkDeleteProjects","some","OnboardingTaskComponent","completed","icon","handleClick","ev","OnboardingComponent","dismiss","visible","amountCompleted","tasks","task","barWidth","SectionComponent","openNewProjectDialog","hideOnboarding","openEditProject","openDeleteProjectDialog","openDeleteSecret","openNewSecretDialog","openEditSecret","copySecretName","copySecretValue","copySecretUuid","OverviewComponent","tableSize","showOnboarding","orgId$","distinctUntilChanged","orgId","organizationName","userIsAdmin","projects$","startWith","switchMap","share","secrets$","serviceAccounts$","view$","latestProjects","getRecentItems","latestSecrets","allProjects","allSecrets","saveCompletedTasks","importSecrets","createServiceAccount","take","Object","values","items","Date","getTime","slice","orgTasks","prevTasks","getSMOnboardingTasks","newlyCompletedOrgTasks","fromEntries","entries","_k","v","nextOrgTasks","setSMOnboardingTasks","routes","path","component","OverviewRoutingModule","forChild","OverviewModule","ApItemEnum","ApPermissionEnum","ApItemEnumUtil","type","User","Group","ServiceAccount","Project","ApPermissionEnumUtil","CanReadWrite","CanRead","permission","AccessPolicySelectorService","showAccessRemovalWarning","selectedPoliciesValues","organization","isOwner","selectedUserReadWritePolicy","currentUser","selectedGroupReadWritePolicies","currentUserInGroup","isAccessRemoval","current","isAnyCurrentIdNotInSelectedIds","currentIds","x","selectedIds","every","BaseAccessPolicyView","UserProjectAccessPolicyView","UserServiceAccountAccessPolicyView","GroupProjectAccessPolicyView","GroupServiceAccountAccessPolicyView","ServiceAccountProjectAccessPolicyView","ProjectAccessPoliciesView","ProjectPeopleAccessPoliciesView","ServiceAccountPeopleAccessPoliciesView","convertToAccessPolicyItemViews","accessPolicies","userAccessPolicies","policy","itemIcon","organizationUserId","accessPolicyId","labelName","organizationUserName","listName","toApPermissionEnum","userId","groupAccessPolicies","groupId","groupName","convertPotentialGranteesToApItemViewType","grantees","granteeView","isNullOrWhitespace","email","PotentialGranteeView","AccessPoliciesCreateRequest","PeopleAccessPoliciesRequest","BaseAccessPolicyResponse","UserProjectAccessPolicyResponse","grantedProjectId","UserServiceAccountAccessPolicyResponse","grantedServiceAccountId","GroupProjectAccessPolicyResponse","GroupServiceAccountAccessPolicyResponse","ServiceAccountProjectAccessPolicyResponse","serviceAccountName","grantedProjectName","ProjectAccessPoliciesResponse","serviceAccountAccessPolicies","AccessPolicyUpdateRequest","AccessPolicyRequest","GrantedPolicyRequest","PotentialGranteeResponse","ProjectPeopleAccessPoliciesResponse","ServiceAccountPeopleAccessPoliciesResponse","AccessPolicyService","_projectAccessPolicyChanges$","_serviceAccountGrantedPolicyChanges$","projectAccessPolicyChanges$","serviceAccountGrantedPolicyChanges$","refreshProjectAccessPolicyChanges","getGrantedPolicies","createServiceAccountProjectAccessPolicyViews","createGrantedPolicies","policies","getGrantedPoliciesCreateRequest","views","getProjectAccessPolicies","createProjectAccessPoliciesView","getProjectPeopleAccessPolicies","createProjectPeopleAccessPoliciesView","putProjectPeopleAccessPolicies","peoplePoliciesView","getPeopleAccessPoliciesRequest","getServiceAccountPeopleAccessPolicies","createServiceAccountPeopleAccessPoliciesView","putServiceAccountPeopleAccessPolicies","createProjectAccessPolicies","projectAccessPoliciesView","getAccessPoliciesCreateRequest","deleteAccessPolicy","updateAccessPolicy","baseAccessPolicyView","payload","projectAccessPoliciesResponse","ap","createUserProjectAccessPolicyView","createGroupProjectAccessPolicyView","createServiceAccountProjectAccessPolicyView","peopleAccessPoliciesResponse","createUserServiceAccountAccessPolicyView","createGroupServiceAccountAccessPolicyView","createRequest","userAccessPolicyRequests","getAccessPolicyRequest","groupAccessPolicyRequests","serviceAccountAccessPolicyRequests","createBaseAccessPolicyView","getPeoplePotentialGrantees","createPotentialGranteeViews","getServiceAccountsPotentialGrantees","getProjectsPotentialGrantees","granteeId","grantedId","responses","handleBlur","selectItems","selectionList","addButton","AccessPolicySelectorComponent","allItems","formArray","getRawValue","populateItems","m","formBuilder","item","initPermission","staticPermission","initialPermission","permissionControl","group","_itemComparator","bind","multiSelectFormGroup","multiSelect","permissionList","perm","labelId","registerOnChange","fn","notifyOnChange","registerOnTouched","notifyOnTouch","setDisabledState","isDisabled","disabled","writeValue","selectedItems","pauseChangeNotification","deselectAll","Array","isArray","selectItem","i","reset","collator","compare","provide","useExisting","multi","ProjectPeopleComponent","changeDetectorRef","validationService","accessPolicyService","accessPolicySelectorService","currentAccessPolicies$","catchError","E","potentialGrantees$","showWarning","setSelected","currentAccessPolicies","projectPeopleView","selectedPolicyValues","filtered","policyView","toRead","toWrite","convertToProjectPeopleAccessPoliciesView","peoplePoliciesViews","showError","potentialGrantees","policiesToSelect","detectChanges","openSimpleDialog","content","acceptButtonText","cancelButtonText","ProjectSecretsComponent","currentProjectEdited","combineLatestWith","AccessSelectorComponent","rows","sorted","userIcon","rows$","onCreateAccessPolicies","onDeleteAccessPolicy","onUpdateAccessPolicy","selectItems$","getPotentialGrantees","g","row","groupIcon","serviceAccountIcon","projectIcon","tap","firstValueFrom","granteeType","ProjectServiceAccountsComponent","handleUpdateAccessPolicy","getBaseAccessPolicyView","handleCreateAccessPolicies","getAccessItemType","handleDeleteAccessPolicy","openEditDialog","ProjectComponent","BulkConfirmationResult","BulkConfirmationDialogComponent","bulkConfirmationResult","ProjectsComponent","readOnlyProjects","writeProjects","getBulkConfirmationDetails","Continue","description","children","pathMatch","redirectTo","ProjectsRoutingModule","ProjectsModule","SecretsComponent","snapshot","SecretsRoutingModule","SecretsModule","AccessTokenRequest","RevokeAccessTokensRequest","AccessTokenCreationResponse","clientSecret","expireAt","AccessTokenResponse","scopes","AccessTokenView","AccessService","cryptoFunctionService","_accessTokenVersion","_accessToken","accessToken$","getAccessTokens","createAccessTokenViews","createAccessToken","accessTokenView","keyMaterial","aesGenerateKey","hkdf","encryptionKey","createAccessTokenRequest","result","b64Key","fromBufferToB64","revokeAccessTokens","accessTokenIds","accessTokenRequest","encryptedPayload","JSON","stringify","keyB64","accessTokenResponses","AccessTokenDialogComponent","disableClose","accessToken","copyAccessToken","ExpirationOptionsComponent","touched","form","datePipe","currentDate","expires","expireDateTime","expiresInFutureValidator","_onChange","_value","onTouched","getExpiresDate","validate","transform","setDate","getDate","Number","ValidationError","AccessTokenCreateDialogComponent","accessService","expirationDateControl","expirationDayOptions","openAccessTokenDialog","expirationDate","newAccessTokenEvent","revokeAccessTokensEvent","AccessListComponent","tokens","_tokens","revokeSelected","AccessTokenComponent","accessTokens$","revoke","verifyUser","openNewAccessTokenDialog","ref","confirmDescription","confirmButtonText","modalTitle","ServiceAccountEventLogApiService","getEvents","start","end","token","addEventParameters","base","indexOf","loadEvents","ServiceAccountEventsComponent","eventService","serviceAccountEventsApiService","exportService","logService","fileDownloadService","exportFileName","load","loaded","requestEvents","startDate","endDate","continuationToken","getUserName","exportEvents","ServiceAccountPeopleComponent","isFormInvalid","handleAccessRemovalWarning","updateServiceAccountPeopleAccessPolicies","handleAccessTokenAvailableWarning","selectedPolicies","serviceAccountPeopleView","convertToServiceAccountPeopleAccessPoliciesView","showAccessTokenStillAvailableWarning","ServiceAccountProjectsComponent","serviceAccountProjectAccessPolicyView","ServiceAccountComponent","onChange$","ServiceAccountDeleteDialogComponent","errors","newServiceAccountEvent","editServiceAccountEvent","ServiceAccountsListComponent","_serviceAccounts","deleteServiceAccountsEvent","onServiceAccountCheckedEvent","bulkDeleteServiceAccounts","ServiceAccountsComponent","openNewServiceAccountDialog","openEditServiceAccountDialog","openDeleteDialog","canActivate","ServiceAccountsRoutingModule","ServiceAccountsModule","SecretsManagerImportError","SecretsManagerImportRequest","SecretsManagerImportedProjectRequest","SecretsManagerImportedSecretRequest","SecretsManagerExportedProjectResponse","SecretsManagerExportedSecretResponse","SecretsManagerExportResponse","SecretsManagerExport","SecretsManagerExportProject","SecretsManagerExportSecret","SecretsManagerPortingApiService","export","decryptExport","import","fileContents","requestObject","parse","requestBody","encryptImport","errorResponse","handleServerError","importData","encryptedImport","exportData","decryptedExport","importResult","validationErrors","lines","index","itemType","match","SecretsManagerPortingService","getFileName","prefix","extension","locale","locale$","dateString","SecretsManagerExportComponent","smPortingService","secretsManagerApiService","exportFormats","fileExtension","format","doExport","orgName","downloadFile","fileName","download","blobData","blobOptions","SecretsManagerImportErrorDialogComponent","errorLines","SecretsManagerImportComponent","secretsManagerPortingApiService","pastedContents","fileElement","importContents","getImportContents","openImportErrorDialog","clearForm","files","getFileContents","setSelectedFile","fileInputEl","file","selectedFile","resolve","reject","reader","FileReader","readAsText","onload","evt","onerror","organizationPermissions","SettingsRoutingModule","SettingsModule","NoAccess","OrgSuspendedComponent","organizationName$","SecretHardDeleteDialogComponent","SecretRestoreDialogComponent","restore","TrashComponent","openRestoreSecret","TrashRoutingModule","TrashModule","state","syncService","authService","orgService","authGuard","getLastSync","fullSync","getAuthStatus","Unlocked","smOrg","getAll","o","outlet","loadChildren","SecretsManagerRoutingModule","SecretsManagerModule","SizeClasses","small","default","large","BackgroundClasses","danger","primary","success","warning","ProgressComponent","bgColor","showText","size","displayText","outerBarStyles","concat","innerBarStyles","textContent"],"sourceRoot":""}