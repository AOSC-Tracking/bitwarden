"use strict";(self.webpackChunk_bitwarden_web_vault=self.webpackChunk_bitwarden_web_vault||[]).push([[74],{51074:(n,t,e)=>{e.r(t),e.d(t,{OrganizationVaultExportModule:()=>G});var o=e(71146),i=e(75557),r=e(47064),u=e(82083),p=e(85958),a=e(65987),c=e(24852),l=e(76528),s=e(78627),d=e(99721),g=e(87483),f=e(83924),_=e(66459),Z=e(42304),m=e(98645),U=e(53481),x=e(73369),y=e(19419),w=e(24610),A=e(25376),b=e(53707),T=e(90258),h=e(24637),q=e(11512),v=e(54666),E=e(1e4),I=e(36179),P=e(44358),F=e(21656),O=e(82933),J=function(n,t,e,o){return new(e||(e=Promise))((function(i,r){function u(n){try{a(o.next(n))}catch(t){r(t)}}function p(n){try{a(o.throw(n))}catch(t){r(t)}}function a(n){var t;n.done?i(n.value):(t=n.value,t instanceof e?t:new e((function(n){n(t)}))).then(u,p)}a((o=o.apply(n,t||[])).next())}))};function C(n,t){1&n&&(c.TgZ(0,"app-callout",15),c.ALo(1,"i18n"),c._uU(2),c.ALo(3,"i18n"),c.qZA()),2&n&&(c.s9C("title",c.lcZ(1,2,"vaultExportDisabled")),c.xp6(2),c.hij("\n    ",c.lcZ(3,4,"personalVaultExportPolicyInEffect"),"\n  "))}function Y(n,t){if(1&n&&c._UZ(0,"app-export-scope-callout",16),2&n){const n=c.oxw(2);c.Q6J("organizationId",n.organizationId)}}function N(n,t){if(1&n&&(c.TgZ(0,"option",17),c._uU(1),c.qZA()),2&n){const n=t.$implicit;c.Q6J("value",n.value),c.xp6(1),c.Oqu(n.name)}}function Q(n,t){if(1&n){const n=c.EpF();c.ynx(0),c._uU(1,"\n          "),c.TgZ(2,"bit-form-field"),c._uU(3,"\n            "),c.TgZ(4,"bit-label"),c._uU(5),c.ALo(6,"i18n"),c.qZA(),c._uU(7,"\n            "),c._UZ(8,"input",28),c._uU(9,"\n            "),c.TgZ(10,"button",29),c.NdJ("toggledChange",(function(t){c.CHM(n);const e=c.oxw(3);return c.KtG(e.showFilePassword=t)})),c.qZA(),c._uU(11,"\n            "),c.TgZ(12,"bit-hint"),c._uU(13),c.ALo(14,"i18n"),c.qZA(),c._uU(15,"\n          "),c.qZA(),c._uU(16,"\n          "),c.TgZ(17,"bit-form-field"),c._uU(18,"\n            "),c.TgZ(19,"bit-label"),c._uU(20),c.ALo(21,"i18n"),c.qZA(),c._uU(22,"\n            "),c._UZ(23,"input",30),c._uU(24,"\n            "),c.TgZ(25,"button",29),c.NdJ("toggledChange",(function(t){c.CHM(n);const e=c.oxw(3);return c.KtG(e.showFilePassword=t)})),c.qZA(),c._uU(26,"\n          "),c.qZA(),c._uU(27,"\n        "),c.BQk()}if(2&n){const n=c.oxw(3);c.xp6(5),c.Oqu(c.lcZ(6,5,"filePassword")),c.xp6(5),c.Q6J("toggled",n.showFilePassword),c.xp6(3),c.Oqu(c.lcZ(14,7,"exportPasswordDescription")),c.xp6(7),c.Oqu(c.lcZ(21,9,"confirmFilePassword")),c.xp6(5),c.Q6J("toggled",n.showFilePassword)}}function z(n,t){if(1&n&&(c.ynx(0),c._uU(1,"\n        "),c.TgZ(2,"div",18),c._uU(3,"\n          "),c.TgZ(4,"label",19),c._uU(5),c.ALo(6,"i18n"),c.qZA(),c._uU(7,"\n\n          "),c.TgZ(8,"div",20),c._uU(9,"\n            "),c.TgZ(10,"div"),c._uU(11,"\n              "),c._UZ(12,"input",21),c._uU(13,"\n            "),c.qZA(),c._uU(14,"\n            "),c.TgZ(15,"div"),c._uU(16,"\n              "),c.TgZ(17,"label",22),c._uU(18),c.ALo(19,"i18n"),c.qZA(),c._uU(20,"\n            "),c.qZA(),c._uU(21,"\n          "),c.qZA(),c._uU(22,"\n\n          "),c.TgZ(23,"div",23),c._uU(24),c.ALo(25,"i18n"),c.qZA(),c._uU(26,"\n\n          "),c.TgZ(27,"div",24),c._uU(28,"\n            "),c.TgZ(29,"div"),c._uU(30,"\n              "),c._UZ(31,"input",25),c._uU(32,"\n            "),c.qZA(),c._uU(33,"\n            "),c.TgZ(34,"div"),c._uU(35,"\n              "),c.TgZ(36,"label",26),c._uU(37),c.ALo(38,"i18n"),c.qZA(),c._uU(39,"\n            "),c.qZA(),c._uU(40,"\n          "),c.qZA(),c._uU(41,"\n\n          "),c.TgZ(42,"div",27),c._uU(43),c.ALo(44,"i18n"),c.qZA(),c._uU(45,"\n        "),c.qZA(),c._uU(46,"\n        "),c._UZ(47,"br"),c._uU(48,"\n\n        "),c.YNc(49,Q,28,11,"ng-container",12),c._uU(50,"\n      "),c.BQk()),2&n){const n=c.oxw(2);c.xp6(5),c.hij("\n            ",c.lcZ(6,10,"exportTypeHeading"),"\n          "),c.xp6(7),c.Q6J("value",n.encryptedExportType.AccountEncrypted)("checked",n.fileEncryptionType===n.encryptedExportType.AccountEncrypted),c.xp6(6),c.hij("\n                ",c.lcZ(19,12,"accountRestricted"),"\n              "),c.xp6(6),c.hij("\n            ",c.lcZ(25,14,"accountRestrictedOptionDescription"),"\n          "),c.xp6(7),c.Q6J("value",n.encryptedExportType.FileEncrypted)("checked",n.fileEncryptionType===n.encryptedExportType.FileEncrypted),c.xp6(6),c.Oqu(c.lcZ(38,16,"passwordProtected")),c.xp6(6),c.hij("\n            ",c.lcZ(44,18,"passwordProtectedOptionDescription"),"\n          "),c.xp6(6),c.Q6J("ngIf",n.fileEncryptionType==n.encryptedExportType.FileEncrypted)}}const L=function(n){return{manual:n}};function j(n,t){if(1&n){const n=c.EpF();c.TgZ(0,"form",1,2),c.NdJ("ngSubmit",(function(){c.CHM(n);const t=c.oxw();return c.KtG(t.submit())})),c._uU(2,"\n  "),c.TgZ(3,"div",3),c._uU(4,"\n    "),c.TgZ(5,"h1"),c._uU(6),c.ALo(7,"i18n"),c.qZA(),c._uU(8,"\n  "),c.qZA(),c._uU(9,"\n\n  "),c.YNc(10,C,4,6,"app-callout",4),c._uU(11,"\n  "),c.YNc(12,Y,1,1,"app-export-scope-callout",5),c._uU(13,"\n\n  "),c.TgZ(14,"div",6),c._uU(15,"\n    "),c.TgZ(16,"div",7),c._uU(17,"\n      "),c.TgZ(18,"bit-form-field"),c._uU(19,"\n        "),c.TgZ(20,"bit-label",8),c._uU(21),c.ALo(22,"i18n"),c.qZA(),c._uU(23,"\n        "),c.TgZ(24,"select",9),c._uU(25,"\n          "),c.YNc(26,N,2,2,"option",10),c._uU(27,"\n        "),c.qZA(),c._uU(28,"\n      "),c.qZA(),c._uU(29,"\n    "),c.qZA(),c._uU(30,"\n  "),c.qZA(),c._uU(31,"\n  "),c.TgZ(32,"div",6),c._uU(33,"\n    "),c.TgZ(34,"div",11),c._uU(35,"\n      "),c.YNc(36,z,51,20,"ng-container",12),c._uU(37,"\n\n      "),c.TgZ(38,"button",13),c._uU(39,"\n        "),c._UZ(40,"i",14),c.ALo(41,"i18n"),c._uU(42,"\n        "),c.TgZ(43,"span"),c._uU(44),c.ALo(45,"i18n"),c.qZA(),c._uU(46,"\n      "),c.qZA(),c._uU(47,"\n    "),c.qZA(),c._uU(48,"\n  "),c.qZA(),c._uU(49,"\n"),c.qZA()}if(2&n){const n=c.MAs(1),t=c.oxw();c.Q6J("appApiAction",t.formPromise)("formGroup",t.exportForm),c.xp6(6),c.Oqu(c.lcZ(7,12,"exportVault")),c.xp6(4),c.Q6J("ngIf",t.disabledByPolicy),c.xp6(2),c.Q6J("ngIf",!t.disabledByPolicy),c.xp6(9),c.Oqu(c.lcZ(22,14,"fileFormat")),c.xp6(5),c.Q6J("ngForOf",t.formatOptions),c.xp6(10),c.Q6J("ngIf","encrypted_json"===t.format),c.xp6(2),c.Q6J("disabled",n.loading||t.disabledByPolicy)("ngClass",c.VKq(20,L,t.disabledByPolicy)),c.xp6(2),c.s9C("title",c.lcZ(41,16,"loading")),c.xp6(4),c.Oqu(c.lcZ(45,18,"confirmFormat"))}}class B extends a.Y{constructor(n,t,e,o,i,r,u,p,a,c,l,s){super(n,t,e,o,i,u,p,a,c,l,s),this.route=r}get disabledByPolicy(){return!1}ngOnInit(){const n=Object.create(null,{ngOnInit:{get:()=>super.ngOnInit}});return J(this,void 0,void 0,(function*(){this.route.parent.parent.params.subscribe((n=>J(this,void 0,void 0,(function*(){this.organizationId=n.organizationId})))),yield n.ngOnInit.call(this)}))}getExportData(){return this.isFileEncryptedExport?this.exportService.getPasswordProtectedExport(this.filePassword,this.organizationId):this.exportService.getOrganizationExport(this.organizationId,this.format)}getFileName(){return super.getFileName("org")}collectEvent(){return J(this,void 0,void 0,(function*(){yield this.eventCollectionService.collect(u.tw.Organization_ClientExportedVault,null,null,this.organizationId)}))}}B.ɵfac=function(n){return new(n||B)(c.Y36(l.$),c.Y36(s.D),c.Y36(d.P),c.Y36(p.qX),c.Y36(g.j),c.Y36(i.gz),c.Y36(f.d),c.Y36(_.$),c.Y36(Z.i),c.Y36(m.QS),c.Y36(U._),c.Y36(x.x))},B.ɵcmp=c.Xpm({type:B,selectors:[["app-org-export"]],features:[c.qOj],decls:4,vars:1,consts:[[3,"appApiAction","formGroup","ngSubmit",4,"ngIf"],[3,"appApiAction","formGroup","ngSubmit"],["form",""],[1,"page-header"],["type","error",3,"title",4,"ngIf"],[3,"organizationId",4,"ngIf"],[1,"row"],[1,"col-6"],["for","format",1,"tw-text-lg"],["bitInput","","name","format","formControlName","format"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-6"],[4,"ngIf"],["type","submit",1,"btn","btn-primary","btn-submit",3,"disabled","ngClass"],["aria-hidden","true",1,"bwi","bwi-spinner","bwi-spin",3,"title"],["type","error",3,"title"],[3,"organizationId"],[3,"value"],["role","radiogroup","aria-labelledby","exportTypeHeading"],["id","exportTypeHeading",1,"tw-semi-bold","tw-text-lg"],["appBoxRow","","name","FileTypeOptions",1,"tw-flex","tw-items-center"],["type","radio","name","fileEncryptionType","id","AccountEncrypted","formControlName","fileEncryptionType",1,"radio",3,"value","checked"],["for","AccountEncrypted",1,"tw-semi-bold","tw-text-md","tw-my-1","tw-ml-1"],[1,"tw-regular","ml-3","pb-2","tw-text-sm"],[1,"tw-flex","tw-items-center"],["type","radio","name","fileEncryptionType","id","FileEncrypted","formControlName","fileEncryptionType",1,"radio",3,"value","checked"],["for","FileEncrypted",1,"tw-semi-bold","tw-text-md","tw-my-1","tw-ml-1"],[1,"tw-regular","ml-3","tw-text-sm"],["bitInput","","type","password","id","filePassword","formControlName","filePassword","name","password"],["type","button","bitSuffix","","bitIconButton","","bitPasswordInputToggle","",3,"toggled","toggledChange"],["bitInput","","type","password","id","confirmFilePassword","formControlName","confirmFilePassword","name","confirmFilePassword"]],template:function(n,t){1&n&&(c._uU(0,"\n"),c._uU(1,"\n"),c.YNc(2,j,50,22,"form",0),c._uU(3,"\n")),2&n&&(c.xp6(2),c.Q6J("ngIf",t.exportForm))},dependencies:[y.mk,y.sg,y.O5,m._Y,m.YN,m.Kr,m.Fj,m.EJ,m._,m.JJ,m.JL,m.sg,m.u,w.b,A.$,b.O,T.N,h.d,q.G,v.w,E.e,I.u,P.M,F.Q,O.C],encapsulation:2});const k=[{path:"",component:B,canActivate:[r.G],data:{titleId:"exportVault",organizationPermissions:n=>n.canAccessImportExport}}];class S{}S.ɵfac=function(n){return new(n||S)},S.ɵmod=c.oAB({type:S}),S.ɵinj=c.cJS({imports:[i.Bz.forChild(k)]});class G{}G.ɵfac=function(n){return new(n||G)},G.ɵmod=c.oAB({type:G}),G.ɵinj=c.cJS({imports:[o.m,o.f,S]})}}]);
//# sourceMappingURL=74.8cb1484ca07c19d24964.js.map