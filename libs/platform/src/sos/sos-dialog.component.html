<bit-dialog title="SOS: {{ title }}" dialogSize="large">
  <ng-container bitDialogContent>
    <bit-sos-page-first *ngIf="state.page == 'first'"></bit-sos-page-first>
    <bit-sos-page-issue
      *ngIf="state.page == 'issue'"
      (selected)="goto($event)"
    ></bit-sos-page-issue>
    <bit-sos-page-external-site-select
      (selected)="loadAndGotoPage('analysis')"
      *ngIf="state.page == 'external-site-select'"
    ></bit-sos-page-external-site-select>
    <ng-container *ngIf="state.page == 'loading'">
      <div class="">
        <i class="bwi bwi-spinner bwi-lg bwi-spin" aria-hidden="true"></i>
      </div>
    </ng-container>
    <bit-sos-page-analysis *ngIf="state.page == 'analysis'"></bit-sos-page-analysis>
  </ng-container>
  <ng-container bitDialogFooter>
    <button bitButton type="button" buttonType="primary" (click)="next()">Next</button>
    <button bitButton type="button" buttonType="secondary">Cancel</button>
  </ng-container>
</bit-dialog>
